var f4=Object.defineProperty;var p4=(ze,st,Ji)=>st in ze?f4(ze,st,{enumerable:!0,configurable:!0,writable:!0,value:Ji}):ze[st]=Ji;var pn=(ze,st,Ji)=>(p4(ze,typeof st!="symbol"?st+"":st,Ji),Ji);(function(ze,st){typeof exports=="object"&&typeof module!="undefined"?st(exports):typeof define=="function"&&define.amd?define(["exports"],st):(ze=typeof globalThis!="undefined"?globalThis:ze||self,st(ze.PivotGridPlus={}))})(this,function(ze){"use strict";function st(){return st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},st.apply(this,arguments)}var Ji={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string","[object Null]":"null"},ui=function(e){var t=Object.prototype.toString.call(e);return typeof e=="object"?Ji[t]||"object":typeof e},ka=function(e){return typeof e=="boolean"},$c=function(e){return Re(e)&&e.toString().indexOf("e")!==-1},Pt=function(e){return ui(e)==="date"},P=function(e){return e!=null},he=function(e){return typeof e=="function"},Ae=function(e){return typeof e=="string"},Re=function(e){return typeof e=="number"&&isFinite(e)||!isNaN(e-parseFloat(e))},Be=function(e){return ui(e)==="object"},Vc=function(e){var t;for(t in e)return!1;return!0},De=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e),i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof i=="function"&&Object.toString.call(i)===Object.toString.call(Object)},_n=function(e){return["object","array","function"].indexOf(ui(e))===-1},nt=function(e){return e!=null&&e===e.window},ci=function(e){return!!(e.jquery||e.dxRenderer)},La=function(e){return e&&he(e.then)},Bo=function(e){return e&&he(e.done)&&he(e.fail)},zc=function(e){return!!(e&&e.preventDefault)},et=(e,t)=>{if(Array.isArray(e))return e.map(t);var i=[];for(var r in e)i.push(t(e[r],r));return i},M=(e,t)=>{if(!!e){if("length"in e)for(var i=0;i<e.length&&t.call(e[i],i,e[i])!==!1;i++);else for(var r in e)if(t.call(e[r],r,e[r])===!1)break;return e}},oy=function(){},Ro=function(e){return typeof console=="undefined"||!he(console[e])?oy:console[e].bind(console)},Pa={info:Ro("info"),warn:Ro("warn"),error:Ro("error")},Gc=function(e,t,i){e=e||{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];(!(r in e)||i)&&(e[r]=n)}return e},H=function e(t){t=t||{};var i=1,r=!1;for(typeof t=="boolean"&&(r=t,t=arguments[1]||{},i++);i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var a in n){var s=t[a],o=n[a],l=!1,d=void 0;a==="__proto__"||a==="constructor"||t===o||(r&&o&&(De(o)||(l=Array.isArray(o)))?(l?d=s&&Array.isArray(s)?s:[]:d=s&&De(s)?s:{},t[a]=e(r,d,o)):o!==void 0&&(t[a]=o))}}return t},Wc=function(){var e=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(t){return String(t).replace(e[0],"&amp;").replace(e[1],"&quot;").replace(e[2],"&#39;").replace(e[3],"&lt;").replace(e[4],"&gt;")}}(),ly=function(e){switch(typeof e){case"string":return e.split(/\s+/,4);case"object":return[e.x||e.h||e.left,e.y||e.v||e.top,e.x||e.h||e.right,e.y||e.v||e.bottom];case"number":return[e];default:return e}},dy=function(e){var t=ly(e),i=parseInt(t&&t[0],10),r=parseInt(t&&t[1],10),n=parseInt(t&&t[2],10),a=parseInt(t&&t[3],10);return isFinite(i)||(i=0),isFinite(r)||(r=i),isFinite(n)||(n=i),isFinite(a)||(a=r),{top:r,right:n,bottom:a,left:i}};function He(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return he(e)?e(...i):(i.forEach((n,a)=>{Ae(n)&&(n=n.replace(/\$/g,"$$$$"));var s=new RegExp("\\{"+a+"\\}","gm");e=e.replace(s,n)}),e)}var Mo=function(){var e=/\s/g;return function(t){return!t||!t.replace(e,"")}}(),uy="21.1.5",cy="http://js.devexpress.com/error/"+uy.split(".").slice(0,2).join("_")+"/";function Fo(e,t){var i={ERROR_MESSAGES:H(t,e),Error:function(){return s([].slice.call(arguments))},log:function(l){var d="log";/^E\d+$/.test(l)?d="error":/^W\d+$/.test(l)&&(d="warn"),Pa[d](d==="log"?l:r([].slice.call(arguments)))}};function r(l){var d=l[0];return l=l.slice(1),a(d,n(d,l))}function n(l,d){return d=[i.ERROR_MESSAGES[l]].concat(d),He.apply(this,d).replace(/\.*\s*?$/,"")}function a(l,d){return He.apply(this,[`{0} - {1}. See:
{2}`,l,d,o(l)])}function s(l){var d=l[0];l=l.slice(1);var u=n(d,l),c=o(d),h=a(d,u);return H(new Error(h),{__id:d,__details:u,url:c})}function o(l){return cy+l}return i}var Me=Fo({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' field of the 'onCustomItemCreating' function's parameter should contain a custom item or Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v.{2}. {3}.'}),hy=function(e,t,i){return function(){var r=this.callBase;this.callBase=e[t];try{return i.apply(this,arguments)}finally{this.callBase=r}}},fy=function(e){var t=function(){};return t.prototype=e.prototype,new t},py=function(e){var t,i,r;if(!e)return this;for(i in e)r=e[i],t=typeof this.prototype[i]=="function"&&typeof r=="function",this.prototype[i]=t?hy(this.parent.prototype,i,r):r;return this},_y=function(){var e=this,t,i,r,n=Object.prototype.hasOwnProperty.bind(e),a=!n("_includedCtors")&&!n("_includedPostCtors");for(a&&(e._includedCtors=e._includedCtors.slice(0),e._includedPostCtors=e._includedPostCtors.slice(0)),r=0;r<arguments.length;r++){t=arguments[r],t.ctor&&e._includedCtors.push(t.ctor),t.postCtor&&e._includedPostCtors.push(t.postCtor);for(i in t)i==="ctor"||i==="postCtor"||i==="default"||(e.prototype[i]=t[i])}return e},vy=function(e){var t=Object.prototype.hasOwnProperty.bind(this)("parent"),i=!t&&this.parent;if(i){var r=Object.getPrototypeOf(this);return r===e||r.subclassOf(e)}else return this.parent===e?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(e)},Uc=function(){throw Me.Error("E0001")},gy=function(){var e=Object.prototype.hasOwnProperty;return function(t,i){for(var r in t){if(!e.call(t,r))return;i[r]=t[r]}}}(),Ee=function(){};Ee.inherit=function(e){var t=function(){if(!this||nt(this)||typeof this.constructor!="function")throw Me.Error("E0003");var i=this,r=i.ctor,n=i.constructor._includedCtors,a=i.constructor._includedPostCtors,s;for(s=0;s<n.length;s++)n[s].call(i);for(r&&r.apply(i,arguments),s=0;s<a.length;s++)a[s].call(i)};return t.prototype=fy(this),gy(this,t),t.inherit=this.inherit,t.abstract=Uc,t.redefine=py,t.include=_y,t.subclassOf=vy,t.parent=this,t._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],t._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],t.prototype.constructor=t,t.redefine(e),t},Ee.abstract=Uc;function Ht(e){var t=Ee.inherit(e),i=t,r=new i(e),n={},a=function(s,o){M(s,function(l){he(r[l])?(o||!e[l])&&(e[l]=function(){return r[l].apply(e,arguments)}):(o&&(n[l]=e[l]),e[l]=r[l])})};return a(e,!0),e.inject=function(s){i=i.inherit(s),r=new i,a(s)},e.resetInjection=function(){H(e,n),i=t,r=new t},e}var vn=Ht({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(e){return e},unwrap:function(e){return e},assign:function(){Pa.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}}),my=function(e,t){var i=[],r,n;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.push(r);for(i.sort(function(a,s){var o=Re(a),l=Re(s);return o&&l?a-s:o&&!l?-1:!o&&l?1:a<s?-1:a>s?1:0}),n=0;n<i.length;n++)r=i[n],t(r,e[r])},xy=function(e,t,i,r){!r&&vn.isWrapped(e[t])?vn.assign(e[t],i):e[t]=i},Ba=function e(t,i,r,n){var a,s;for(var o in i)if(a=t[o],s=i[o],!(o==="__proto__"||o==="constructor"||t===s)){if(De(s)){var l=r?Be(a):De(a);s=e(l?a:{},s,r,n)}s!==void 0&&a!==s&&xy(t,o,s,n)}return t},Kc={rtlEnabled:!1,defaultCurrency:"USD",oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:e=>{e.trim().charAt(0)!=="{"&&(e="{"+e+"}");try{return new Function("return "+e)()}catch(t){throw Me.Error("E3018",t,e)}}},yy=["decimalSeparator","thousandsSeparator"],je=function(){if(!arguments.length)return Kc;var e=arguments.length<=0?void 0:arguments[0];yy.forEach(t=>{if(e[t]){var i="Now, the ".concat(t," is selected based on the specified locale.");Me.log("W0003","config",t,"19.2",i)}}),H(Kc,e)};typeof DevExpress!="undefined"&&DevExpress.config&&je(DevExpress.config);var Dr=Ee.inherit({ctor:function(e){e&&(e=String(e)),this._value=this._normalize(e||this._generate())},_normalize:function(e){for(e=e.replace(/[^a-f0-9]/gi,"").toLowerCase();e.length<32;)e+="0";return[e.substr(0,8),e.substr(8,4),e.substr(12,4),e.substr(16,4),e.substr(20,12)].join("-")},_generate:function(){for(var e="",t=0;t<32;t++)e+=Math.round(15*Math.random()).toString(16);return e},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),hi=function(e){this._options=e||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};hi.prototype._fireCore=function(e,t){var i=this._firingIndexes,r=this._list,n=this._options.stopOnFalse,a=i.length;for(i[a]=0;i[a]<r.length;i[a]++){var s=r[i[a]].apply(e,t);if(s===!1&&n)break}i.pop()},hi.prototype.add=function(e){return typeof e=="function"&&(!this._options.unique||!this.has(e))&&this._list.push(e),this},hi.prototype.remove=function(e){var t=this._list,i=this._firingIndexes,r=t.indexOf(e);if(r>-1&&(t.splice(r,1),this._firing&&i.length))for(var n=0;n<i.length;n++)r<=i[n]&&i[n]--;return this},hi.prototype.has=function(e){var t=this._list;return e?t.indexOf(e)>-1:!!t.length},hi.prototype.empty=function(e){return this._list=[],this},hi.prototype.fireWith=function(e,t){var i=this._queue;if(t=t||[],t=t.slice?t.slice():t,this._options.syncStrategy)this._firing=!0,this._fireCore(e,t);else{if(i.push([e,t]),this._firing)return;for(this._firing=!0;i.length;){var r=i.shift();this._fireCore(r[0],r[1])}}return this._firing=!1,this._fired=!0,this},hi.prototype.fire=function(){this.fireWith(this,arguments)},hi.prototype.fired=function(){return this._fired};var Le=function(e){return new hi(e)},jc=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],Or=function(){var e=this;this._state="pending",this._promise={},jc.forEach(function(t){var i=t.method;this[i+"Callbacks"]=new Le,this[i]=function(){return this[i+"With"](this._promise,arguments)}.bind(this),this._promise[t.handler]=function(r){if(!r)return this;var n=e[i+"Callbacks"];return n.fired()?r.apply(e[i+"Context"],e[i+"Args"]):n.add(function(a,s){r.apply(a,s)}.bind(this)),this}}.bind(this)),this._promise.always=function(t){return this.done(t).fail(t)},this._promise.catch=function(t){return this.then(null,t)},this._promise.then=function(t,i){var r=new Or;return["done","fail"].forEach(function(n){var a=n==="done"?t:i;this[n](function(){if(!a){r[n==="done"?"resolve":"reject"].apply(this,arguments);return}var s=a&&a.apply(this,arguments);Bo(s)?s.done(r.resolve).fail(r.reject):La(s)?s.then(r.resolve,r.reject):r.resolve.apply(this,P(s)?[s]:arguments)})}.bind(this)),r.promise()},this._promise.state=function(){return e._state},this._promise.promise=function(t){return t?H(t,e._promise):e._promise},this._promise.promise(this)};jc.forEach(function(e){var t=e.method,i=e.state;Or.prototype[t+"With"]=function(r,n){var a=this[t+"Callbacks"];return this.state()==="pending"&&(this[t+"Args"]=n,this[t+"Context"]=r,i&&(this._state=i),a.fire(r,n)),this}});function At(e,t){if(Bo(e))return e;if(La(e)){var i=new Or;return e.then(function(){i.resolveWith.apply(i,[t].concat([[].slice.call(arguments)]))},function(){i.rejectWith.apply(i,[t].concat([[].slice.call(arguments)]))}),i}return new Or().resolveWith(t,[e])}var Cy=function(){if(arguments.length===1)return At(arguments[0]);for(var e=[].slice.call(arguments),t=[],i=0,r=new Or,n=function(s){return function(o){t[s]=this,e[s]=arguments.length>1?[].slice.call(arguments):o,i++,i===e.length&&r.resolveWith(t,e)}},a=0;a<e.length;a++)Bo(e[a])?e[a].promise().done(n(a)).fail(r.reject):i++;return i===e.length&&r.resolveWith(t,e),r.promise()};function ee(){return new Or}function ye(){return Cy.apply(this,arguments)}var Sy=vn.unwrap,Xc=vn.isWrapped,Ey=vn.assign,qc=function(e){return e.replace(/\[/g,".").replace(/\]/g,"")},by=function(e,t,i){return i=i||{},gn(t==="this"?e:e[t],i)},Yc=function(e,t,i,r){if(t==="this")throw new Me.Error("E4016");var n=e[t];r.unwrapObservables&&Xc(n)?Ey(n,i):e[t]=i},Zc=function(e){return e=e||{},e.unwrapObservables=e.unwrapObservables!==void 0?e.unwrapObservables:!0,e};function gn(e,t){return t.unwrapObservables?Sy(e):e}var ct=function(e){if(arguments.length>1&&(e=[].slice.call(arguments)),!e||e==="this")return function(i){return i};if(typeof e=="string"){e=qc(e);var t=e.split(".");return function(i,r){r=Zc(r);for(var n=r.functionsAsIs,a=("defaultValue"in r),s=gn(i,r),o=0;o<t.length;o++){if(!s){if(s==null&&a)return r.defaultValue;break}var l=t[o];if(a&&Be(s)&&!(l in s))return r.defaultValue;var d=gn(s[l],r);!n&&he(d)&&(d=d.call(s)),s=d}return s}}if(Array.isArray(e))return Ty(e);if(he(e))return e};function Ty(e){for(var t={},i=0,r=e.length;i<r;i++){var n=e[i];t[n]=ct(n)}return function(a,s){var o;return M(t,function(l){var d=this(a,s);if(d!==void 0){for(var u=o||(o={}),c=l.split("."),h=c.length-1,f=0;f<h;f++){var g=c[f];g in u||(u[g]={}),u=u[g]}u[c[h]]=d}}),o}}var Jc=function(e,t,i,r){if(P(i))return i;var n={};return Yc(e,t,n,r),n},Qc=function(e){e=qc(e||"this").split(".");var t=e.length-1;return function(i,r,n){n=Zc(n);var a=gn(i,n);e.forEach(function(s,o){var l=by(a,s,n),d=!n.functionsAsIs&&he(l)&&!Xc(l);o===t?n.merge&&De(r)&&(!P(l)||De(l))?(l=Jc(a,s,l,n),Ba(l,r,!1,!0)):d?a[s](r):Yc(a,s,r,n):(l=Jc(a,s,l,n),d&&(l=l.call(a)),a=l)})}},Xe=function(e,t){return e instanceof Date?e.getTime():e&&e instanceof Ee&&e.valueOf?e.valueOf():!t&&typeof e=="string"?e.toLowerCase():e},$t=function(e,t){return P(e)?e:t},No=function(e,t){var i=new ee,r=t||this,n={promise:i.promise(),abort:function(){clearTimeout(s),i.rejectWith(r)}},a=function(){var o=e.call(r);o&&o.done&&he(o.done)?o.done(function(){i.resolveWith(r)}):i.resolveWith(r)},s=(arguments[2]||setTimeout)(a,typeof t=="number"?t:0);return n},Ho=[],eh=[],mn=[],kr,Ra=function(e,t,i){if(kr&&kr!==e)return Ho.push(t),eh.push(e),i=i||new ee,mn.push(i),i;var r=kr,n=mn.length;kr=e;var a=t();return a||(mn.length>n?a=ye.apply(this,mn.slice(n)):i&&i.resolve()),kr=r,i&&a&&a.done&&a.done(i.resolve).fail(i.reject),!kr&&Ho.length&&(eh.shift()==="render"?Qi:Lr)(Ho.shift(),mn.shift()),a||ye()},Qi=function(e,t){return Ra("render",e,t)},Lr=function(e,t){return Ra("update",e,t)},Pr=function(e){return function(){var t=this;return Ra("render",function(){return e.call(t)})}},th=function(e){return function(){var t=this;return Ra("update",function(){return e.call(t)})}},ih=function(e,t,i){var r=[],n=0;return M(t,(a,s)=>{var o=0,l=i?i(s):s;M(e,(d,u)=>{var c=l[d];if(c!==void 0){if(wy(c,u)){o++;return}return o=-1,!1}}),!(o<n)&&(o>n&&(r.length=0,n=o),r.push(s))}),r},wy=function(e,t){if(Array.isArray(e)&&Array.isArray(t)){var i=!1;return M(e,(r,n)=>{if(n!==t[r])return i=!0,!1}),!i}return e===t},Ma=function(e){var t,i;switch(ui(e)){case"string":return e.split(/\s+/,2);case"object":return[(t=e.x)!==null&&t!==void 0?t:e.h,(i=e.y)!==null&&i!==void 0?i:e.v];case"number":return[e];case"array":return e;default:return null}},$o=function(e,t){var i=Ma(e),r=t?parseFloat(i&&i[0]):parseInt(i&&i[0],10),n=t?parseFloat(i&&i[1]):parseInt(i&&i[1],10);return isFinite(r)||(r=0),isFinite(n)||(n=r),{h:r,v:n}},xn=function(e){if(e instanceof Dr)return e.toString();if(Be(e)||Array.isArray(e))try{var t=JSON.stringify(e);return t==="{}"?e:t}catch(i){return e}return e},Vo=function(e){return e.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},Q=function(){},rh=function(){return new ee().resolve().promise()},er=function(e,t,i){for(var r=[],n,a=!i,s=0;s<e.length;s++)n=!!t(e[s],s),n===a&&r.push(e[s]);return r},Iy=function(e,t,i){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!fi(e[r],t[r],i+1))return!1;return!0},Ay=function(e,t,i,r){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!fi(e[n],t[n],i+1,r))return!1;for(var a in t)if(!(a in e))return!1;return!0},Dy=3,fi=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;e=Xe(e,!0),t=Xe(t,!0);var n=r?e===t:e==t;return n||i>=Dy?!0:Be(e)&&Be(t)?Ay(e,t,i,r):Array.isArray(e)&&Array.isArray(t)?Iy(e,t,i):!1},Oy=1,ky=3,Ly=9,Py={querySelectorAll:(e,t)=>e.querySelectorAll(t),elementMatches(e,t){var i=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||(r=>{var n=e.document||e.ownerDocument;if(!n)return!1;for(var a=this.querySelectorAll(n,r),s=0;s<a.length;s++)if(a[s]===e)return!0});return i.call(e,t)},createElement(e,t){return t=t||this._document,t.createElement(e)},createElementNS(e,t,i){return i=i||this._document,i.createElementNS(e,t)},createTextNode(e,t){return t=t||this._document,t.createTextNode(e)},isNode:e=>e&&typeof e=="object"&&"nodeType"in e&&"nodeName"in e,isElementNode:e=>e&&e.nodeType===Oy,isTextNode:e=>e&&e.nodeType===ky,isDocument:e=>e&&e.nodeType===Ly,removeElement(e){var t=e&&e.parentNode;t&&t.removeChild(e)},insertElement(e,t,i){e&&t&&e!==t&&(i?e.insertBefore(t,i):e.appendChild(t))},getAttribute:(e,t)=>e.getAttribute(t),setAttribute(e,t,i){e.setAttribute(t,i)},removeAttribute(e,t){e.removeAttribute(t)},setProperty(e,t,i){e[t]=i},setText(e,t){e&&(e.textContent=t)},setClass(e,t,i){if(e.nodeType===1&&t)if(e.classList)i?e.classList.add(t):e.classList.remove(t);else{var r=typeof e.className=="string",n=r?e.className:this.getAttribute(e,"class")||"",a=n.split(" "),s=a.indexOf(t),o;i&&s<0&&(o=n?n+" "+t:t),!i&&s>=0&&(a.splice(s,1),o=a.join(" ")),o!==void 0&&(r?e.className=o:this.setAttribute(e,"class",o))}},setStyle(e,t,i){e.style[t]=i||""},_document:typeof document=="undefined"?void 0:document,getDocument(){return this._document},getActiveElement(){return this._document.activeElement},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(e){return e in this._document},listen(e,t,i,r){return!e||!("addEventListener"in e)?Q:(e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i)})}},re=Ht(Py),By=typeof window!="undefined",Te=()=>By,tr=Te()?window:void 0;tr||(tr={},tr.window=tr);var Oe=()=>tr,nh=e=>Te()&&e in tr,Br=()=>Te()?tr.navigator:{userAgent:""},Ry=Br(),My=/(webkit)[ /]([\w.]+)/,Fy=/(msie) (\d{1,2}\.\d)/,Ny=/(trident).*rv:(\d{1,2}\.\d)/,Hy=/(edge)\/((\d+)?[\w.]+)/,$y=/(mozilla)(?:.*? rv:([\w.]+))/,ah=function(e){e=e.toLowerCase();var t={},i=Fy.exec(e)||Ny.exec(e)||Hy.exec(e)||e.indexOf("compatible")<0&&$y.exec(e)||My.exec(e)||[],r=i[1],n=i[2];return r==="webkit"&&(t.webkit=!0,e.indexOf("chrome")>=0||e.indexOf("crios")>=0?(r="chrome",n=/(?:chrome|crios)\/(\d+\.\d+)/.exec(e),n=n&&n[1]):e.indexOf("fxios")>=0?(r="mozilla",n=/fxios\/(\d+\.\d+)/.exec(e),n=n&&n[1]):e.indexOf("safari")>=0&&/version|phantomjs/.test(e)?(r="safari",n=/(?:version|phantomjs)\/([0-9.]+)/.exec(e),n=n&&n[1]):(r="unknown",n=/applewebkit\/([0-9.]+)/.exec(e),n=n&&n[1])),(r==="trident"||r==="edge")&&(r="msie"),r&&(t[r]=!0,t.version=n),t},Fe=H({_fromUA:ah},ah(Ry.userAgent)),Vy=Fe.msie&&parseInt(Fe.version)<=11,zy=function(e){return Array.isArray(e)&&!e.length},Gy=function(e){return Array.isArray(e)?e:[e]},fe=function(e,t){if(!t)return-1;var i=Array.isArray(t)?t:t.toArray();return i.indexOf(e)},Wy=function(e){return Vy?e.filter(function(t,i){return e.indexOf(t)===i}):[...new Set(e)]},sh=function(e,t){if(!Array.isArray(e)||e.length===0)return[];var i=e.slice();return!Array.isArray(t)||t.length===0||M(t,function(r,n){var a=fe(n,i);i.splice(a,1)}),i},Uy=function(e,t,i,r){var n={},a=0,s=je().useLegacyVisibleIndex;return M(e,function(o,l){o=l[t],o>=0?(n[o]=n[o]||[],l===i?n[o].unshift(l):n[o].push(l)):l[t]=void 0}),s||M(e,function(){if(!P(this[t])&&(!r||r(this))){for(;n[a];)a++;n[a]=[this],a++}}),a=0,my(n,function(o,l){M(l,function(){o>=0&&(this[t]=a++)})}),s&&M(e,function(){!P(this[t])&&(!r||r(this))&&(this[t]=a++)}),a},Ky=function(e,t){for(var i=0;i<t.length;i++)e[e.length]=t[i];return e},Fa=function(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]},jy=(e,t)=>e.reduce((i,r)=>st({},i,{[t(r)]:[...i[t(r)]||[],r]}),{}),zo=Te()?Oe().WeakMap:WeakMap;zo||(zo=function(){var e=[],t=[];this.set=function(i,r){var n=fe(i,e);n===-1?(e.push(i),t.push(r)):t[n]=r},this.get=function(i){var r=fe(i,e);if(r!==-1)return t[r]},this.has=function(i){var r=fe(i,e);return r!==-1},this.delete=function(i){var r=fe(i,e);r!==-1&&(e.splice(r,1),t.splice(r,1))}});var Go=zo;class Wo{constructor(){this.memory=[],this.callbacks=Le()}add(t){M(this.memory,(i,r)=>t.apply(t,r)),this.callbacks.add(t)}remove(t){this.callbacks.remove(t)}fire(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];this.memory.push(i),this.callbacks.fire.apply(this.callbacks,i)}}var Uo=new Wo,Xy=["pageX","pageY","screenX","screenY","clientX","clientY"],qy=function(e,t){if(t[e]&&!t.touches||!t.touches)return t[e];var i=t.touches.length?t.touches:t.changedTouches;if(!!i.length)return i[0][e]};function Yy(e){Xy.forEach(function(t){e(t,function(i){return qy(t,i)})},this)}var Yt=function(e){var t,i=function(){return t=e.apply(this,arguments),i=function(){return t},t};return function(){return i.apply(this,arguments)}},Ko=Oe(),Na="dxEmptyEventType",oh={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},Zy={focusin:"focus",focusout:"blur"},Jy=["blur","focus","load"],lh=["touchmove","wheel","mousewheel","touchstart"];function Qy(e,t){return!nt(e)&&e.nodeName!=="#document"&&re.elementMatches(e,t)}var jo=new Go,dh=0,Ha,Di=function(){var e={};return Uo.add(function(t,i){e[t]=i}),{getField:function(t,i){return e[t]&&e[t][i]},callMethod:function(t,i,r,n){return e[t]&&e[t][i]&&e[t][i].apply(r,n)}}}(),F=Ht({on:yn(qo(ph(function(e,t,i,r,n){var a=Rr(e,t);a.addHandler(n,i,r)}))),one:yn(qo(function(e,t,i,r,n){F.on(e,t,i,r,function a(){F.off(e,t,i,a),n.apply(this,arguments)})})),off:yn(iC(ph(function(e,t,i,r){var n=Rr(e,t);n.removeHandler(r,i)}))),trigger:yn(fh(function(e,t,i){var r=t.type,n=Rr(e,t.type);Di.callMethod(r,"trigger",e,[t,i]),n.callHandlers(t,i);var a=Di.getField(r,"noBubble")||t.isPropagationStopped()||Jy.indexOf(r)!==-1;if(!a){var s=[];(function d(u){var c=u.parentNode;c&&(s.push(c),d(c))})(e),s.push(Ko);for(var o=0;s[o]&&!t.isPropagationStopped();){var l=Rr(s[o],t.type);l.callHandlers(H(t,{currentTarget:s[o]}),i),o++}}(e.nodeType||nt(e))&&(Di.callMethod(r,"_default",e,[t,i]),nC(r,e))})),triggerHandler:yn(fh(function(e,t,i){var r=Rr(e,t.type);r.callHandlers(t,i)}))});function Xo(e,t){var i=e[0];if(!!i)if(re.isNode(i)||nt(i))t.apply(F,e);else if(!Ae(i)&&"length"in i){var r=Array.prototype.slice.call(e,0);Array.prototype.forEach.call(i,function(n){r[0]=n,Xo(r,t)})}else throw Me.Error("E0025")}function yn(e){return function(){Xo(arguments,e)}}function eC(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});Ko.addEventListener("test",null,t)}catch(i){}return e}var uh=Yt(eC),ch=(e,t)=>nt(e)?ch(e.document,t):e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&t.DOCUMENT_POSITION_CONTAINS);function Rr(e,t){var i=jo.get(e);t=t||"";var r=t.split("."),n=r.slice(1),a=!!r[0];t=r[0]||Na,i||(i={},jo.set(e,i)),i[t]||(i[t]={handleObjects:[],nativeHandler:null});var s=i[t];return{addHandler:function(o,l,d){var u=function(S,C){var T=[S],D=S.currentTarget,b=S.relatedTarget,m,x;t in oh&&(m=b&&D&&(b===D||ch(D,b))),C!==void 0&&T.push(C),Di.callMethod(t,"handle",e,[S,d]),m||(x=o.apply(D,T)),x===!1&&(S.preventDefault(),S.stopPropagation())},c={handler:o,wrappedHandler:function(S,C){if(!(Ha&&S.type===Ha))if(S.data=d,S.delegateTarget=e,l)for(var T=S.target;T&&T!==e;)Qy(T,l)&&(S.currentTarget=T,u(S,C)),T=T.parentNode;else S.currentTarget=S.delegateTarget||S.target,u(S,C)},selector:l,type:t,data:d,namespace:n.join("."),namespaces:n,guid:++dh};s.handleObjects.push(c);var h=s.handleObjects.length===1,f=h&&a,g;f&&(f=!Di.callMethod(t,"setup",e,[d,n,o])),f&&(s.nativeHandler=tC(t),uh()&&lh.indexOf(t)>-1&&(g={passive:!1}),s.removeListener=re.listen(e,oh[t]||t,s.nativeHandler,g)),Di.callMethod(t,"add",e,[c])},removeHandler:function(o,l){var d=function(h){var f=i[h];if(!f.handleObjects.length){delete i[h];return}var g;f.handleObjects=f.handleObjects.filter(function(T){var D=n.length&&!hh(T.namespaces,n)||o&&T.handler!==o||l&&T.selector!==l;return D||(g=T.handler,Di.callMethod(h,"remove",e,[T])),D});var S=!f.handleObjects.length,C=S&&h!==Na;C&&(Di.callMethod(h,"teardown",e,[n,g]),f.nativeHandler&&f.removeListener(),delete i[h])};if(a)d(t);else for(var u in i)d(u);var c=Object.keys(i).length===0;c&&jo.delete(e)},callHandlers:function(o,l){var d=!1,u=function(c){d||(!n.length||hh(c.namespaces,n))&&(c.wrappedHandler(o,l),d=o.isImmediatePropagationStopped())};s.handleObjects.forEach(u),n.length&&i[Na]&&i[Na].handleObjects.forEach(u)}}}function tC(e){return function(t,i){var r=Rr(this,e);t=F.Event(t),r.callHandlers(t,i)}}function hh(e,t){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])<0)return!1;return!0}function qo(e){return function(t,i,r,n,a){a||(a=n,n=void 0),typeof r!="string"&&(n=r,r=void 0),!a&&typeof i=="string"&&(a=n||r,r=void 0,n=void 0),e(t,i,r,n,a)}}function iC(e){return function(t,i,r,n){typeof r=="function"&&(n=r,r=void 0),e(t,i,r,n)}}function fh(e){return function(t,i,r){typeof i=="string"&&(i={type:i}),i.target||(i.target=t),i.currentTarget=t,i.delegateTarget||(i.delegateTarget=t),!i.type&&i.originalEvent&&(i.type=i.originalEvent.type),e(t,i instanceof F.Event?i:F.Event(i),r)}}function rC(e){return function(t,i){if(!(this instanceof F.Event))return new F.Event(t,i);t||(t={}),typeof t=="string"&&(t={type:t}),i||(i={}),e.call(this,t,i)}}function ph(e){var t=function(i,r){if(r&&r.indexOf(" ")>-1){var n=Array.prototype.slice.call(arguments,0);r.split(" ").forEach(function(a){n[1]=a,e.apply(this,n)})}else e.apply(this,arguments)};return function(i,r){if(typeof r=="object"){var n=Array.prototype.slice.call(arguments,0);for(var a in r)n[1]=a,n[n.length-1]=r[a],t.apply(this,n)}else t.apply(this,arguments)}}function nC(e,t){var i=Zy[e]||e;(function(r,n){return r==="click"&&n.localName==="a"})(e,t)||he(t[i])&&(Ha=e,t[i](),Ha=void 0)}function aC(e){return function(t){return t.which==null&&t.type.indexOf("key")===0}(e)?e.charCode!=null?e.charCode:e.keyCode:function(t){return!t.which&&t.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(t.type)}(e)?{1:1,2:3,3:1,4:2}[e.button]:e.which}function _h(e){e&&(F.Event=e,F.Event.prototype=e.prototype)}_h(rC(function(e,t){var i=this,r=!1,n=!1,a=!1;H(i,e),(e instanceof F.Event||Te()&&e instanceof Ko.Event)&&(i.originalEvent=e,i.currentTarget=void 0),e instanceof F.Event||H(i,{isPropagationStopped:function(){return!!(r||i.originalEvent&&i.originalEvent.propagationStopped)},stopPropagation:function(){r=!0,i.originalEvent&&i.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return n},stopImmediatePropagation:function(){this.stopPropagation(),n=!0,i.originalEvent&&i.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(a||i.originalEvent&&i.originalEvent.defaultPrevented)},preventDefault:function(){a=!0,i.originalEvent&&i.originalEvent.preventDefault()}}),vh("which",aC,i),e.type.indexOf("touch")===0&&(delete t.pageX,delete t.pageY),H(i,t),i.guid=++dh}));function vh(e,t,i){Object.defineProperty(i||F.Event.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&t(this.originalEvent)},set:function(r){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}})}Yy(vh);var gh=Le(),mh=Le();F.set=function(e){gh.fire(),F.inject(e),_h(e.Event),mh.fire()},F.subscribeGlobal=function(){Xo(arguments,qo(function(){var e=arguments;F.on.apply(this,e),gh.add(function(){var t=Array.prototype.slice.call(e,0);t.splice(3,1),F.off.apply(this,t)}),mh.add(function(){F.on.apply(this,e)})}))},F.forcePassiveFalseEventNames=lh,F.passiveEventHandlersSupported=uh;var Cn=new Go,ir,sC=new Wo,xh=function(){},oC=function(e){sC.fire(e),ir=e;var t=ir.cleanData;ir.cleanData=function(i){xh(i);var r=t.call(this,i);return r}};oC({data:function(){var e=arguments[0],t=arguments[1],i=arguments[2];if(!!e){var r=Cn.get(e);return r||(r={},Cn.set(e,r)),t===void 0?r:arguments.length===2?r[t]:(r[t]=i,i)}},removeData:function(e,t){if(!!e)if(t===void 0)Cn.delete(e);else{var i=Cn.get(e);i&&delete i[t]}},cleanData:function(e){for(var t=0;t<e.length;t++)F.off(e[t]),Cn.delete(e[t])}});function qe(){return ir.data.apply(this,arguments)}function lC(e){xh=e}function $a(e,t){return ir.removeData.call(this,e,t)}function Va(e,t){if(!!re.isElementNode(e)){var i=e.getElementsByTagName("*");ir.cleanData(i),t&&ir.cleanData([e])}}var yh=function(e){return e==null?"":String(e)},Yo=function(e){return yh(e).charAt(0).toUpperCase()+e.substr(1)},Zo=function(e){return yh(e).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},Ch=function(e){return et(Zo(e),function(t){return t.toLowerCase()}).join("-")},za=function(e,t){return et(Zo(e),function(i,r){return i=i.toLowerCase(),(t||r>0)&&(i=Yo(i)),i}).join("")},dC=function(e){return Yo(Ch(e).replace(/-/g," "))},Jo=function(e){return et(Zo(e),function(t){return Yo(t.toLowerCase())}).join(" ")},Ga=["","Webkit","Moz","O","Ms"],uC={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},Qo=Yt(function(){return re.createElement("dx").style}),cC=function(e,t){e=za(e,!0);for(var i,r=0,n=Ga.length;r<n;r++){var a=Ga[r],s=a+e,o=za(s);if(i=t(o,a),i===void 0&&(i=t(s,a)),i!==void 0)break}return i||""},Mr=function(e){if(e in Qo())return e;var t=e;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=1;i<Ga.length;i++){var r=Ga[i].toLowerCase()+e;if(r in Qo())return r}return t},hC=function(e){return cC(e,function(t,i){if(t in Qo())return uC[i]})},fC=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],pC=function(e,t){return Re(t)&&fC.indexOf(e)===-1&&(t+="px"),t},Sh=Oe(),_C=["auto","none","inherit","initial"],el=function(e,t){var i=0;return t.forEach(function(r){i+=parseFloat(e[r])||0}),i},tl=function(e,t){var i=e==="width"?"Left":"Top",r=e==="width"?"Right":"Bottom";return{padding:el(t,["padding"+i,"padding"+r]),border:el(t,["border"+i+"Width","border"+r+"Width"]),margin:el(t,["margin"+i,"margin"+r])}},vC=function(e,t,i){var r=t[e];return t.boxSizing==="border-box"&&r.length&&r[r.length-1]!=="%"?i.border+i.padding:0},il=function(e,t,i){var r=Sh.getComputedStyle(e),n=tl(t,r),a=e.getClientRects().length,s=e.getBoundingClientRect()[t],o=a?s:0;return o<=0?(o=parseFloat(r[t]||e.style[t])||0,o-=vC(t,r,n)):o-=n.padding+n.border,i.paddings&&(o+=n.padding),i.borders&&(o+=n.border),i.margins&&(o+=n.margin),o},gC=function(e){return nt(e)?e.innerHeight:e.offsetHeight},mC=function(e,t){return e.indexOf("px")>0?e=parseInt(e.replace("px","")):e.indexOf("%")>0?e=parseInt(e.replace("%",""))*gC(t)/100:isNaN(e)||(e=parseInt(e)),e},Eh=function(e,t,i){if(!e)return null;if(_C.indexOf(e)>-1)return t?null:e;if(Ae(e)&&(e=mC(e,i)),Re(e))return Math.max(0,e+t);var r=t<0?" - ":" ";return"calc("+e+r+Math.abs(t)+"px)"},xC=function(e,t,i){var r=Eh(e,t,i);return r!==null?r:"none"},yC=function(e,t,i){var r=Eh(e,t,i);return r!==null?r:0},rl=function(e,t){if(!e)return 0;var i=tl("height",Sh.getComputedStyle(e));return i.padding+i.border+(t?i.margin:0)},bh=function(e){if(e){var t=e.getBoundingClientRect();if(t.height)return t.height}return 0},Th=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,Zt={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};Zt.tbody=Zt.colgroup=Zt.caption=Zt.tfoot=Zt.thead,Zt.th=Zt.td;var nl=function(e){if(typeof e!="string")return null;var t=re.createDocumentFragment(),i=t.appendChild(re.createElement("div")),r=Th.exec(e),n=r&&r[1].toLowerCase(),a=Zt[n]||Zt.default;i.innerHTML=a.startTags+e+a.endTags;for(var s=0;s<a.tagsCount;s++)i=i.lastChild;return Ky([],i.childNodes)},CC=function(e){var t=Th.exec(e);return t&&t[1]in Zt},wh=Oe(),we,ge=function(e,t){return e?typeof e=="string"?e==="body"?(this[0]=t?t.body:re.getBody(),this.length=1,this):(t=t||re.getDocument(),e[0]==="<"?(this[0]=re.createElement(e.slice(1,-1),t),this.length=1,this):([].push.apply(this,re.querySelectorAll(t,e)),this)):re.isNode(e)||nt(e)?(this[0]=e,this.length=1,this):Array.isArray(e)?([].push.apply(this,e),this):we(e.toArray?e.toArray():[e]):(this.length=0,this)};we=function(e,t){return new ge(e,t)},we.fn={dxRenderer:!0},ge.prototype=we.fn;var rr=function(e,t){for(var i=0;i<this.length;i++){var r=we(this[i]);r[e].apply(r,t)}return this},al=function(e,t,i){i!=null?re.setAttribute(e,t,i):re.removeAttribute(e,t)};ge.prototype.show=function(){return this.toggle(!0)},ge.prototype.hide=function(){return this.toggle(!1)},ge.prototype.toggle=function(e){return this[0]&&this.toggleClass("dx-state-invisible",!e),this},ge.prototype.attr=function(e,t){if(this.length>1&&arguments.length>1)return rr.call(this,"attr",arguments);if(!this[0])return Be(e)||t!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(e,t);if(typeof e=="string"&&arguments.length===1){var i=this[0].getAttribute(e);return i==null?void 0:i}else if(De(e))for(var r in e)this.attr(r,e[r]);else al(this[0],e,t);return this},ge.prototype.removeAttr=function(e){return this[0]&&re.removeAttribute(this[0],e),this},ge.prototype.prop=function(e,t){if(!this[0])return this;if(typeof e=="string"&&arguments.length===1)return this[0][e];if(De(e))for(var i in e)this.prop(i,e[i]);else re.setProperty(this[0],e,t);return this},ge.prototype.addClass=function(e){return this.toggleClass(e,!0)},ge.prototype.removeClass=function(e){return this.toggleClass(e,!1)},ge.prototype.hasClass=function(e){if(!this[0]||this[0].className===void 0)return!1;for(var t=e.split(" "),i=0;i<t.length;i++)if(this[0].classList){if(this[0].classList.contains(t[i]))return!0}else{var r=Ae(this[0].className)?this[0].className:re.getAttribute(this[0],"class");if((r||"").split(" ").indexOf(t[i])>=0)return!0}return!1},ge.prototype.toggleClass=function(e,t){if(this.length>1)return rr.call(this,"toggleClass",arguments);if(!this[0]||!e)return this;t=t===void 0?!this.hasClass(e):t;for(var i=e.split(" "),r=0;r<i.length;r++)re.setClass(this[0],i[r],t);return this},["width","height","outerWidth","outerHeight","innerWidth","innerHeight"].forEach(function(e){var t=e.toLowerCase().indexOf("width")>=0?"Width":"Height",i=t.toLowerCase(),r=e.indexOf("outer")===0,n=e.indexOf("inner")===0;ge.prototype[e]=function(a){if(this.length>1&&arguments.length>0)return rr.call(this,e,arguments);var s=this[0];if(!!s){if(nt(s))return r?s["inner"+t]:re.getDocumentElement()["client"+t];if(re.isDocument(s)){var o=re.getDocumentElement(),l=re.getBody();return Math.max(l["scroll"+t],l["offset"+t],o["scroll"+t],o["offset"+t],o["client"+t])}if(arguments.length===0||typeof a=="boolean"){var d={paddings:n||r,borders:r,margins:a};return il(s,i,d)}if(a==null)return this;if(Re(a)){var u=wh.getComputedStyle(s),c=tl(i,u),h=u.boxSizing==="border-box";a=Number(a),r?a-=h?0:c.border+c.padding:n?a+=h?c.border:-c.padding:h&&(a+=c.border+c.padding)}return a+=Re(a)?"px":"",re.setStyle(s,i,a),this}}}),ge.prototype.html=function(e){return arguments.length?(this.empty(),typeof e=="string"&&!CC(e)||typeof e=="number"?(this[0].innerHTML=e,this):this.append(nl(e))):this[0].innerHTML};var Ih=function(e,t){if(!(!this[0]||!e)){typeof e=="string"?e=nl(e):e.nodeType?e=[e]:Re(e)&&(e=[re.createTextNode(e)]);for(var i=0;i<e.length;i++){var r=e[i],n=this[0],a=n.tagName==="TABLE"&&r.tagName==="TR";a&&n.tBodies&&n.tBodies.length&&(n=n.tBodies[0]),re.insertElement(n,r.nodeType?r:r[0],t)}}},Ah=function(e,t){if(!(!this[0]||!this[0].style)&&!(t===null||typeof t=="number"&&isNaN(t))){e=Mr(e);for(var i=0;i<this.length;i++)this[i].style[e]=pC(e,t)}};ge.prototype.css=function(e,t){if(Ae(e))if(arguments.length===2)Ah.call(this,e,t);else{if(!this[0])return;e=Mr(e);var i=wh.getComputedStyle(this[0])[e]||this[0].style[e];return Re(i)?i.toString():i}else if(De(e))for(var r in e)Ah.call(this,r,e[r]);return this},ge.prototype.prepend=function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.prepend(arguments[t]);return this}return Ih.apply(this,[e,this[0].firstChild]),this},ge.prototype.append=function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.append(arguments[t]);return this}return Ih.apply(this,[e]),this},ge.prototype.prependTo=function(e){if(this.length>1){for(var t=this.length-1;t>=0;t--)we(this[t]).prependTo(e);return this}return e=we(e),e[0]&&re.insertElement(e[0],this[0],e[0].firstChild),this},ge.prototype.appendTo=function(e){return this.length>1?rr.call(this,"appendTo",arguments):(re.insertElement(we(e)[0],this[0]),this)},ge.prototype.insertBefore=function(e){return e&&e[0]&&re.insertElement(e[0].parentNode,this[0],e[0]),this},ge.prototype.insertAfter=function(e){return e&&e[0]&&re.insertElement(e[0].parentNode,this[0],e[0].nextSibling),this},ge.prototype.before=function(e){return this[0]&&re.insertElement(this[0].parentNode,e[0],this[0]),this},ge.prototype.after=function(e){return this[0]&&re.insertElement(this[0].parentNode,e[0],this[0].nextSibling),this},ge.prototype.wrap=function(e){if(this[0]){var t=we(e);t.insertBefore(this),t.append(this)}return this},ge.prototype.wrapInner=function(e){var t=this.contents();return t.length?t.wrap(e):this.append(e),this},ge.prototype.replaceWith=function(e){if(!!(e&&e[0]))return e.is(this)?this:(e.insertBefore(this),this.remove(),e)},ge.prototype.remove=function(){return this.length>1?rr.call(this,"remove",arguments):(Va(this[0],!0),re.removeElement(this[0]),this)},ge.prototype.detach=function(){return this.length>1?rr.call(this,"detach",arguments):(re.removeElement(this[0]),this)},ge.prototype.empty=function(){return this.length>1?rr.call(this,"empty",arguments):(Va(this[0]),re.setText(this[0],""),this)},ge.prototype.clone=function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t].cloneNode(!0));return we(e)},ge.prototype.text=function(e){if(!arguments.length){for(var t="",i=0;i<this.length;i++)t+=this[i]&&this[i].textContent||"";return t}var r=he(e)?e():e;return Va(this[0],!1),re.setText(this[0],P(r)?r:""),this},ge.prototype.val=function(e){return arguments.length===1?this.prop("value",P(e)?e:""):this.prop("value")},ge.prototype.contents=function(){if(!this[0])return we();var e=[];return e.push.apply(e,this[0].childNodes),we(e)},ge.prototype.find=function(e){var t=we();if(!e)return t;var i=[],r;if(typeof e=="string")for(e=e.trim(),r=0;r<this.length;r++){var n=this[r];if(re.isElementNode(n)){var a=n.getAttribute("id"),s=a||"dx-query-children";a||al(n,"id",s),s="[id='"+s+"'] ";var o=s+e.replace(/([^\\])(,)/g,"$1, "+s);i.push.apply(i,re.querySelectorAll(n,o)),al(n,"id",a)}else re.isDocument(n)&&i.push.apply(i,re.querySelectorAll(n,e))}else for(r=0;r<this.length;r++)e=re.isNode(e)?e:e[0],this[r]!==e&&this[r].contains(e)&&i.push(e);return t.add(i)};var Dh=function(e,t){return t.nodeType?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!0};ge.prototype.filter=function(e){if(!e)return we();if(e===":visible")return this.filter(Dh);if(e===":hidden")return this.filter(function(a,s){return!Dh(a,s)});for(var t=[],i=0;i<this.length;i++){var r=this[i];if(re.isElementNode(r)&&ui(e)==="string")re.elementMatches(r,e)&&t.push(r);else if(re.isNode(e)||nt(e))e===r&&t.push(r);else if(he(e))e.call(r,i,r)&&t.push(r);else for(var n=0;n<e.length;n++)e[n]===r&&t.push(r)}return we(t)},ge.prototype.not=function(e){for(var t=[],i=this.filter(e).toArray(),r=0;r<this.length;r++)i.indexOf(this[r])===-1&&t.push(this[r]);return we(t)},ge.prototype.is=function(e){return!!this.filter(e).length},ge.prototype.children=function(e){for(var t=[],i=0;i<this.length;i++)for(var r=this[i]?this[i].childNodes:[],n=0;n<r.length;n++)re.isElementNode(r[n])&&t.push(r[n]);return t=we(t),e?t.filter(e):t},ge.prototype.siblings=function(){var e=this[0];if(!e||!e.parentNode)return we();for(var t=[],i=e.parentNode.childNodes||[],r=0;r<i.length;r++){var n=i[r];re.isElementNode(n)&&n!==e&&t.push(n)}return we(t)},ge.prototype.each=function(e){for(var t=0;t<this.length&&e.call(this[t],t,this[t])!==!1;t++);},ge.prototype.index=function(e){return e?(e=we(e),this.toArray().indexOf(e[0])):this.parent().children().index(this)},ge.prototype.get=function(e){return this[e<0?this.length+e:e]},ge.prototype.eq=function(e){return e=e<0?this.length+e:e,we(this[e])},ge.prototype.first=function(){return this.eq(0)},ge.prototype.last=function(){return this.eq(-1)},ge.prototype.parent=function(e){if(!this[0])return we();var t=we(this[0].parentNode);return!e||t.is(e)?t:we()},ge.prototype.parents=function(e){for(var t=[],i=this.parent();i&&i[0]&&!re.isDocument(i[0]);)re.isElementNode(i[0])&&(!e||i.is(e))&&t.push(i.get(0)),i=i.parent();return we(t)},ge.prototype.closest=function(e){if(this.is(e))return this;for(var t=this.parent();t&&t.length;){if(t.is(e))return t;t=t.parent()}return we()},ge.prototype.next=function(e){if(!this[0])return we();var t=we(this[0].nextSibling);if(!arguments.length)return t;for(;t&&t.length;){if(t.is(e))return t;t=t.next()}return we()},ge.prototype.prev=function(){return this[0]?we(this[0].previousSibling):we()},ge.prototype.add=function(e){for(var t=we(e),i=this.toArray(),r=0;r<t.length;r++){var n=t[r];i.indexOf(n)===-1&&i.push(n)}return we(i)};var sl=[];ge.prototype.splice=function(){return we(sl.splice.apply(this,arguments))},ge.prototype.slice=function(){return we(sl.slice.apply(this,arguments))},ge.prototype.toArray=function(){return sl.slice.call(this)};var Oh=function(e){return nt(e)?e:e.defaultView};ge.prototype.offset=function(){if(!!this[0]){if(!this[0].getClientRects().length)return{top:0,left:0};var e=this[0].getBoundingClientRect(),t=Oh(this[0].ownerDocument),i=this[0].ownerDocument.documentElement;return{top:e.top+t.pageYOffset-i.clientTop,left:e.left+t.pageXOffset-i.clientLeft}}},ge.prototype.offsetParent=function(){if(!this[0])return we();for(var e=we(this[0].offsetParent);e[0]&&e.css("position")==="static";)e=we(e[0].offsetParent);return e=e[0]?e:we(re.getDocumentElement()),e},ge.prototype.position=function(){if(!!this[0]){var e,t=parseFloat(this.css("marginTop")),i=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return e=this[0].getBoundingClientRect(),{top:e.top-t,left:e.left-i};e=this.offset();var r=this.offsetParent(),n={top:0,left:0};return r[0].nodeName!=="HTML"&&(n=r.offset()),n={top:n.top+parseFloat(r.css("borderTopWidth")),left:n.left+parseFloat(r.css("borderLeftWidth"))},{top:e.top-n.top-t,left:e.left-n.left-i}}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(e,t){e.scrollTo(t,e.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(e,t){e.scrollTo(e.pageXOffset,t)}}].forEach(function(e){var t=e.name;ge.prototype[t]=function(i){if(!!this[0]){var r=Oh(this[0]);return i===void 0?r?r[e.offsetProp]:this[0][t]:(r?e.scrollWindow(r,i):this[0][t]=i,this)}}}),ge.prototype.data=function(e,t){if(!!this[0])return arguments.length<2?qe.call(we,this[0],e):(qe.call(we,this[0],e,t),this)},ge.prototype.removeData=function(e){return this[0]&&$a(this[0],e),this};var kh=function(){return we.apply(this,arguments)};Object.defineProperty(kh,"fn",{enumerable:!0,configurable:!0,get:function(){return we.fn},set:function(e){we.fn=e}});var SC={set:function(e){we=e},get:function(){return kh}},p=SC.get(),Lh=new Wo,Bt=function(e,t){var i={};"noBubble"in t&&(i.noBubble=t.noBubble),"bindType"in t&&(i.bindType=t.bindType),"delegateType"in t&&(i.delegateType=t.delegateType),M(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(r,n){!t[n]||(i[n]=function(){var a=[].slice.call(arguments);return a.unshift(this),t[n].apply(t,a)})}),Uo.fire(e,i)};Bt.callbacks=Uo;var Fr="dxremove",ol="dxRemoveEvent";lC(function(e){e=[].slice.call(e);for(var t=0;t<e.length;t++){var i=p(e[t]);i.prop(ol)&&(i[0][ol]=null,F.triggerHandler(i,Fr))}}),Bt(Fr,{noBubble:!0,setup:function(e){p(e).prop(ol,!0)}});var ll="dxComponents",EC="dxPrivateComponent",Wa=new Go,bC=0,Ua=function(e,t){if(P(t)){Wa.set(e,t);return}if(!Wa.has(e)){var i=EC+bC++;return Wa.set(e,i),i}return Wa.get(e)};function Ph(e,t,i){var r=qe(e.get(0)),n=Ua(t.constructor);r[n]=t,i&&F.one(e,Fr,function(){i.call(t)}),r[ll]||(r[ll]=[]),r[ll].push(n)}function Bh(e,t){var i=Ua(t);return qe(e.get(0),i)}var Ge=function(e,t,i){i?t[e]=i:i=t,Ua(i,e),Lh.fire(e,i)},TC=function(e,t){p.fn[e]=function(i){var r=typeof i=="string",n;if(r){var a=i,s=[].slice.call(arguments).slice(1);this.each(function(){var o=t.getInstance(this);if(!o)throw Me.Error("E0009",e);var l=o[a],d=l.apply(o,s);n===void 0&&(n=d)})}else this.each(function(){var o=t.getInstance(this);o?o.option(i):new t(this,i)}),n=this;return n}};Lh.add(TC);var wC=function(e){return e&&e.get(0)};function Ie(e){return wC(e)}var dl=[],IC=()=>re.getReadyState()==="complete"||re.getReadyState()!=="loading"&&!re.getDocumentElement().doScroll,AC=Yt(()=>{var e=re.listen(re.getDocument(),"DOMContentLoaded",()=>{Rh.fire(),e()})}),Rh={add:e=>{var t=Te();t&&IC()?e():(dl.push(e),t&&AC())},fire:()=>{dl.forEach(e=>e()),dl=[]}},Jt=Ht(Rh),ul=function(){var e,t=Le(),i=t.add,r=t.remove;if(!Te())return t;var n=function(){var l=Oe();return{width:l.innerWidth,height:l.innerHeight}},a=function(){var l=n();if(!(l.width===e.width&&l.height===e.height)){var d;l.width===e.width&&(d="height"),l.height===e.height&&(d="width"),e=l,t.fire(d)}},s=Yt(function(){e=n()}),o;return t.add=function(){var l=i.apply(t,arguments);return s(),Jt.add(function(){!o&&t.has()&&(o=re.listen(Oe(),"resize",a))}),l},t.remove=function(){var l=r.apply(t,arguments);return!t.has()&&o&&(o(),o=void 0),l},t}();class Oi{constructor(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=t,this._options=i}static create(t,i){return i?he(i)?i(t):i:new Oi(t)}hasEvent(t){var i=this._events[t];return i?i.has():!1}fireEvent(t,i){var r=this._events[t];return r&&r.fireWith(this._owner,i),this._owner}on(t,i){if(De(t))M(t,(a,s)=>{this.on(a,s)});else{var r=this._events[t];r||(r=Le({syncStrategy:this._options.syncStrategy}),this._events[t]=r);var n=r.originalAdd||r.add;n.call(r,i)}}off(t,i){var r=this._events[t];r&&(he(i)?r.remove(i):r.empty())}dispose(){M(this._events,(t,i)=>{i.empty()})}}var DC=Oe(),Mh=function(){var e;try{e=DC.sessionStorage}catch(t){}return e},OC=Jt.add,Ka=Le(),Fh=p(),ki=function(){var e;return function(t){if(!arguments.length)return e;var i=p(t);Fh=i;var r=!!i.length,n=ki();e=r?i:p("body"),Ka.fire(r?ki():p(),n)}}();OC(function(){ki(".dx-viewport")});function Nh(){return Fh}var kC=Br(),Hh=Oe(),LC={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},$h={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},PC={generic(e){var t=/windows phone/i.test(e)||e.match(/WPDesktop/),i=!t&&/Windows(.*)arm(.*)Tablet PC/i.test(e),r=!t&&!i&&/msapphost/i.test(e),n=/((intel|ppc) mac os x)/.test(e.toLowerCase());if(!!(t||i||r||n))return{deviceType:t?"phone":i?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:n}},ios(e){if(!!/ip(hone|od|ad)/i.test(e)){var t=/ip(hone|od)/i.test(e),i=e.match(/os (\d+)_(\d+)_?(\d+)?/i),r=i?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3]||0,10)]:[],n=Hh.screen.height===480,a=n?"B":"A";return{deviceType:t?"phone":"tablet",platform:"ios",version:r,grade:a}}},android(e){if(!!/android|htc_|silk/i.test(e)){var t=/mobile/i.test(e),i=e.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),r=i?[parseInt(i[1],10),parseInt(i[2]||0,10),parseInt(i[3]||0,10)]:[],n=r.length>1&&(r[0]<4||r[0]===4&&r[1]<4),a=n?"B":"A";return{deviceType:t?"phone":"tablet",platform:"android",version:r,grade:a}}}};class BC{constructor(t){this._window=(t==null?void 0:t.window)||Hh,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new Oi(this),this.changed=Le(),Te()&&(Jt.add(this._recalculateOrientation.bind(this)),ul.add(this._recalculateOrientation.bind(this)))}current(t){if(t){this._currentDevice=this._getDevice(t),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){t=void 0;try{t=this._getDeviceOrNameFromWindowScope()}catch(i){t=this._getDeviceNameFromSessionStorage()}finally{t||(t=this._getDeviceNameFromSessionStorage()),t&&(this._forced=!0)}this._currentDevice=this._getDevice(t)}return this._currentDevice}real(t){return H({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(t){var i=[],r=this._realDevice;return t=t||this.current(),t.deviceType&&(i.push("dx-device-".concat(t.deviceType)),t.deviceType!=="desktop"&&i.push("dx-device-mobile")),i.push("dx-device-".concat(r.platform)),r.version&&r.version.length&&i.push("dx-device-".concat(r.platform,"-").concat(r.version[0])),this.isSimulator()&&i.push("dx-simulator"),je().rtlEnabled&&i.push("dx-rtl"),i}attachCssClasses(t,i){this._deviceClasses=this._getCssClasses(i).join(" "),p(t).addClass(this._deviceClasses)}detachCssClasses(t){p(t).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||Te()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch(t){return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(t){if(t==="genericPhone"&&(t={deviceType:"phone",platform:"generic",generic:!0}),De(t))return this._fromConfig(t);var i;if(t){if(i=LC[t],!i)throw Me.Error("E0005")}else i=kC.userAgent;return this._fromUA(i)}_getDeviceOrNameFromWindowScope(){var t;return Te()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(t=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),t}_getDeviceNameFromSessionStorage(){var t=Mh();if(!!t){var i=t.getItem("dx-force-device");try{return JSON.parse(i)}catch(r){return i}}}_fromConfig(t){var i=H({},$h,this._currentDevice,t),r={phone:i.deviceType==="phone",tablet:i.deviceType==="tablet",android:i.platform==="android",ios:i.platform==="ios",generic:i.platform==="generic"};return H(i,r)}_fromUA(t){var i;return M(PC,(r,n)=>(i=n(t),!i)),i?this._fromConfig(i):$h}_changeOrientation(){var t=p(this._window),i=t.height()>t.width()?"portrait":"landscape";this._currentOrientation!==i&&(this._currentOrientation=i,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:i}]))}_recalculateOrientation(){var t=p(this._window).width();this._currentWidth!==t&&(this._currentWidth=t,this._changeOrientation())}on(t,i){return this._eventsStrategy.on(t,i),this}off(t,i){return this._eventsStrategy.off(t,i),this}}var Se=new BC,Vh=ki();Vh&&Se.attachCssClasses(Vh),Ka.add((e,t)=>{Se.detachCssClasses(t),Se.attachCssClasses(e)});var zh=Oe(),Sn=function(){var e=re.getActiveElement(),t=re.getBody();if(e&&e!==t&&e.blur)try{e.blur()}catch(i){t.blur()}},RC=function(){var e=zh.getSelection();if(!!e&&e.type!=="Caret"){if(e.empty)e.empty();else if(e.removeAllRanges)try{e.removeAllRanges()}catch(t){}}},Gh=function(e,t){var i=p(e),r=p(t);if(i[0]===r[0])return i[0];for(var n=i.parents(),a=r.parents(),s=Math.min(n.length,a.length),o=-s;o<0;o++)if(n.get(o)===a.get(o))return n.get(o)},nr=function(e){e=p(e);var t=e.length&&e.filter(function(){var i=p(this);return i.is("script[type]")&&i.attr("type").indexOf("script")<0});return t.length?t.eq(0).html():(e=p("<div>").append(e),e.html())},cl=function e(t){var i=P(t)&&(t.nodeType||ci(t))?p(t):p("<div>").html(t).contents();return i.length===1&&(i.is("script")?i=e(i.html().trim()):i.is("table")&&(i=i.children("tbody").contents())),i},Wh=function(e,t){var i=e.originalEvent&&e.originalEvent.clipboardData||zh.clipboardData;if(arguments.length===1)return i&&i.getData("Text");i&&i.setData("Text",t)},Li=function e(t,i){return i?(re.isTextNode(i)&&(i=i.parentNode),re.isDocument(t)?t.documentElement.contains(i):nt(t)?e(t.document,i):t.contains?t.contains(i):!!(i.compareDocumentPosition(t)&i.DOCUMENT_POSITION_CONTAINS)):!1},Dt=Te()?Oe():{},MC=1e3/60,hl=function(e){return setTimeout(e,MC)},fl=function(e){clearTimeout(e)},Uh=Yt(function(){var e=Dt.requestAnimationFrame||Dt.webkitRequestAnimationFrame||Dt.mozRequestAnimationFrame||Dt.oRequestAnimationFrame||Dt.msRequestAnimationFrame,t=Dt.cancelAnimationFrame||Dt.webkitCancelAnimationFrame||Dt.mozCancelAnimationFrame||Dt.oCancelAnimationFrame||Dt.msCancelAnimationFrame;if(e&&t&&(hl=e,fl=t),e&&!t){var i={};hl=function(r){var n=e.call(Dt,function(){try{if(n in i)return;r.apply(this,arguments)}finally{delete i[n]}});return n},fl=function(r){i[r]=!0}}});function En(){return Uh(),hl.apply(Dt,arguments)}function Qt(){Uh(),fl.apply(Dt,arguments)}var pl=(e,t)=>{if(!t)throw Me.Error("E0017");return Array.isArray(e)?e.map(i=>pl(i,t)).join(" "):e.indexOf(" ")!==-1?pl(e.split(/\s+/g),t):"".concat(e,".").concat(t)},Kh=function(e,t){if(!FC(e))return!1;var i=e.nodeName.toLowerCase(),r=!isNaN(t),n=e.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(i),s=i==="a",o=!0,l=e.isContentEditable;return a||l?o=!n:s?o=e.href||r:o=r,o};function FC(e){var t=p(e);return t.is(":visible")&&t.css("visibility")!=="hidden"&&t.parents().css("visibility")!=="hidden"}var ja=function(e,t){return Kh(t,p(t).attr("tabIndex"))},jh=function(e,t){var i=p(t).attr("tabIndex");return(isNaN(i)||i>=0)&&Kh(t,i)},Xa=function(e){var t=p(e).get(0);return re.getActiveElement()===t},NC={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},HC={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},$C={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},VC=e=>e,zC=e=>VC(F.Event(e,e)),_l=e=>bn(e)==="dx",GC=e=>bn(e)==="mouse",Xh=e=>bn(e)==="touch",bn=e=>{var{type:t}=e,i="other";return M($C,function(r){if(this.test(t))return i=r,!1}),i},qh=e=>bn(e)==="pointer",Pi=e=>GC(e)||(qh(e)||_l(e))&&e.pointerType==="mouse",_t=e=>e&&e.type==="dxmousewheel",qa=e=>Xh(e)||(qh(e)||_l(e))&&e.pointerType==="touch",Ue=e=>{var{pageX:t,pageY:i,timeStamp:r}=e;return{x:t,y:i,time:r}},Bi=(e,t)=>({x:t.x-e.x,y:t.y-e.y,time:t.time-e.time||1}),WC=e=>{var{originalEvent:t,pointers:i}=e;return Xh(e)?(t.touches||[]).length:_l(e)?(i||[]).length:0},Yh=e=>{var{target:t}=e,i=p(t),r=i.is(".dx-dropdownlist-popup-wrapper *, .dx-dropdownlist-popup-wrapper"),n=(t==null?void 0:t.isContentEditable)||(t==null?void 0:t.hasAttribute("contenteditable")),a=i.is("input, textarea, select")||n;if(i.is(".dx-skip-gesture-event *, .dx-skip-gesture-event")&&!r)return!0;if(_t(e)){var s=i.is("textarea")&&i.hasClass("dx-texteditor-input");if(s||n)return!1;var o=i.is("input[type='number'], textarea, select")&&i.is(":focus");return o}if(Pi(e))return a||e.which>1;if(qa(e))return a&&Xa(i)},vl=(e,t)=>{var i=zC(e);return t&&H(i,t),i},Ri=e=>{var{originalEvent:t,delegateTarget:i}=e,r=vl(t,e);return F.trigger(i||r.target,r),r},pi=e=>{var{key:t,which:i}=e,r=!!t;if(t=r?t:i,t)return r?t=NC[t.toLowerCase()]||t:t=HC[t]||String.fromCharCode(t),t},UC=e=>{var{key:t,which:i}=e;return t||String.fromCharCode(i)},se=pl,Tn=e=>{var{ctrlKey:t,metaKey:i}=e;return t||i},Zh="dxremove";function Jh(e){return e&&[e.target,e.delegateTarget,e.relatedTarget,e.currentTarget].filter(t=>!!t)}var KC=(e,t)=>{F.one(Jh(e),Zh,t)},jC=(e,t)=>{F.off(Jh(e),Zh,t)},{maxTouchPoints:Qh,msMaxTouchPoints:XC,pointerEnabled:qC}=Br(),YC={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MsTransitionEnd",transition:"transitionend"},gl=function(e){return!!Mr(e)},ZC=function(){var{platform:e,version:t,mac:i}=Se.real(),r=t&&t[0]<4&&e==="android",n=!r&&fe(e,["ios","android"])>-1||i;return n},JC=function(e){if(e==="text")return!0;var t=re.createElement("input");try{return t.setAttribute("type",e),t.value="wrongValue",!t.value}catch(i){return!1}},QC=function(e,t){return(e("ontouchstart")||!!t)&&!e("callPhantom")},eS=function(e,t){var i=$t(t,!0),r=$t(t,!1);return e("PointerEvent")&&i||r},ef=QC(nh,Qh),tf=eS(nh,qC),tS=!!Qh||!!XC,wn=ef||tf&&tS,ml=Yt(function(){return gl("transition")}),rf=Yt(function(){return YC[Mr("transition")]}),nf=Yt(function(){return gl("animation")}),In=ZC(),iS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",touchEvents:ef,pointerEvents:tf,styleProp:Mr,stylePropPrefix:hC,supportProp:gl,inputType:JC,touch:wn,transition:ml,transitionEndEventName:rf,animation:nf,nativeScrolling:In}),af="dxPointerEvents",Ya=Ee.inherit({ctor:function(e,t){this._eventName=e,this._originalEvents=se(t,af),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var e=this._eventName;return e==="dxpointerenter"||e==="dxpointerleave"},_handler:function(e){var t=this._getDelegateTarget(e);return this._fireEvent({type:this._eventName,pointerType:e.pointerType||bn(e),originalEvent:e,delegateTarget:t,timeStamp:Fe.mozilla?new Date().getTime():e.timeStamp})},_getDelegateTarget:function(e){var t;return this.noBubble&&(t=e.delegateTarget),t},_fireEvent:function(e){return Ri(e)},_setSelector:function(e){this._selector=this.noBubble&&e?e.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(e,t){if(this._handlerCount<=0||this.noBubble){e=this.noBubble?e:re.getDocument(),this._setSelector(t);var i=this;F.on(e,this._originalEvents,this._getSelector(),function(r){i._handler(r)})}this.noBubble||this._handlerCount++},remove:function(e){this._setSelector(e),this.noBubble||this._handlerCount--},teardown:function(e){this._handlerCount&&!this.noBubble||(e=this.noBubble?e:re.getDocument(),this._originalEvents!=="."+af&&F.off(e,this._originalEvents,this._getSelector()))},dispose:function(e){e=this.noBubble?e:re.getDocument(),F.off(e,this._originalEvents)}}),rS={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},sf=function(e){var t=[];return M(e.touches,function(i,r){t.push(H({pointerId:r.identifier},r))}),{pointers:t,pointerId:e.changedTouches[0].identifier}},nS=function(e){return Se.real().platform==="ios"&&(e==="dxpointerdown"||e==="dxpointerup")},Za=Ya.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(e){if(nS(this._eventName)){var t=e.changedTouches[0];if(this._pointerId===t.identifier&&this._pointerId!==0)return;this._pointerId=t.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(e){return this.callBase(H(sf(e.originalEvent),e))}});Za.map=rS,Za.normalize=sf;var Ja=function(e,t){Jt.add(function(){e.split(" ").forEach(function(i){re.listen(re.getDocument(),i,t,!0)})})},of=function(e,t,i){i=i||function(){};var r=[],n=function(s){var o=-1;return M(r,function(l,d){return t(s,d)?(o=l,!1):!0}),o},a=function(s){var o=n(s);o>-1&&r.splice(o,1)};Ja(e.dxpointerdown,function(s){n(s)===-1&&(i(s),r.push(s))}),Ja(e.dxpointermove,function(s){r[n(s)]=s}),Ja(e.dxpointerup,a),Ja(e.dxpointercancel,a),this.pointers=function(){return r},this.reset=function(){r=[]}},lf={dxpointerdown:"pointerdown",dxpointermove:"pointermove",dxpointerup:"pointerup",dxpointercancel:"pointercancel",dxpointerover:"pointerover",dxpointerout:"pointerout",dxpointerenter:"pointerenter",dxpointerleave:"pointerleave"},Qa,df=!1,aS=function(){df||(Qa=new of(lf,function(e,t){return e.pointerId===t.pointerId},function(e){e.isPrimary&&Qa.reset()}),df=!0)},xl=Ya.inherit({ctor:function(){this.callBase.apply(this,arguments),aS()},_fireEvent:function(e){return this.callBase(H({pointers:Qa.pointers(),pointerId:e.originalEvent.pointerId},e))}});xl.map=lf,xl.resetObserver=function(){Qa.reset()};var uf={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},cf=function(e){return e.pointerId=1,{pointers:yl.pointers(),pointerId:1}},yl,hf=!1,ff=function(){hf||(yl=new of(uf,function(){return!0}),hf=!0)},Mi=Ya.inherit({ctor:function(){this.callBase.apply(this,arguments),ff()},_fireEvent:function(e){return this.callBase(H(cf(e.originalEvent),e))}});Mi.map=uf,Mi.normalize=cf,Mi.activate=ff,Mi.resetObserver=function(){yl.reset()};var sS={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},pf=!1,oS=function(){pf||(Mi.activate(),pf=!0)},Cl=Ya.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),oS()},_handler:function(e){var t=Pi(e);if(t||(this._skipNextEvents=!0),!(t&&this._mouseLocked)){if(t&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var i=this;this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(e)}},_fireEvent:function(e){var t=Pi(e.originalEvent)?Mi.normalize:Za.normalize;return this.callBase(H(t(e.originalEvent),e))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});Cl.map=sS,Cl.resetObserver=Mi.resetObserver;var lS=(e,t,i)=>{if(e.pointerEvents&&i.msie)return xl;var{tablet:r,phone:n}=t;return e.touch&&!(r||n)?Cl:e.touch?Za:Mi},_f=lS(iS,Se.real(),Fe);M(_f.map,(e,t)=>{Bt(e,new _f(e,t))});var tt={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"},es=Ee.inherit({ctor:function(e){this._$element=p(e),this._cancelCallback=Le(),this._acceptCallback=Le()},getElement:function(){return this._$element},validate:function(e){return!_t(e)},validatePointers:function(e){return WC(e)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(e){H(this,e)},addCancelCallback:function(e){this._cancelCallback.add(e)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(e){this._cancelCallback.fire(this,e)},addAcceptCallback:function(e){this._acceptCallback.add(e)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(e){this._acceptCallback.fire(this,e)},_requestAccept:function(e){this._acceptRequestEvent=e},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:Q,move:Q,end:Q,cancel:Q,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(e,t,i){var r=H({type:e,originalEvent:t,target:this._getEmitterTarget(t),delegateTarget:this.getElement().get(0)},i);return t=Ri(r),t.cancel&&this._cancel(t),t},_getEmitterTarget:function(e){return(this.delegateSelector?p(e.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:Q}),ts="dxmousewheel",vf="dxWheel",dS="wheel",gf=0,uS=30,Sl={setup:function(e){var t=p(e);F.on(t,se(dS,vf),Sl._wheelHandler.bind(Sl))},teardown:function(e){F.off(e,".".concat(vf))},_wheelHandler:function(e){var{deltaMode:t,deltaY:i,deltaX:r,deltaZ:n}=e.originalEvent;Ri({type:ts,originalEvent:e,delta:this._normalizeDelta(i,t),deltaX:r,deltaY:i,deltaZ:n,deltaMode:t,pointerType:"mouse"}),e.stopPropagation()},_normalizeDelta(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gf;return t===gf?-e:-uS*e}};Bt(ts,Sl);var is="dxEventManager",An="dxEmitter",cS=Ee.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){Jt.add(function(){var e=re.getDocument();F.subscribeGlobal(e,se(tt.down,is),this._pointerDownHandler.bind(this)),F.subscribeGlobal(e,se(tt.move,is),this._pointerMoveHandler.bind(this)),F.subscribeGlobal(e,se([tt.up,tt.cancel].join(" "),is),this._pointerUpHandler.bind(this)),F.subscribeGlobal(e,se(ts,is),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(e){for(var t=this._activeEmitters||[],i=0;t.length>i;){var r=t[i];if(e(r)===!1)break;t[i]===r&&i++}},_applyToEmitters:function(e,t){this._eachEmitter(function(i){i[e].call(i,t)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(e){this._proxiedCancelHandler(e)},_pointerDownHandler:function(e){Pi(e)&&e.which>1||this._updateEmitters(e)},_updateEmitters:function(e){!this._isSetChanged(e)||(this._cleanEmitters(e),this._fetchEmitters(e))},_isSetChanged:function(e){var t=this._closestEmitter(e),i=this._emittersSet||[],r=t.length!==i.length;return M(t,function(n,a){return r=r||i[n]!==a,!r}),this._emittersSet=t,r},_closestEmitter:function(e){var t=this,i=[],r=p(e.target);function n(s,o){!!o&&o.validatePointers(e)&&o.validate(e)&&(o.addCancelCallback(t._proxiedCancelHandler),o.addAcceptCallback(t._proxiedAcceptHandler),i.push(o))}for(;r.length;){var a=qe(r.get(0),An)||[];M(a,n),r=r.parent()}return i},_acceptHandler:function(e,t){var i=this;this._eachEmitter(function(r){r!==e&&i._cancelEmitter(r,t)})},_cancelHandler:function(e,t){this._cancelEmitter(e,t)},_cancelEmitter:function(e,t){var i=this._activeEmitters;t?e.cancel(t):e.reset(),e.removeCancelCallback(),e.removeAcceptCallback();var r=fe(e,i);r>-1&&i.splice(r,1)},_cleanEmitters:function(e){this._applyToEmitters("end",e),this.reset(e)},_fetchEmitters:function(e){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",e)},_pointerMoveHandler:function(e){this._applyToEmitters("move",e)},_pointerUpHandler:function(e){this._updateEmitters(e)},_mouseWheelHandler:function(e){!this._allowInterruptionByMouseWheel()||(e.pointers=[null],this._pointerDownHandler(e),this._adjustWheelEvent(e),this._pointerMoveHandler(e),e.pointers=[],this._pointerUpHandler(e))},_allowInterruptionByMouseWheel:function(){var e=!0;return this._eachEmitter(function(t){return e=t.allowInterruptionByMouseWheel()&&e,e}),e},_adjustWheelEvent:function(e){var t=null;if(this._eachEmitter(function(a){if(!!a.gesture){var s=a.getDirection(e);if(s!=="horizontal"&&!e.shiftKey||s!=="vertical"&&e.shiftKey)return t=a,!1}}),!!t){var i=t.getDirection(e),r=i==="both"&&!e.shiftKey||i==="vertical",n=r?"pageY":"pageX";e[n]+=e.delta}},isActive:function(e){var t=!1;return this._eachEmitter(function(i){t=t||i.getElement().is(e)}),t}}),mf=new cS,El="dxEmitterSubscription",Nr=function(e){var t=e.emitter,i=e.events[0],r=e.events;M(r,function(n,a){Bt(a,{noBubble:!e.bubble,setup:function(s){var o=qe(s,El)||{},l=qe(s,An)||{},d=l[i]||new t(s);o[a]=!0,l[i]=d,qe(s,An,l),qe(s,El,o)},add:function(s,o){var l=qe(s,An),d=l[i];d.configure(H({delegateSelector:o.selector},o.data),o.type)},teardown:function(s){var o=qe(s,El),l=qe(s,An),d=l[i];delete o[a];var u=!0;M(r,function(c,h){return u=u&&!o[h],u}),u&&(mf.isActive(s)&&mf.resetEmitter(d),d&&d.dispose(),delete l[i])}})})};function Dn(e,t,i){function r(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}e=r(e),t=r(t);var n=Math.max(e.length,t.length);isFinite(i)&&(n=Math.min(n,i));for(var a=0;a<n;a++){var s=parseInt(e[a]||0,10),o=parseInt(t[a]||0,10);if(s<o)return-1;if(s>o)return 1}return 0}var it="dxclick",xf=10,yf=Math.abs,Cf=function(e){return p(e).is("input, textarea, select, button ,:focus, :focus *")},Sf={requestAnimationFrame:En,cancelAnimationFrame:Qt},bl=es.inherit({ctor:function(e){this.callBase(e),this._makeElementClickable(p(e))},_makeElementClickable:function(e){e.attr("onclick")||e.attr("onclick","void(0)")},start:function(e){this._blurPrevented=e.isDefaultPrevented(),this._startTarget=e.target,this._startEventData=Ue(e)},end:function(e){if(this._eventOutOfElement(e,this.getElement().get(0))||e.type===tt.cancel){this._cancel(e);return}!Cf(e.target)&&!this._blurPrevented&&Sn(),this._accept(e),this._clickAnimationFrame=Sf.requestAnimationFrame(function(){this._fireClickEvent(e)}.bind(this))},_eventOutOfElement:function(e,t){var i=e.target,r=!Li(t,i)&&t!==i,n=Bi(Ue(e),this._startEventData),a=yf(n.x)>xf||yf(n.y)>xf;return r||a},_fireClickEvent:function(e){this._fireEvent(it,e,{target:Gh(this._startTarget,e.target)})},dispose:function(){Sf.cancelAnimationFrame(this._clickAnimationFrame)}}),On=Se.real(),hS=On.generic||On.ios&&Dn(On.version,[9,3])>=0||On.android&&Dn(On.version,[5])>=0;(function(){var e=function(a){return hS||p(a).closest(".dx-native-click").length},t=null,i=null;function r(){i=null}var n=function(a){var s=a.originalEvent,o=i===s||s&&s.DXCLICK_FIRED,l=!a.which||a.which===1;l&&!t&&e(a.target)&&!o&&(s&&(s.DXCLICK_FIRED=!0),jC(i,r),i=s,KC(i,r),Ri({type:it,originalEvent:a}))};bl=bl.inherit({_makeElementClickable:function(a){e(a)||this.callBase(a),F.on(a,"click",n)},configure:function(a){this.callBase(a),a.useNative&&this.getElement().addClass("dx-native-click")},start:function(a){t=null,e(a.target)||this.callBase(a)},end:function(a){e(a.target)||this.callBase(a)},cancel:function(){t=!0},dispose:function(){this.callBase(),F.off(this.getElement(),"click",n)}})})(),function(){var e=Se.real().generic;if(!e){var t=null,i=!1,r=re.getDocument();F.subscribeGlobal(r,se(tt.down,"NATIVE_CLICK_FIXER"),function(n){t=n.target,i=n.isDefaultPrevented()}),F.subscribeGlobal(r,se("click","NATIVE_CLICK_FIXER"),function(n){var a=p(n.target);!i&&t&&!a.is(t)&&!p(t).is("label")&&Cf(a)&&Sn(),t=null,i=!1})}}(),Nr({emitter:bl,bubble:!0,events:[it]});var fS={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CA":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PH":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"root","az-Cyrl":"root","blt-Latn":"root","bm-Nkoo":"root","bs-Cyrl":"root","byn-Latn":"root","cu-Glag":"root","dje-Arab":"root","dyo-Arab":"root","en-Dsrt":"root","en-Shaw":"root","ff-Adlm":"root","ff-Arab":"root","ha-Arab":"root","hi-Latn":"root","iu-Latn":"root","kk-Arab":"root","ks-Deva":"root","ku-Arab":"root","ky-Arab":"root","ky-Latn":"root","ml-Arab":"root","mn-Mong":"root","mni-Mtei":"root","ms-Arab":"root","pa-Arab":"root","sat-Deva":"root","sd-Deva":"root","sd-Khoj":"root","sd-Sind":"root","shi-Latn":"root","so-Arab":"root","sr-Latn":"root","sw-Arab":"root","tg-Arab":"root","ug-Cyrl":"root","uz-Arab":"root","uz-Cyrl":"root","vai-Latn":"root","wo-Arab":"root","yo-Arab":"root","yue-Hans":"root","zh-Hant":"root","zh-Hant-MO":"zh-Hant-HK"},pS="-",_S=(e,t)=>{var i=e[t];return i?i!=="root"&&i:t.substr(0,t.lastIndexOf(pS))},Tl="en",vt=Ht({locale:(()=>{var e=Tl;return t=>{if(!t)return e;e=t}})(),getValueByClosestLocale:function(e){for(var t=this.locale(),i=e(t),r;!i&&!r;)t=_S(fS,t),t?i=e(t):r=!0;return i===void 0&&t!==Tl?e(Tl):i}}),vS={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select file","dxFileUploader-dropFile":"or Drop file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows","dxDataGrid-exportAll":"Export all data","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSizesAllText":"All","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}"}},gS=H(!0,{},vS),mS=(e,t)=>e[t]||{},wl={},xe=Ht({engine:function(){return"base"},_dictionary:gS,load:function(e){H(!0,this._dictionary,e)},_localizablePrefix:"@",setup:function(e){this._localizablePrefix=e},localizeString:function(e){var t=this,i=new RegExp("(^|[^a-zA-Z_0-9"+t._localizablePrefix+"-]+)("+t._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),r=t._localizablePrefix+t._localizablePrefix;return e.replace(i,(n,a,s,o)=>{var l=t._localizablePrefix+o,d;return s!==r&&(d=t.format(o)),d||(wl[o]=dC(o)),a+(d||l)})},localizeNode:function(e){var t=this;p(e).each((i,r)=>{!r.nodeType||(r.nodeType===3?r.nodeValue=t.localizeString(r.nodeValue):p(r).is("iframe")||(M(r.attributes||[],(n,a)=>{if(typeof a.value=="string"){var s=t.localizeString(a.value);a.value!==s&&(a.value=s)}}),p(r).contents().each((n,a)=>{t.localizeNode(a)})))})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(e){return e?wl:H({},wl,this.getMessagesByLocales()[vt.locale()])},getFormatter:function(e){return this._getFormatterBase(e)||this._getFormatterBase(e,"en")},_getFormatterBase:function(e,t){var i=vt.getValueByClosestLocale(r=>mS(this._dictionary,r)[e]);if(i)return function(){var r=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return r.unshift(i),He.apply(this,r)}},format:function(e){var t=this.getFormatter(e),i=Array.prototype.slice.call(arguments,1);return t&&t.apply(this,i)||""}});class gt{constructor(t,i){i=i||{},this._action=t,this._context=i.context||Oe(),this._beforeExecute=i.beforeExecute,this._afterExecute=i.afterExecute,this._component=i.component,this._validatingTargetName=i.validatingTargetName;var r=this._excludeValidators={};if(i.excludeValidators)for(var n=0;n<i.excludeValidators.length;n++)r[i.excludeValidators[n]]=!0}execute(){var t={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},i=this._beforeExecute,r=this._afterExecute,n=t.args[0]||{};if(!!this._validateAction(t)&&(i==null||i.call(this._context,t),!t.cancel)){var a=this._executeAction(t);if(!n.cancel)return r==null||r.call(this._context,t),a}}_validateAction(t){var i=this._excludeValidators,{executors:r}=gt;for(var n in r)if(!i[n]){var a,s=r[n];if((a=s.validate)===null||a===void 0||a.call(s,t),t.cancel)return!1}return!0}_executeAction(t){var i,{executors:r}=gt;for(var n in r){var a,s=r[n];if((a=s.execute)===null||a===void 0||a.call(s,t),t.handled){i=t.result;break}}return i}static registerExecutor(t,i){if(De(t)){M(t,gt.registerExecutor);return}gt.executors[t]=i}static unregisterExecutor(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];M(i,function(){delete gt.executors[this]})}}gt.executors={};var Ef=e=>t=>{if(!!t.args.length){var i=t.args[0],r=i[t.validatingTargetName]||i.element;r&&e(p(r))&&(t.cancel=!0)}};gt.registerExecutor({disabled:{validate:Ef(e=>e.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:Ef(e=>e.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:e=>{e.action||(e.result=void 0,e.handled=!0)}},func:{execute:e=>{he(e.action)&&(e.result=e.action.call(e.context,e.args[0]),e.handled=!0)}}});var xS=function(e,t){return 1/e==1/t},yS=function(e,t){if(e=Xe(e,!0),t=Xe(t,!0),e&&t&&ci(e)&&ci(t))return t.is(e);var i=e!==e,r=t!==t;return i&&r?!0:e===0&&t===0?xS(e,t):e===null||typeof e!="object"||re.isElementNode(e)?e===t:!1},Il={},bf=e=>{var t=Se.current();return e.reduce((i,r)=>{var{device:n,options:a}=r,s=n||{},o=he(s)?s(t):SS(t,s);return o&&H(!0,i,a),i},{})},CS=(e,t)=>typeof e!="string"?e:{[e]:t},SS=(e,t)=>Vc(t)||ih(e,[t]).length>0,Tf=e=>e.substr(e.lastIndexOf(".")+1),wf=e=>e.substr(0,e.lastIndexOf(".")),ES=function(e,t){return Il[t]=Il[t]||ct(t),Il[t](e,{functionsAsIs:!0})},Al={},Dl={};class bS{constructor(t,i){this._options=t,this._optionsByReference=i,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(t,i){H(!0,t,i);for(var r in this._optionsByReference)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}_setPreparedValue(t,i,r,n){var a=this.get(this._options,t,!1);if(!yS(a,i)){var s=t.split(/[.[]/);!n&&this._changingCallback(t,a,i),Dl[t]=Dl[t]||Qc(t),Dl[t](this._options,i,{functionsAsIs:!0,merge:P(r)?r:!this._optionsByReference[t],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!n&&this._changedCallback(t,i,a)}}_prepareRelevantNames(t,i,r,n){if(De(r))for(var a in r)this._prepareRelevantNames(t,"".concat(i,".").concat(a),r[a]);this._namePreparedCallbacks(t,i,r,n)}get(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Al[i]=Al[i]||ct(i),Al[i](t,{functionsAsIs:!0,unwrapObservables:r})}set(t,i,r,n){t=CS(t,i);for(var a in t)this._prepareRelevantNames(t,a,t[a],n);for(var s in t)this._setPreparedValue(s,t[s],r,n)}onRelevantNamesPrepared(t){this._namePreparedCallbacks=t}onChanging(t){this._changingCallback=t}onChanged(t){this._changedCallback=t}dispose(){this._changingCallback=Q,this._changedCallback=Q}}class TS{constructor(t,i,r,n){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=i,this._deprecated=n,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new bS(t,r),this._optionManager.onRelevantNamesPrepared((a,s,o,l)=>this._setRelevantNames(a,s,o,l)),this._cachedOptions={},this._rules=[]}set _initial(t){this._initialOptions=t}get _initial(){if(!this._initialOptions){var t=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,t)}return this._initialOptions}_initDeprecatedNames(){for(var t in this._deprecated)this._deprecatedNames.push(t)}_getByRules(t){return t=Array.isArray(t)?this._rules.concat(t):this._rules,bf(t)}_notifyDeprecated(t){var i=this._deprecated[t];i&&this._deprecatedCallback(t,i)}_setRelevantNames(t,i,r,n){if(i){var a=this._normalizeName(i,n);a&&a!==i&&(this._setField(t,a,r),this._clearField(t,i))}}_setField(t,i,r){var n="",a=null;do n=n?".".concat(n):"",n=Tf(i)+n,i=wf(i),a=i?this._optionManager.get(t,i,!1):t;while(!a);a[n]=r}_clearField(t,i){delete t[i];var r=wf(i),n=r?this._optionManager.get(t,r,!1):t;n&&delete n[Tf(i)]}_normalizeName(t,i){if(this._deprecatedNames.length&&t){for(var r=0;r<this._deprecatedNames.length;r++)if(this._deprecatedNames[r]===t){var n=this._deprecated[t];if(n)return!i&&this._notifyDeprecated(t),n.alias||t}}return t}addRules(t){this._rules=t.concat(this._rules)}applyRules(t){var i=this._getByRules(t);this.silent(i)}dispose(){this._deprecatedCallback=Q,this._startChangeCallback=Q,this._endChangeCallback=Q,this._optionManager.dispose()}onChanging(t){this._optionManager.onChanging(t)}onChanged(t){this._optionManager.onChanged(t)}onDeprecated(t){this._deprecatedCallback=t}onStartChange(t){this._startChangeCallback=t}onEndChange(t){this._endChangeCallback=t}isInitial(t){var i=this.silent(t),r=this.initial(t),n=he(i)&&he(r);return n?i.toString()===r.toString():fi(i,r)}initial(t){return ES(this._initial,t)}option(t,i){var r=arguments.length<2&&ui(t)!=="object";if(r)return this._optionManager.get(void 0,this._normalizeName(t));this._startChangeCallback();try{this._optionManager.set(t,i)}finally{this._endChangeCallback()}}silent(t,i){var r=arguments.length<2&&ui(t)!=="object";if(r)return this._optionManager.get(void 0,t,void 0,!0);this._optionManager.set(t,i,void 0,!0)}reset(t){if(t){var i=t.replace(/\[([^\]])\]/g,".$1").split("."),r=i.reduce((a,s)=>a?a[s]:this.initial(s),null),n=Be(r)?st({},r):r;this._optionManager.set(t,n,!1)}}getAliasesByName(t){return Object.keys(this._deprecated).filter(i=>t===this._deprecated[i].alias)}isDeprecated(t){return Object.prototype.hasOwnProperty.call(this._deprecated,t)}cache(t,i){var r=arguments.length<2;if(r)return this._cachedOptions[t];this._cachedOptions[t]=H(this._cachedOptions[t],i)}}class wS{constructor(){this._postponedOperations={}}add(t,i,r){if(t in this._postponedOperations)r&&this._postponedOperations[t].promises.push(r);else{var n=new ee;this._postponedOperations[t]={fn:i,completePromise:n,promises:r?[r]:[]}}return this._postponedOperations[t].completePromise.promise()}callPostponedOperations(){for(var t in this._postponedOperations){var i=this._postponedOperations[t];P(i)&&(i.promises&&i.promises.length?ye(...i.promises).done(i.fn).then(i.completePromise.resolve):i.fn().done(i.completePromise.resolve))}this._postponedOperations={}}}var If=e=>e.charAt(2).toLowerCase()+e.substr(3),IS=e=>e.indexOf("_",0)===0,Af=Ee.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(e){this._options.applyRules(e)},_convertRulesToOptions:e=>bf(e),_isInitialOptionValue(e){return this._options.isInitial(e)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:t,_disposingCallbacks:i}=e;this.NAME=Ua(this.constructor),this._eventsStrategy=Oi.create(this,e.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=t||Le(),this._disposingCallbacks=i||Le(),this.postponedOperations=new wS,this._createOptions(e)},_createOptions(e){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new TS(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((t,i,r)=>this._initialized&&this._optionChanging(t,i,r)),this._options.onDeprecated((t,i)=>this._logDeprecatedOptionWarning(t,i)),this._options.onChanged((t,i,r)=>this._notifyOptionChanged(t,i,r)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),e&&e.onInitializing&&e.onInitializing.apply(this,[e]),this._setOptionsByDevice(e.defaultOptionsRules),this._initOptions(e)}finally{this.endUpdate()}},_initOptions(e){this.option(e)},_init(){this._createOptionChangedAction(),this.on("disposing",e=>{this._disposingCallbacks.fireWith(this,[e])})},_logDeprecatedOptionWarning(e,t){var i=t.message||"Use the '".concat(t.alias,"' option instead");Me.log("W0001",this.NAME,e,t.since,i)},_logDeprecatedComponentWarning(e,t){Me.log("W0000",this.NAME,e,"Use the '".concat(t,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(e){switch(e.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:Q,_notifyOptionChanged(e,t,i){if(this._initialized)for(var r=[e].concat(this._options.getAliasesByName(e)),n=0;n<r.length;n++){var a=r[n],s={name:a.split(/[.[]/)[0],fullName:a,value:t,previousValue:i};IS(a)||(this._optionChangedCallbacks.fireWith(this,[H(this._defaultActionArgs(),s)]),this._optionChangedAction(H({},s))),!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(s)}},initialOption(e){return this._options.initial(e)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(e,t){var i;return r=>(P(r)||(r={}),De(r)||(r={actionValue:r}),i=i||new gt(e,H(t,this._defaultActionConfig())),i.execute.call(i,H(r,this._defaultActionArgs())))},_createActionByOption(e,t){var i=this,r,n,a,s=function(){if(!n){if(t=t||{},typeof e!="string")throw Me.Error("E0008");e.indexOf("on")===0&&(n=If(e)),a=i.option(e)}if(!(!r&&!a&&!t.beforeExecute&&!t.afterExecute&&!i._eventsStrategy.hasEvent(n))){if(!r){var l=t.beforeExecute;t.beforeExecute=function(){for(var g=arguments.length,S=new Array(g),C=0;C<g;C++)S[C]=arguments[C];l&&l.apply(i,S),i._eventsStrategy.fireEvent(n,S[0].args)},r=i._createAction(a,t)}for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];if(je().wrapActionsBeforeExecute){var h=i.option("beforeActionExecute")||Q,f=h(i,r,t)||r;return f.apply(i,u)}return r.apply(i,u)}};if(je().wrapActionsBeforeExecute)return s;var o=this.option("onActionCreated")||Q;return o(this,s,t)||s},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this},hasActionSubscription:function(e){return!!this._options.silent(e)||this._eventsStrategy.hasEvent(If(e))},isOptionDeprecated(e){return this._options.isDeprecated(e)},_setOptionWithoutOptionChange(e,t){this._cancelOptionChange=e,this.option(e,t),this._cancelOptionChange=!1},_getOptionValue(e,t){var i=this.option(e);return he(i)?i.bind(t)():i},option(){return this._options.option(...arguments)},resetOption(e){this.beginUpdate(),this._options.reset(e),this.endUpdate()}}),Ol=function(e){return function(t){for(var i=p(t||"body"),r=i.filter(".dx-visibility-change-handler").add(i.find(".dx-visibility-change-handler")),n=0;n<r.length;n++)F.triggerHandler(r[n],e)}},Df=Ol("dxshown"),AS=Ol("dxhiding"),Fi=Ol("dxresize"),DS=Le({syncStrategy:!0});class ar{render(t){t=t||{};var i=t.onRendered;delete t.onRendered;var r=this._renderCore(t);return this._ensureResultInContainer(r,t.container),DS.fire(r,t.container),i&&i(),r}_ensureResultInContainer(t,i){if(!!i){var r=p(i),n=Li(r.get(0),t.get(0));if(r.append(t),!n){var a=re.getBody().contains(r.get(0));!a||Df(t)}}}_renderCore(){throw Me.Error("E0001")}}class rs extends ar{constructor(t){super();this._render=t}_renderCore(t){return cl(this._render(t))}}class sr extends ar{_renderCore(){return p()}}class OS extends ar{constructor(t){super();this.name=t}}var Of={},ns;function Ni(e,t){Of[e]=t}function kS(e){if(Ae(e)){if(ns=Of[e],!ns)throw Me.Error("E0020",e)}else ns=e}function kf(){return ns}Ni("jquery-tmpl",{compile:e=>nr(e),render:(e,t)=>jQuery.tmpl(e,t)}),Ni("jsrender",{compile:e=>(jQuery||jsrender).templates(nr(e)),render:(e,t)=>e.render(t)}),Ni("mustache",{compile:e=>nr(e),render:(e,t)=>Mustache.render(e,t)}),Ni("hogan",{compile:e=>Hogan.compile(nr(e)),render:(e,t)=>e.render(t)}),Ni("underscore",{compile:e=>_.template(nr(e)),render:(e,t)=>e(t)}),Ni("handlebars",{compile:e=>Handlebars.compile(nr(e)),render:(e,t)=>e(t)}),Ni("doT",{compile:e=>doT.template(nr(e)),render:(e,t)=>e(t)}),Ni("default",{compile:e=>cl(e),render:(e,t,i)=>e.clone()}),kS("default");class LS extends ar{constructor(t){super();this._element=t}_renderCore(t){var i=t.transclude;return!i&&!this._compiledTemplate&&(this._compiledTemplate=kf().compile(this._element)),p("<div>").append(i?this._element:kf().render(this._compiledTemplate,t.model,t.index)).contents()}source(){return p(this._element).clone()}}var Lf=(e,t)=>{var i=p(e).contents().filter("[".concat("data-options",'*="').concat(t,'"]'));return[].slice.call(i).map(r=>{var n=p(r).attr("data-options")||"";return{element:r,options:je().optionsParser(n)[t]}}).filter(r=>!!r.options)},PS=e=>{var t=jy(e,r=>r.options.name);if(t[void 0])throw Me.Error("E0023");var i={};return Object.keys(t).forEach(r=>{var n,a=(n=ih(Se.current(),t[r],s=>s.options)[0])===null||n===void 0?void 0:n.element;a&&(i[r]=a)}),i},Pf=e=>{var t=e.render.bind(e);return H({},e,{render(i){var r=t(i);return i&&i.onRendered&&i.onRendered(),r}})},BS=e=>{var t=[];return"model"in e&&t.push(e.model),"index"in e&&t.push(e.index),t.push(e.container),t},RS=e=>typeof e=="string"?cl(e):e,Bf=e=>ci(e)&&e[0]||e,MS=e=>new LS(e),FS=(e,t,i,r)=>{var n=null;return(!r||r.indexOf(e)===-1)&&(n=t[e],n&&!(n instanceof ar)&&!i&&(n=Pf(n))),n},Rf=(e,t,i,r,n,a)=>e==null?new sr:e instanceof OS?a[e.name]:e instanceof ar?e:he(e.render)&&!ci(e)?r?e:Pf(e):e.nodeType||ci(e)?t(p(e)):FS(e,i,r,n)||a[e]||t(e),NS=3,HS="template",$S="dxTemplate",VS="dx-template-wrapper",zS=new rs(e=>{var{model:t,parent:i}=e,r=t.widget;if(!r)return p();var n=p("<div>"),a=t.options||{};return i?i._createComponent(n,r,a):n[r](a),n});class Mf{constructor(t,i){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=i||HS,this._createElement=t||MS,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.skipImmediate||i(t()),Q},templates:{"dx-polymorph-widget":zS},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(t){this._defaultTemplates=H({},this._defaultTemplates,t)}dispose(){this._tempTemplates.forEach(t=>{t.template.dispose&&t.template.dispose()}),this._tempTemplates=[]}extractTemplates(t){var i=this._extractTemplates(t),r=this._extractAnonymousTemplate(t);return{templates:i,anonymousTemplateMeta:r}}_extractTemplates(t){var i=Lf(t,$S),r=PS(i);return i.forEach(n=>{var{element:a,options:{name:s}}=n;a===r[s]?p(a).addClass(VS).detach():p(a).remove()}),Object.keys(r).map(n=>({name:n,template:this._createTemplate(r[n])}))}_extractAnonymousTemplate(t){var i=t.contents().detach(),r=i.filter((n,a)=>{var s=a.nodeType===NS,o=p(a).text().trim().length<1;return!(s&&o)});return r.length>0?{template:this._createTemplate(i),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(t){var i=this._tempTemplates.filter(n=>n.source===Bf(t))[0];if(i)return i.template;var r=this._createTemplate(t);return this._tempTemplates.push({template:r,source:Bf(t)}),r}_createTemplate(t){return this._createElement(RS(t))}getTemplate(t,i,r,n){var{isAsyncTemplate:a,skipTemplates:s}=r;return he(t)?new rs(o=>{var l=t.apply(n,BS(o));if(!P(l))return new sr;var d=!1,u=Rf(l,h=>h.nodeType||ci(h)&&!p(h).is("script")?new rs(()=>h):(d=!0,this._createTemplate(h)),i,a,s,this._defaultTemplates),c=u.render(o);return d&&u.dispose&&u.dispose(),c}):Rf(t,this._createTemplateIfNeeded,i,a,s,this._defaultTemplates)}}var Ff="compositionstart",GS="compositionend",WS="keydown",kl="KeyboardProcessor",US=Ee.inherit({_keydown:se(WS,kl),_compositionStart:se(Ff,kl),_compositionEnd:se(GS,kl),ctor:function(e){e=e||{},e.element&&(this._element=p(e.element)),e.focusTarget&&(this._focusTarget=e.focusTarget),this._handler=e.handler,this._element&&(this._processFunction=t=>{var i=this._focusTarget&&this._focusTarget!==t.target&&fe(t.target,p(this._focusTarget))<0,r=this._isComposingJustFinished&&t.which===229||this._isComposing||i;this._isComposingJustFinished=!1,r||this.process(t)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),F.on(this._element,this._keydown,this._processFunction),F.on(this._element,this._compositionStart,this._toggleProcessingWithContext),F.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(F.off(this._element,this._keydown,this._processFunction),F.off(this._element,this._compositionStart,this._toggleProcessingWithContext),F.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(e){this._handler({keyName:pi(e),key:e.key,code:e.code,ctrl:e.ctrlKey,location:e.location,metaKey:e.metaKey,shift:e.shiftKey,alt:e.altKey,which:e.which,originalEvent:e})},toggleProcessing:function(e){var{type:t}=e;this._isComposing=t===Ff,this._isComposingJustFinished=!this._isComposing}});function Ke(e,t){return t?se(e,t):e}function Ll(e,t){return typeof e=="function"?e(t):e.execute(t)}var as={on:(e,t,i,r)=>{var{selector:n,showTimeout:a,hideTimeout:s,namespace:o}=r;F.on(e,Ke("dxactive",o),n,{timeout:a},l=>Ll(t,{event:l,element:l.currentTarget})),F.on(e,Ke("dxinactive",o),n,{timeout:s},l=>Ll(i,{event:l,element:l.currentTarget}))},off:(e,t)=>{var{namespace:i,selector:r}=t;F.off(e,Ke("dxactive",i),r),F.off(e,Ke("dxinactive",i),r)}},Nf={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.on(e,Ke("dxresize",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.off(e,Ke("dxresize",t))}},Hf={on:(e,t,i,r)=>{var{selector:n,namespace:a}=r;F.on(e,Ke("dxhoverend",a),n,s=>i(s)),F.on(e,Ke("dxhoverstart",a),n,s=>Ll(t,{element:s.target,event:s}))},off:(e,t)=>{var{selector:i,namespace:r}=t;F.off(e,Ke("dxhoverstart",r),i),F.off(e,Ke("dxhoverend",r),i)}},$f={on:(e,t,i,r)=>{var{namespace:n}=r;F.on(e,Ke("dxhiding",n),i),F.on(e,Ke("dxshown",n),t)},off:(e,t)=>{var{namespace:i}=t;F.off(e,Ke("dxhiding",i)),F.off(e,Ke("dxshown",i))}},Pl={on:(e,t,i,r)=>{var{namespace:n,isFocusable:a}=r;F.on(e,Ke("focusin",n),t),F.on(e,Ke("focusout",n),i),re.hasDocumentProperty("onbeforeactivate")&&F.on(e,Ke("beforeactivate",n),s=>a(null,s.target)||s.preventDefault())},off:(e,t)=>{var{namespace:i}=t;F.off(e,Ke("focusin",i)),F.off(e,Ke("focusout",i)),re.hasDocumentProperty("onbeforeactivate")&&F.off(e,Ke("beforeactivate",i))},trigger:e=>F.trigger(e,"focus")},Vf={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.on(e,Ke("dxclick",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.off(e,Ke("dxclick",t))}},KS={on:function(e,t){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.on(e,Ke("click",i),t)},off:function(e){var{namespace:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.off(e,Ke("click",t))}},jS=0,kn={},XS=()=>"keyboardProcessorId".concat(jS++),Bl={on:(e,t,i)=>{var r=XS();return kn[r]=new US({element:e,focusTarget:t,handler:i}),r},off:e=>{e&&kn[e]&&(kn[e].dispose(),delete kn[e])},_getProcessor:e=>kn[e]},{abstract:ss}=Af,or=Af.inherit({_getDefaultOptions(){return H(this.callBase(),{width:void 0,height:void 0,rtlEnabled:je().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?Mf.createDefaultOptions():{})},ctor(e,t){this._customClass=null,this._createElement(e),Ph(this._$element,this,this._dispose),this.callBase(t)},_createElement(e){this._$element=p(e)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_visibilityChanged:ss,_dimensionChanged:ss,_init(){this.callBase(),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(e){this.callBase([].concat(this.constructor._classCustomRules||[],e||[]))},_isInitialOptionValue(e){var t=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e);return!t&&this.callBase(e)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var e=this._windowResizeCallBack=this._dimensionChanged.bind(this);ul.add(e)}},_isDimensionChangeSupported(){return this._dimensionChanged!==ss},_renderComponent(){this._initMarkup(),Te()&&this._render()},_initMarkup(){var{rtlEnabled:e}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(e),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers()},_renderElementAttributes(){var{elementAttr:e}=this.option()||{},t=H({},e),i=t.class;delete t.class,this.$element().attr(t).removeClass(this._customClass).addClass(i),this._customClass=i},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var e=this.$element();e.addClass("dx-visibility-change-handler")}},_renderDimensions(){var e=this.$element(),t=e.get(0),i=this._getOptionValue("width",t),r=this._getOptionValue("height",t);this._isCssUpdateRequired(t,r,i)&&e.css({width:i===null?"":i,height:r===null?"":r})},_isCssUpdateRequired:(e,t,i)=>!!(P(i)||P(t)||e.style.width||e.style.height),_attachDimensionChangeHandlers(){var e=this.$element(),t="".concat(this.NAME,"VisibilityChange");Nf.off(e,{namespace:t}),Nf.on(e,()=>this._dimensionChanged(),{namespace:t})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var e=this.$element(),t="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),$f.off(e,{namespace:t}),$f.on(e,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:t})}},_isVisible(){var e=this.$element();return e.is(":visible")},_checkVisibilityChanged(e){var t=this._isVisible();t&&(e==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):e==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==ss&&Te()},_clean:Q,_modelByElement(){var{modelByElement:e}=this.option(),t=this.$element();return e?e(t):void 0},_invalidate(){if(this._isUpdateAllowed())throw Me.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&ul.remove(this._windowResizeCallBack)},_toggleRTLDirection(e){var t=this.$element();t.toggleClass("dx-rtl",e)},_createComponent(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=er(this._getSynchronizableOptionsForCreateComponent(),u=>!(u in i)),{integrationOptions:n}=this.option(),{nestedComponentOptions:a}=this.option();a=a||Q;var s=H({integrationOptions:n},a(this));r.forEach(u=>s[u]=this.option(u)),this._extendConfig(i,s);var o=void 0;if(Ae(t)){var l=p(e)[t](i);o=l[t]("instance")}else e&&(o=t.getInstance(e),o?o.option(i):o=new t(e,i));if(o){var d=u=>{var{name:c,value:h}=u;fe(c,r)>=0&&o.option(c,h)};this.on("optionChanged",d),o.on("disposing",()=>this.off("optionChanged",d))}return o},_extendConfig(e,t){M(t,(i,r)=>{!Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=r)})},_defaultActionConfig(){var e=this.$element(),t=this._modelByElement(e);return H(this.callBase(),{context:t})},_defaultActionArgs(){var e=this.$element(),t=this._modelByElement(e),i=this.element();return H(this.callBase(),{element:i,model:t})},_optionChanged(e){switch(e.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(e)}},_removeAttributes(e){for(var t=e.attributes,i=t.length-1;i>=0;i--){var r=t[i];if(r){var{name:n}=r;(!n.indexOf("aria-")||n.indexOf("dx-")!==-1||n==="role"||n==="style"||n==="tabindex")&&e.removeAttribute(n)}}},_removeClasses(e){e.className=e.className.split(" ").filter(t=>t.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(e){e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var e=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(e)},$element(){return this._$element},element(){var e=this.$element();return Ie(e)},dispose(){var e=this.$element().get(0);Va(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)},resetOption(e){if(this.callBase(e),e==="width"||e==="height"){var t=this.initialOption(e);!P(t)&&this.$element().css(e,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:e={}}=this.option(),{createTemplate:t}=e;this._templateManager=new Mf(t,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:e,anonymousTemplateMeta:t}=this._templateManager.extractTemplates(this.$element()),i=this.option("integrationOptions.templates.".concat(t.name));e.forEach(r=>{var{name:n,template:a}=r;this._options.silent("integrationOptions.templates.".concat(n),a)}),t.name&&!i&&(this._options.silent("integrationOptions.templates.".concat(t.name),t.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(e){return this._getTemplate(this.option(e))},_getTemplate(e){var t=this.option("integrationOptions.templates"),i=this.option("templatesRenderAsynchronously"),r=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(e,t,{isAsyncTemplate:i,skipTemplates:r},this)},_saveTemplate(e,t){this._setOptionWithoutOptionChange("integrationOptions.templates."+e,this._templateManager._createTemplate(t))},_useTemplates:()=>!0});or.getInstance=function(e){return Bh(p(e),this)},or.defaultOptions=function(e){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(e)};var Ln="dxactive",Rl="dxinactive",qS=30,YS=400,os=Ee.inherit({ctor:function(e,t){this._timeout=e,this._fire=t},start:function(){var e=this;this._schedule(function(){e.force()})},_schedule:function(e){this.stop(),this._timer=setTimeout(e,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),Vt,Ml=es.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new os(0,Q),this._inactive=new os(0,Q)},configure:function(e,t){switch(t){case Ln:e.activeTimeout=e.timeout;break;case Rl:e.inactiveTimeout=e.timeout}this.callBase(e)},start:function(e){if(Vt){var t=Li(this.getElement().get(0),Vt.getElement().get(0)),i=!Vt._active.fired();if(t&&i){this._cancel();return}Vt._inactive.force()}Vt=this,this._initEvents(e),this._active.start()},_initEvents:function(e){var t=this,i=this._getEmitterTarget(e),r=Pi(e),n=Se.isSimulator(),a=n||!r,s=$t(this.activeTimeout,qS),o=$t(this.inactiveTimeout,YS);this._active=new os(a?s:0,function(){t._fireEvent(Ln,e,{target:i})}),this._inactive=new os(a?o:0,function(){t._fireEvent(Rl,e,{target:i}),Vt=null})},cancel:function(e){this.end(e)},end:function(e){var t=e.type!==tt.up;t?this._active.stop():this._active.force(),this._inactive.start(),t&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),Vt===this&&(Vt=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),Vt=null,this._cancel(),this._inactive.force.bind(this._inactive)}});Ml.lock=function(e){var t=Vt?Vt.lockInactive():Q;e.done(t)},Nr({emitter:Ml,events:[Ln,Rl]}),Ml.lock;var zf="dxHoverStart",Fl="dxhoverstart",ZS=se(tt.enter,zf),Gf="dxHoverEnd",Nl="dxhoverend",JS=se(tt.leave,Gf),Wf=Ee.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(e){qe(e,this._handlerArrayKeyPath,{})},add:function(e,t){var i=this,r=function(n){i._handler(n)};F.on(e,this._originalEventName,t.selector,r),qe(e,this._handlerArrayKeyPath)[t.guid]=r},_handler:function(e){qa(e)||Se.isSimulator()||Ri({type:this._eventName,originalEvent:e,delegateTarget:e.delegateTarget})},remove:function(e,t){var i=qe(e,this._handlerArrayKeyPath)[t.guid];F.off(e,this._originalEventName,t.selector,i)},teardown:function(e){$a(e,this._handlerArrayKeyPath)}}),QS=Wf.inherit({ctor:function(){this._eventNamespace=zf,this._eventName=Fl,this._originalEventName=ZS,this.callBase()},_handler:function(e){var t=e.pointers||[];t.length||this.callBase(e)}}),eE=Wf.inherit({ctor:function(){this._eventNamespace=Gf,this._eventName=Nl,this._originalEventName=JS,this.callBase()}});Bt(Fl,new QS),Bt(Nl,new eE);function Uf(e,t,i){e=e==="role"||e==="id"?e:"aria-".concat(e),t=P(t)?t.toString():null,i.attr(e,t)}var ei=or.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return H(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1})},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(e,t){var i=ei.getOptionsFromContainer(t);e&&e.option(i),this._options.cache(t.name,i)},_bindInnerWidgetOptions(e,t){var i=()=>this._options.silent(t,H({},e.option()));i(),e.on("optionChanged",i)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:e,visible:t}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(t),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:e}=this.option();this.$element().attr("title",e||null)},_renderContent(){Qi(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:Q,_fireContentReadyAction:Pr(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(e){this.$element().toggleClass("dx-state-invisible",!e),this.setAria("hidden",!e||void 0)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var e=this._focusTarget(),{accessKey:t}=this.option();e.attr("accesskey",t)},_isFocusable(){var{focusStateEnabled:e,disabled:t}=this.option();return e&&!t},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_getActiveElement(){var e=this._eventBindingTarget();return this._activeStateUnit?e.find(this._activeStateUnit).not(".dx-state-disabled"):e},_renderFocusTarget(){var{tabIndex:e}=this.option();this._focusTarget().attr("tabIndex",e)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(e,!0),excludeValidators:["readOnly"]})({event:e})},_focusOutHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(e,!1),excludeValidators:["readOnly","disabled"]})({event:e})},_updateFocusState(e,t){var{target:i}=e;fe(i,this._focusTarget())!==-1&&this._toggleFocusClass(t,p(i))},_toggleFocusClass(e,t){var i=t&&t.length?t:this._focusTarget();i.toggleClass("dx-state-focused",e)},_hasFocusClass(e){var t=p(e||this._focusTarget());return t.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:e,onKeyboardHandled:t}=this.option(),i=this._getKeyboardListeners().length,r=!!t,n=e||i||r;n&&(this._keyboardListenerId=Bl.on(this._keyboardEventBindingTarget(),this._focusTarget(),a=>this._keyboardHandler(a)))},_keyboardHandler(e,t){if(!t){var{originalEvent:i,keyName:r,which:n}=e,a=this._supportedKeys(i),s=a[r]||a[n];if(s!==void 0){var o=s.bind(this),l=o(i,e);if(!l)return!1}}var d=this._getKeyboardListeners(),{onKeyboardHandled:u}=this.option();return d.forEach(c=>c&&c._keyboardHandler(e)),u&&u(e),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var e=this._focusTarget();e.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){Bl.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:e}=this.option(),t=this._activeStateUnit,i=this._eventBindingTarget();Hf.off(i,{selector:t,namespace:"UIFeedback"}),e&&Hf.on(i,new gt(r=>{var{event:n,element:a}=r;this._hoverStartHandler(n),this.option("hoveredElement",p(a))},{excludeValidators:["readOnly"]}),r=>{this.option("hoveredElement",null),this._hoverEndHandler(r)},{selector:t,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:e}=this.option(),t=this._activeStateUnit,i=this._eventBindingTarget();as.off(i,{namespace:"UIFeedback",selector:t}),e&&as.on(i,new gt(r=>{var{event:n,element:a}=r;return this._toggleActiveState(p(a),!0,n)}),new gt(r=>{var{event:n,element:a}=r;return this._toggleActiveState(p(a),!1,n)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:t,namespace:"UIFeedback"})},_detachFocusEvents(){var e=this._focusEventTarget();Pl.off(e,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var e=this._focusEventTarget();Pl.on(e,t=>this._focusInHandler(t),t=>this._focusOutHandler(t),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(t,i)=>p(i).is(ja)})},_hoverStartHandler:Q,_hoverEndHandler:Q,_toggleActiveState(e,t){this.option("isActive",t),e.toggleClass("dx-state-active",t)},_updatedHover(){var e=this._options.silent("hoveredElement");this._hover(e,e)},_findHoverTarget(e){return e&&e.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(e,t){var{hoverStateEnabled:i,disabled:r,isActive:n}=this.option();if(t=this._findHoverTarget(t),t&&t.toggleClass("dx-state-hover",!1),e&&i&&!r&&!n){var a=this._findHoverTarget(e);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(e){this.$element().toggleClass("dx-state-disabled",Boolean(e)),this.setAria("disabled",e||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(e,t){if(!!this[e]){if(De(t[0])){M(t[0],(a,s)=>this._setWidgetOption(e,[a,s]));return}var i=t[0],r=t[1];t.length===1&&(r=this.option(i));var n=this["".concat(e,"OptionMap")];this[e].option(n?n(i):i,r)}},_optionChanged(e){var{name:t,value:i,previousValue:r}=e;switch(t){case"disabled":this._toggleDisabledState(i),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(i,r);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(i),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(i?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(e)}},_isVisible(){var{visible:e}=this.option();return this.callBase()&&e},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(e){if(arguments.length===0)return this._isReady;this._isReady=e},setAria(){if(!De(arguments.length<=0?void 0:arguments[0]))Uf(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var e=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();M(arguments.length<=0?void 0:arguments[0],(t,i)=>Uf(t,i,e))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){Pl.trigger(this._focusTarget())},registerKeyHandler(e,t){var i=this._supportedKeys();this._supportedKeys=()=>H(i,{[e]:t})}});ei.getOptionsFromContainer=e=>{var{name:t,fullName:i,value:r}=e,n={};if(t===i)n=r;else{var a=i.split(".").pop();n[a]=r}return n};var tE=["year","month","day"],iE=["year","month","day","hour","minute"],Hl=function(e){return e==="date"||e==="datetime"},$l=function(e){var t,i=[],r=["year","month","day","hour","minute","second"],n=e.headerFilter&&e.headerFilter.groupInterval,a=n==="quarter"?"month":n;if(Hl(e.dataType)&&n!==null)return i=e.dataType==="datetime"?iE:tE,t=fe(a,r),t>=0&&(i=r.slice(0,t),i.push(n)),i;if(P(n))return Array.isArray(n)?n:[n]},rE=function(){var e=function(n,a){var s=n.dataField||n.selector;return a==="search"&&(s=n.displayField||n.calculateDisplayValue||s),s},t=function(n,a){var s,o,l,d=e(this,a);if(Array.isArray(n)&&P(n[0])&&P(n[1]))return o=[d,">=",n[0]],l=[d,"<=",n[1]],Hl(this.dataType)&&(u=n[1],u.getHours()+u.getMinutes()+u.getSeconds()+u.getMilliseconds()<1)&&(s=new Date(n[1].getTime()),this.dataType==="date"&&s.setDate(n[1].getDate()+1),l=[d,"<",s]),[o,"and",l];var u},i=function(n,a,s){var o,l,d,u=function(h){return Pt(h)?[h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()]:et((""+h).split("/"),function(f,g){return g===1?Number(f)-1:Number(f)})}(n),c=e(this,s);switch(s==="headerFilter"?d=$l(this)[u.length-1]:this.dataType==="datetime"&&(d="minute"),d){case"year":o=new Date(u[0],0,1),l=new Date(u[0]+1,0,1);break;case"month":o=new Date(u[0],u[1],1),l=new Date(u[0],u[1]+1,1);break;case"quarter":o=new Date(u[0],3*u[1],1),l=new Date(u[0],3*u[1]+3,1);break;case"hour":o=new Date(u[0],u[1],u[2],u[3]),l=new Date(u[0],u[1],u[2],u[3]+1);break;case"minute":o=new Date(u[0],u[1],u[2],u[3],u[4]),l=new Date(u[0],u[1],u[2],u[3],u[4]+1);break;case"second":o=new Date(u[0],u[1],u[2],u[3],u[4],u[5]),l=new Date(u[0],u[1],u[2],u[3],u[4],u[5]+1);break;default:o=new Date(u[0],u[1],u[2]),l=new Date(u[0],u[1],u[2]+1)}switch(a){case"<":return[c,"<",o];case"<=":return[c,"<",l];case">":return[c,">=",l];case">=":return[c,">=",o];case"<>":return[[c,"<",o],"or",[c,">=",l]];default:return[[c,">=",o],"and",[c,"<",l]]}},r=function(n,a,s){var o=e(this,s),l=$l(this);if(s==="headerFilter"&&l&&P(n)){var d=(""+n).split("/"),u=Number(d[d.length-1]),c=l[d.length-1],h=[o,">=",u],f=[o,"<",u+c],g=[h,"and",f];return g}return[o,a||"=",n]};return{defaultCalculateFilterExpression:function(n,a,s){var o=this,l=e(o,s),d=o.calculateDisplayValue&&s==="search",u=d&&o.lookup&&o.lookup.dataType||o.dataType,c=null;if((s==="headerFilter"||s==="filterBuilder")&&n===null)c=[l,a||"=",null],u==="string"&&(c=[c,a==="="?"or":"and",[l,a||"=",""]]);else if(u==="string"&&(!o.lookup||d))c=[l,a||"contains",n];else{if(a==="between")return t.apply(o,[n,s]);if(Hl(u)&&P(n))return i.apply(o,arguments);if(u==="number")return r.apply(o,arguments);u!=="object"&&(c=[l,a||"=",n])}return c},getGroupInterval:$l}}(),ls=e=>{var t=e!=null?e:je().rtlEnabled;return t?"right":"left"},Kf=(e,t)=>{var i=re.getDocument();if(Fe.msie){var r=i.msElementsFromPoint(e,t);return r?Array.prototype.slice.call(r):[]}return i.elementsFromPoint(e,t)},rt=e=>{if(nt(e))return{width:e.outerWidth,height:e.outerHeight};var t;try{t=e.getBoundingClientRect()}catch(i){t={width:0,height:0,bottom:0,top:0,left:0,right:0}}return t},Hr=Te()?Oe().Promise:Promise;Hr||(Hr=function(e){var t=new ee;return e(t.resolve.bind(this),t.reject.bind(this)),t.promise()},Hr.resolve=function(e){return new ee().resolve(e).promise()},Hr.reject=function(e){return new ee().reject(e).promise()},Hr.all=function(e){return ye.apply(this,e).then(function(){return[].slice.call(arguments)})});var lr=Hr,$r=new Le,Ne=Fo(Me.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created because of an internal error: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals',W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters."}),jf=Oe(),nE=Jt.add,aE=ki,sE=Ka,Pn=new ee,Xf="link[rel=dx-theme]",oE="data-theme",lE="data-active",qf="dx-hairlines",Yf="any",_i,Vl,vi,Ot,Hi,Zf=15e3,zl="dx.";function Gl(){if(!Te())return null;var e=p("<div>",_i).addClass("dx-theme-marker").appendTo(_i.documentElement),t;try{return t=jf.getComputedStyle(e.get(0)).fontFamily,!t||(t=t.replace(/["']/g,""),t.substr(0,zl.length)!==zl)?null:t.substr(zl.length)}finally{e.remove()}}function Jf(e){var t,i,r=!0;Hi=e;function n(){Hi=null,clearInterval(i),r=!0,$r.fire(),$r.empty(),Pn.resolve()}if(Qf()||!Zf)n();else{if(!r){Hi&&(Hi=e);return}t=Date.now(),r=!1,i=setInterval(function(){var a=Qf(),s=!a&&Date.now()-t>Zf;s&&Ne.log("W0004",Hi),(a||s)&&n()},10)}}function Qf(){if(!Hi)return!0;var e=Hi===Yf;if(Pn.state()==="resolved"&&e)return!0;var t=Gl();return t&&e?!0:t===Hi}function dE(){var e=p(Xf,_i);!e.length||(vi={},Vl=p(nl("<link rel=stylesheet>"),_i),e.each(function(){var t=p(this,_i),i=t.attr(oE),r=t.attr("href"),n=t.attr(lE)==="true";vi[i]={url:r,isActive:n}}),e.last().after(Vl),e.remove())}function uE(e){var t=e?e.split("."):[],i=null;if(vi){if(e in vi)return e;M(vi,function(r,n){var a=r.split(".");if(!(t[0]&&a[0]!==t[0])&&!(t[1]&&t[1]!==a[1])&&!(t[2]&&t[2]!==a[2])&&((!i||n.isActive)&&(i=r),n.isActive))return!1})}return i}function cE(e){try{e!==_i&&(vi=null)}catch(t){vi=null}_i=e}function ep(e){e=e||{},cE(e.context||re.getDocument()),!!_i&&(dE(),Ot=void 0,dr(e))}function dr(e){if(!arguments.length)return Ot=Ot||Gl(),Ot;ip(aE()),e=e||{},typeof e=="string"&&(e={theme:e});var t=e._autoInit,i=e.loadCallback,r;if(Ot=uE(e.theme||Ot),Ot&&(r=vi[Ot]),i&&$r.add(i),r)Vl.attr("href",vi[Ot].url),($r.has()||Pn.state()!=="resolved"||e._forceTimeout)&&Jf(Ot);else if(t)Te()&&Jf(Yf),$r.fire(),$r.empty();else throw Ne.Error("E0021",Ot);Pn.done(()=>tp(Nh(),Ot))}function hE(e){e=e||dr();var t=[],i=e&&e.split(".");return i&&(t.push("dx-theme-"+i[0],"dx-theme-"+i[0]+"-typography"),i.length>1&&t.push("dx-color-scheme-"+i[1]+(mt(e)?"-"+i[2]:""))),t}var ds;function tp(e,t){ds=hE(t).join(" "),p(e).addClass(ds),function(){var i=Te()&&jf.devicePixelRatio;if(!(!i||i<2)){var r=p("<div>");r.css("border",".5px solid transparent"),p("body").append(r),r.outerHeight()===1&&(p(e).addClass(qf),ds+=" "+qf),r.remove()}}()}function ip(e){p(e).removeClass(ds)}function rp(e,t){return t||(t=Ot||Gl()),new RegExp(e).test(t)}function mt(e){return rp("material",e)}function fE(e){return rp("generic",e)}function pE(e,t){var i=re.getDocument(),r=i.createElement("span");r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",r.style.visibility="hidden",r.style.fontFamily="Arial",r.style.fontSize="250px",r.style.fontWeight=t,r.innerHTML=e,i.body.appendChild(r);var n=r.offsetWidth;r.style.fontFamily="Roboto, RobotoFallback, Arial";var a=r.offsetWidth;return r.parentNode.removeChild(r),n!==a}function _E(e,t){return new lr(i=>{var r=()=>{clearInterval(n),clearTimeout(a),i()},n=setInterval(()=>{pE(e,t)&&r()},15),a=setTimeout(r,2e3)})}function np(){if(ep({_autoInit:!0,_forceTimeout:!0}),p(Xf,_i).length)throw Ne.Error("E0022")}Te()?np():nE(np),sE.add(function(e,t){Pn.done(function(){ip(t),tp(e)})}),Se.changed.add(function(){ep({_autoInit:!0})});var vE=Br(),gE="dx-loadindicator",mE="dx-loadindicator-wrapper",xE="dx-loadindicator-content",yE="dx-loadindicator-icon",ap="dx-loadindicator-segment",CE="dx-loadindicator-segment-inner",SE="dx-loadindicator-image",ti=ei.inherit({_getDefaultOptions:function(){return H(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var e=dr();return this.callBase().concat([{device:function(){var t=Se.real(),i=t.platform==="android"&&!/chrome/i.test(vE.userAgent);return i},options:{viaImage:!0}},{device:function(){return mt(e)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return fE(e)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(gE)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=p("<div>").addClass(mE),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=p("<div>").addClass(xE),this._$wrapper.append(this._$content)},_renderMarkup:function(){nf()&&!this.option("viaImage")&&!this.option("indicatorSrc")?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var e=this.option("_animatingSegmentInner");this._$indicator=p("<div>").addClass(yE),this._$content.append(this._$indicator);for(var t=this.option("_animatingSegmentCount");t>=0;--t){var i=p("<div>").addClass(ap).addClass(ap+t);e&&i.append(p("<div>").addClass(CE)),this._$indicator.append(i)}},_renderMarkupForImage:function(){var e=this.option("indicatorSrc");this._$wrapper.addClass(SE),e&&this._$wrapper.css("backgroundImage","url("+e+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(!!this._$indicator){var e=this.option("width"),t=this.option("height");if(e||t){e=this.$element().width(),t=this.$element().height();var i=Math.min(t,e);this._$wrapper.css({height:i,width:i,fontSize:i})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){!this._$indicator||(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(e)}}});Ge("dxLoadIndicator",ti);var Wl="dxTranslator",EE=/matrix(3d)?\((.+?)\)/,bE=/translate(?:3d)?\((.+?)\)/,bt=function(e){e=p(e);var t=cs(e);return{left:t.x,top:t.y}};function us(e){return ui(e)==="string"&&e[e.length-1]==="%"}function sp(e,t){e.length&&qe(e.get(0),Wl,t)}var Ul=function(e){e.length&&$a(e.get(0),Wl)},Bn=function(e){e.x=e.x||0,e.y=e.y||0;var t=us(e.x)?e.x:e.x+"px",i=us(e.y)?e.y:e.y+"px";return"translate("+t+", "+i+")"},cs=function(e){var t=e.length?qe(e.get(0),Wl):null;if(!t){var i=e.css("transform")||Bn({x:0,y:0}),r=i.match(EE),n=r&&r[1];r?(r=r[2].split(","),n==="3d"?r=r.slice(12,15):(r.push(0),r=r.slice(4,7))):r=[0,0,0],t={x:parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])},sp(e,t)}return t},ht=function(e,t){e=p(e);var i=t.left,r=t.top,n;i===void 0?(n=cs(e),n.y=r||0):r===void 0?(n=cs(e),n.x=i||0):(n={x:i||0,y:r||0,z:0},sp(e,n)),e.css({transform:Bn(n)}),(us(i)||us(r))&&Ul(e)},hs=function(e,t){e=p(e);var i,r={left:0,top:0,transform:"none"};t&&(i=e.css("transition"),r.transition="none"),e.css(r),Ul(e),t&&(e.get(0).offsetHeight,e.css("transition",i))},TE=function(e){var t=e.match(bE);if(!(!t||!t[1]))return t=t[1].split(","),t={x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])},t},op=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,lp={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},wE=function(e,t,i,r){var n=3*e,a=3*(i-e)-n,s=1-n-a,o=3*t,l=3*(r-t)-o,d=1-o-l,u=function(h){return h*(n+h*(a+h*s))},c=function(h){return n+h*(2*a+3*h*s)};return function(h){return function(f){return f*(o+f*(l+f*d))}(function(f){for(var g=f,S=0,C;S<14&&(C=u(g)-f,!(Math.abs(C)<.001));)g-=C/c(g),S++;return g}(h))}},Kl={},IE=function(e){e=lp[e]||e;var t=e.match(op),i;t||(i="linear",t=lp[i].match(op)),t=t.slice(1,5);for(var r=0;r<t.length;r++)t[r]=parseFloat(t[r]);var n=i||"cubicbezier_"+t.join("_").replace(/\./g,"p");return he(Kl[n])||(Kl[n]=function(a,s,o,l,d){return l*wE(t[0],t[1],t[2],t[3])(s/d)+o}),n};function AE(e){return Kl[e]}var dp=Oe(),DE=/left|right/,OE=/top|bottom/,up=/fit|flip|none/,kE=/scale(.+)/,LE=Fe.safari,jl=function(e){var t={h:"center",v:"center"},i=Ma(e);return i&&M(i,function(){var r=String(this).toLowerCase();DE.test(r)?t.h=r:OE.test(r)&&(t.v=r)}),t},cp=function(e){return $o(e)},PE=function(e){var t=Ma(e),i=String(t&&t[0]).toLowerCase(),r=String(t&&t[1]).toLowerCase();return up.test(i)||(i="none"),up.test(r)||(r=i),{h:i,v:r}},hp=function(e){switch(e){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},Xl=function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return e}},ql=function(e,t){var i=0;return e.myLocation<t.min&&(i+=t.min-e.myLocation),e.myLocation>t.max&&(i+=e.myLocation-t.max),i},fp=function(e,t,i){return t.myLocation<i.min?e==="h"?"left":"top":t.myLocation>i.max?e==="h"?"right":"bottom":"none"},Yl=function(e){e.myLocation=e.atLocation+hp(e.atAlign)*e.atSize-hp(e.myAlign)*e.mySize+e.offset},fs={fit:function(e,t){var i=!1;e.myLocation>t.max&&(e.myLocation=t.max,i=!0),e.myLocation<t.min&&(e.myLocation=t.min,i=!0),e.fit=i},flip:function(e,t){if(e.flip=!1,!(e.myAlign==="center"&&e.atAlign==="center")&&(e.myLocation<t.min||e.myLocation>t.max)){var i=H({},e,{myAlign:Xl(e.myAlign),atAlign:Xl(e.atAlign),offset:-e.offset});Yl(i),i.oversize=ql(i,t),(i.myLocation>=t.min&&i.myLocation<=t.max||e.oversize>i.oversize)&&(e.myLocation=i.myLocation,e.oversize=i.oversize,e.flip=!0)}},flipfit:function(e,t){this.flip(e,t),this.fit(e,t)},none:function(e){e.oversize=0}},pp,_p=function(){var e=p("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(p("body")),t=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove(),pp=t},BE={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},vp=function(e,t){var i=p(e),r=i.offset(),n=H(!0,{},BE,{h:{location:r.left},v:{location:r.top}});if(!t)return n;var a=jl(t.my),s=jl(t.at),o=p(t.of).length&&t.of||dp,l=cp(t.offset),d=PE(t.collision),u=t.boundary,c=cp(t.boundaryOffset),h={mySize:i.outerWidth(),myAlign:a.h,atAlign:s.h,offset:l.h,collision:d.h,boundaryOffset:c.h},f={mySize:i.outerHeight(),myAlign:a.v,atAlign:s.v,offset:l.v,collision:d.v,boundaryOffset:c.v};if(o.preventDefault)h.atLocation=o.pageX,f.atLocation=o.pageY,h.atSize=0,f.atSize=0;else if(o=p(o),nt(o[0]))h.atLocation=o.scrollLeft(),f.atLocation=o.scrollTop(),Se.real().deviceType==="phone"&&o[0].visualViewport?(h.atLocation=Math.max(h.atLocation,o[0].visualViewport.offsetLeft),f.atLocation=Math.max(f.atLocation,o[0].visualViewport.offsetTop),h.atSize=o[0].visualViewport.width,f.atSize=o[0].visualViewport.height):(h.atSize=o[0].innerWidth>o[0].outerWidth?o[0].innerWidth:o.width(),f.atSize=o[0].innerHeight>o[0].outerHeight||LE?o[0].innerHeight:o.height());else if(o[0].nodeType===9)h.atLocation=0,f.atLocation=0,h.atSize=o.width(),f.atSize=o.height();else{var g=rt(o.get(0)),S=gp(o);h.atLocation=S.left,f.atLocation=S.top,h.atSize=Math.max(g.width,o.outerWidth()),f.atSize=Math.max(g.height,o.outerHeight())}Yl(h),Yl(f);var C=function(){var D=p(dp),b=D.width(),m=D.height(),x=D.scrollLeft(),E=D.scrollTop(),w=re.getDocumentElement(),k=wn?w.clientWidth/b:1,O=wn?w.clientHeight/m:1;pp===void 0&&_p();var B=b,$=m;if(u){var I=p(u),N=I.offset();x=N.left,E=N.top,B=I.width(),$=I.height()}return{h:{min:x+h.boundaryOffset,max:x+B/k-h.mySize-h.boundaryOffset},v:{min:E+f.boundaryOffset,max:E+$/O-f.mySize-f.boundaryOffset}}}();h.oversize=ql(h,C.h),f.oversize=ql(f,C.v),h.collisionSide=fp("h",h,C.h),f.collisionSide=fp("v",f,C.v),fs[h.collision]&&fs[h.collision](h,C.h),fs[f.collision]&&fs[f.collision](f,C.v);var T=function(D){return t.precise?D:Math.round(D)};return H(!0,n,{h:{location:T(h.myLocation),oversize:T(h.oversize),fit:h.fit,flip:h.flip,collisionSide:h.collisionSide},v:{location:T(f.myLocation),oversize:T(f.oversize),fit:f.fit,flip:f.flip,collisionSide:f.collisionSide},precise:t.precise}),n},gp=function e(t){var i,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,a=n.get(0);if(!a)return t.offset();var s=((i=a.getAttribute)===null||i===void 0?void 0:i.call(a,"style"))||"",o=(r=s.match(kE))===null||r===void 0?void 0:r[0],l;return o?(a.setAttribute("style",s.replace(o,"")),l=e(t,n.parent()),a.setAttribute("style",s)):l=e(t,n.parent()),l},Rn=function(e,t){var i=p(e);if(!t)return i.offset();hs(i,!0);var r=gp(i),n=t.h&&t.v?t:vp(i,t),a=function(s){return t.precise?s:Math.round(s)};return ht(i,{left:n.h.location-a(r.left),top:n.v.location-a(r.top)}),n},RE=function(e){return e=p(e).get(0),nt(e)?null:e&&"pageY"in e&&"pageX"in e?{top:e.pageY,left:e.pageX}:p(e).offset()};Rn.inverseAlign||(Rn.inverseAlign=Xl),Rn.normalizeAlign||(Rn.normalizeAlign=jl);var Tt={calculateScrollbarWidth:_p,calculate:vp,setup:Rn,offset:RE},mp=Oe(),Mn=se(Fr,"dxFX"),ME=/^([+-])=(.*)/i,Fn="dxAnimData",Zl="dxAnimQueue",zt="transform",FE={initAnimation:function(e,t){e.css({transitionProperty:"none"}),typeof t.from=="string"?e.addClass(t.from):nd(e,t.from);var i=this,r=new ee,n=t.cleanupWhen;t.transitionAnimation={deferred:r,finish:function(){i._finishTransition(e),n?ye(r,n).always(function(){i._cleanup(e,t)}):i._cleanup(e,t),r.resolveWith(e,[t,e])}},this._completeAnimationCallback(e,t).done(function(){t.transitionAnimation.finish()}).fail(function(){r.rejectWith(e,[t,e])}),t.duration||t.transitionAnimation.finish(),e.css("transform")},animate:function(e,t){return this._startAnimation(e,t),t.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(e,t){var i=this,r=Date.now()+t.delay,n=new ee,a=new ee,s=new ee,o,l=rf()+".dxFX";t.transitionAnimation.cleanup=function(){clearTimeout(o),clearTimeout(d),F.off(e,l),F.off(e,Mn)},F.one(e,l,function(){Date.now()-r>=t.duration&&a.reject()}),F.off(e,Mn),F.on(e,Mn,function(){i.stop(e,t),n.reject()});var d=setTimeout(function(){o=setTimeout(function(){s.reject()},t.duration+t.delay+Je._simulatedTransitionEndDelay),ye(a,s).fail(function(){n.resolve()}.bind(this))});return n.promise()},_startAnimation:function(e,t){e.css({transitionProperty:"all",transitionDelay:t.delay+"ms",transitionDuration:t.duration+"ms",transitionTimingFunction:t.easing}),typeof t.to=="string"?e[0].className+=" "+t.to:t.to&&nd(e,t.to)},_finishTransition:function(e){e.css("transition","none")},_cleanup:function(e,t){t.transitionAnimation.cleanup(),typeof t.from=="string"&&(e.removeClass(t.from),e.removeClass(t.to))},stop:function(e,t,i){!t||(i?t.transitionAnimation.finish():(De(t.to)&&M(t.to,function(r){e.css(r,e.css(r))}),this._finishTransition(e),this._cleanup(e,t)))}},xp={initAnimation:function(e,t){nd(e,t.from)},animate:function(e,t){var i=new ee,r=this;return t?(M(t.to,function(n){t.from[n]===void 0&&(t.from[n]=r._normalizeValue(e.css(n)))}),t.to[zt]&&(t.from[zt]=r._parseTransform(t.from[zt]),t.to[zt]=r._parseTransform(t.to[zt])),t.frameAnimation={to:t.to,from:t.from,currentValue:t.from,easing:IE(t.easing),duration:t.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),Qt(t.frameAnimation.animationFrameId),i.resolve()},draw:function(){if(t.draw){t.draw(this.currentValue);return}var n=H({},this.currentValue);n[zt]&&(n[zt]=et(n[zt],function(a,s){if(s==="translate")return Bn(a);if(s==="scale")return"scale("+a+")";if(s.substr(0,s.length-1)==="rotate")return s+"("+a+"deg)"}).join(" ")),e.css(n)}},t.delay?(t.frameAnimation.startTime+=t.delay,t.frameAnimation.delayTimeout=setTimeout(function(){r._startAnimation(e,t)},t.delay)):r._startAnimation(e,t),i.promise()):i.reject().promise()},_startAnimation:function(e,t){F.off(e,Mn),F.on(e,Mn,function(){t.frameAnimation&&Qt(t.frameAnimation.animationFrameId)}),this._animationStep(e,t)},_parseTransform:function(e){var t={};return M(e.match(/\w+\d*\w*\([^)]*\)\s*/g),function(i,r){var n=TE(r),a=r.match(/scale\((.+?)\)/),s=r.match(/(rotate.)\((.+)deg\)/);n&&(t.translate=n),a&&a[1]&&(t.scale=parseFloat(a[1])),s&&s[1]&&(t[s[1]]=parseFloat(s[2]))}),t},stop:function(e,t,i){var r=t&&t.frameAnimation;!r||(Qt(r.animationFrameId),clearTimeout(r.delayTimeout),i&&r.finish(),delete t.frameAnimation)},_animationStep:function(e,t){var i=t&&t.frameAnimation;if(!!i){var r=new Date().valueOf();if(r>=i.startTime+i.duration){i.finish();return}i.currentValue=this._calcStepValue(i,r-i.startTime),i.draw();var n=this;i.animationFrameId=En(function(){n._animationStep(e,t)})}},_calcStepValue:function(e,t){return function i(r,n){var a=Array.isArray(n)?[]:{};return M(n,function(s,o){if(typeof o=="string"&&parseFloat(o,10)===!1)return!0;a[s]=typeof o=="object"?i(r[s],o):function(l){var d=t/e.duration,u=t,c=1*r[l],h=n[l]-r[l],f=e.duration;return AE(e.easing)(d,u,c,h,f)}(s)}),a}(e.from,e.to)},_normalizeValue:function(e){var t=parseFloat(e,10);return t===!1?e:t}},NE={initAnimation:function(){},animate:function(){return new ee().resolve().promise()},stop:Q,isSynchronous:!0},HE=function(e){e=e||{};var t={transition:ml()?FE:xp,frame:xp,noAnimation:NE},i=e.strategy||"transition";return e.type==="css"&&!ml()&&(i="noAnimation"),t[i]},yp=function(e,t,i,r){M(["from","to"],function(){if(!i(e[this]))throw Me.Error("E0010",t,this,r)})},Cp=function(e,t){return yp(e,t,function(i){return De(i)},"a plain object")},$E=function(e,t){return yp(e,t,function(i){return typeof i=="string"},"a string")},VE={setup:function(){}},zE={validateConfig:function(e){$E(e,"css")},setup:function(){}},GE={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},Jl={validateConfig:function(e){Cp(e,"slide")},setup:function(e,t){var i=bt(e);if(t.type!=="slide"){var r=t.type==="slideIn"?t.from:t.to;r.position=H({of:mp},GE[t.direction]),rd(e,r)}this._setUpConfig(i,t.from),this._setUpConfig(i,t.to),Ul(e)},_setUpConfig:function(e,t){t.left="left"in t?t.left:"+=0",t.top="top"in t?t.top:"+=0",this._initNewPosition(e,t)},_initNewPosition:function(e,t){var i={left:t.left,top:t.top};delete t.left,delete t.top;var r=this._getRelativeValue(i.left);r!==void 0?i.left=r+e.left:t.left=0,r=this._getRelativeValue(i.top),r!==void 0?i.top=r+e.top:t.top=0,t[zt]=Bn({x:i.left,y:i.top})},_getRelativeValue:function(e){var t;if(typeof e=="string"&&(t=ME.exec(e)))return parseInt(t[1]+"1")*t[2]}},Ql={setup:function(e,t){var i=t.from,r=De(i)?t.skipElementInitialStyles?0:e.css("opacity"):String(i),n;switch(t.type){case"fadeIn":n=1;break;case"fadeOut":n=0;break;default:n=String(t.to)}t.from={visibility:"visible",opacity:r},t.to={opacity:n}}},WE={validateConfig:function(e){Cp(e,"pop")},setup:function(e,t){var i=t.from,r=t.to,n="opacity"in i?i.opacity:e.css("opacity"),a="opacity"in r?r.opacity:1,s="scale"in i?i.scale:0,o="scale"in r?r.scale:1;t.from={opacity:n};var l=cs(e);t.from[zt]=this._getCssTransform(l,s),t.to={opacity:a},t.to[zt]=this._getCssTransform(l,o)},_getCssTransform:function(e,t){return Bn(e)+"scale("+t+")"}},Sp={custom:VE,slide:Jl,slideIn:Jl,slideOut:Jl,fade:Ql,fadeIn:Ql,fadeOut:Ql,pop:WE,css:zE},UE=function(e){var t=Sp[e.type];if(!t)throw Me.Error("E0011",e.type);return t},KE={type:"custom",from:{},to:{},duration:400,start:Q,complete:Q,easing:"ease",delay:0},jE={duration:400,easing:"ease",delay:0};function XE(){var e=this.element,t=this.config;if(rd(e,t.from),rd(e,t.to),this.configurator.setup(e,t),e.data(Fn,this),this.strategy.initAnimation(e,t),t.start){var i=Ie(e);t.start.apply(this,[i,t])}}var qE=function(e){var t=e.element,i=e.config;if(t.removeData(Fn),i.complete){var r=Ie(t);i.complete.apply(this,[r,i])}e.deferred.resolveWith(this,[t,i])},YE=function(){var e=this,t=e.element,i=e.config;return e.isStarted=!0,e.strategy.animate(t,i).done(function(){qE(e)}).fail(function(){e.deferred.rejectWith(this,[t,i])})},ZE=function(e){var t=this.element,i=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(t,i,e)},ed=se(Fr,"dxFXStartAnimation"),JE=function(e){F.off(e.element,ed),F.on(e.element,ed,function(){Je.stop(e.element)}),e.deferred.always(function(){F.off(e.element,ed)})},Ep=function(e,t){var i=t.type==="css"?jE:KE,r=H(!0,{},i,t),n=UE(r),a=HE(r),s={element:p(e),config:r,configurator:n,strategy:a,isSynchronous:a.isSynchronous,setup:XE,start:YE,stop:ZE,deferred:new ee};return he(n.validateConfig)&&n.validateConfig(r),JE(s),s},QE=function(e,t){var i=p(e);if(!i.length)return new ee().resolve().promise();var r=Ep(i,t);return eb(i,r),r.deferred.promise()};function eb(e,t){var i=td(e);tb(e,i),i.push(t),ps(e)||id(e,i)}function td(e){return e.data(Zl)||[]}function tb(e,t){e.data(Zl,t)}var bp=function(e){e.removeData(Zl)};function ps(e){return!!e.data(Fn)}function id(e,t){if(t=td(e),!!t.length){var i=t.shift();t.length===0&&bp(e),ib(i).done(function(){ps(e)||id(e)})}}function ib(e){return e.setup(),e.isSynchronous?e.start():e.startTimeout=setTimeout(function(){e.start()}),e.deferred.promise()}function rd(e,t){if(!(!t||!t.position)){var i=p(mp),r=0,n=0,a=Tt.calculate(e,t.position),s=e.offset(),o=e.position();o.top>s.top&&(n=i.scrollTop()),o.left>s.left&&(r=i.scrollLeft()),H(t,{left:a.h.location-s.left+o.left-r,top:a.v.location-s.top+o.top-n}),delete t.position}}function nd(e,t){M(t,function(i,r){try{e.css(i,he(r)?r():r)}catch(n){}})}var rb=function(e,t){var i=p(e),r=td(i);M(r,function(a,s){s.config.delay=0,s.config.duration=0,s.isSynchronous=!0}),ps(i)||id(i,r);var n=i.data(Fn);n&&n.stop(t),i.removeData(Fn),bp(i)},Je={off:!1,animationTypes:Sp,animate:QE,createAnimation:Ep,isAnimating:ps,stop:rb,_simulatedTransitionEndDelay:100},ad=function(e){return e===0?0:e/Math.abs(e)},$i=function(e,t,i){var r=!t&&t!==0,n=!i&&i!==0;return r&&(t=n?e:Math.min(e,i)),n&&(i=r?e:Math.max(e,t)),Math.min(Math.max(e,t),i)};function Tp(e){return Math.abs(parseInt(e.toExponential().split("e")[1]))}function nb(){return 3e-4 .toPrecision(3)!=="0.000300"}function ab(e,t){var i=sb(t||0)+2,r=e.toString().split("."),n=e,a=Math.abs(e),s,o=$c(e),l=a>1?10:0;return r.length===1?e:(o||($c(t)&&(i=r[0].length+Tp(t)),e=a,e=e-Math.floor(e)+l),i=nb()&&Tp(e)>6||i>7?15:7,!o&&(s=parseFloat(e.toPrecision(i)).toString().split("."),s[0]===l.toString())?parseFloat(r[0]+"."+s[1]):parseFloat(n.toPrecision(i)))}function sb(e){var t=e.toString();if(t.indexOf(".")<0)return 0;var i=t.split("."),r=i[1].indexOf("e");return r>=0?r:i[1].length}var ob=Jt.add,wp=Math.abs,sd=0,od=1,Nn=2,_s=10,lb=0,db=180,ub=function(){return Mr("pointer-events")},cb=Yt(function(){var e=Se.real().deviceType==="desktop";if(!ub()||!e)return Q;var t=p("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return F.subscribeGlobal(t,"dxmousewheel",function(i){i.preventDefault()}),ob(function(){t.appendTo("body")}),function(i,r){t.css("pointerEvents",i?"all":"none"),i&&t.css("cursor",r)}}),hb=function(e,t){var i=cb();i(e,t)},Hn=es.inherit({gesture:!0,configure:function(e){this.getElement().css("msTouchAction",e.immediate?"pinch-zoom":""),this.callBase(e)},allowInterruptionByMouseWheel:function(){return this._stage!==Nn},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=sd},start:function(e){if(e._needSkipEvent||Yh(e)){this._cancel(e);return}this._startEvent=vl(e),this._startEventData=Ue(e),this._stage=od,this._init(e),this._setupImmediateTimer()},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate&&(this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),db))},move:function(e){if(this._stage===od&&this._directionConfirmed(e)){if(this._stage=Nn,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(e),this._adjustStartEvent(e),this._start(this._startEvent),this._stage===sd)return;this._requestAccept(e),this._move(e),this._forgetAccept()}else this._stage===Nn&&(this._clearSelection(e),this._move(e))},_directionConfirmed:function(e){var t=this._getTouchBoundary(e),i=Bi(this._startEventData,Ue(e)),r=wp(i.x),n=wp(i.y),a=this._validateMove(t,r,n),s=this._validateMove(t,n,r),o=this.getDirection(e),l=o==="both"&&(a||s),d=o==="horizontal"&&a,u=o==="vertical"&&s;return l||d||u||this._immediateAccepted},_validateMove:function(e,t,i){return t&&t>=e&&(this.immediate?t>=i:!0)},_getTouchBoundary:function(e){return this.immediate||_t(e)?lb:_s},_adjustStartEvent:function(e){var t=this._getTouchBoundary(e),i=Bi(this._startEventData,Ue(e));this._startEvent.pageX+=ad(i.x)*t,this._startEvent.pageY+=ad(i.y)*t},_resetActiveElement:function(){Se.real().platform==="ios"&&this.getElement().find(":focus").length&&Sn()},_toggleGestureCover:function(e){this._toggleGestureCoverImpl(e)},_toggleGestureCoverImpl:function(e){var t=this._stage===Nn;t&&hb(e,this.getElement().css("cursor"))},_clearSelection:function(e){_t(e)||qa(e)||RC()},end:function(e){this._toggleGestureCover(!1),this._stage===Nn?this._end(e):this._stage===od&&this._stop(e),this._stage=sd},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:Q,_start:Q,_move:Q,_stop:Q,_end:Q});Hn.initialTouchBoundary=_s,Hn.touchBoundary=function(e){if(P(e)){_s=e;return}return _s};var ur="dxdragstart",Vi="dxdrag",Vr="dxdragend",$n="dxdragenter",Vn="dxdragleave",vs="dxdrop",gs="dxDragEventsCount",gi=[],zr=[],ld=[],dd={setup:function(e,t){var i=fe(e,gi)!==-1;i||(gi.push(e),zr.push([]),ld.push(t||{}))},add:function(e,t){var i=fe(e,gi);this.updateEventsCounter(e,t.type,1);var r=t.selector;fe(r,zr[i])===-1&&zr[i].push(r)},updateEventsCounter:function(e,t,i){if([$n,Vn,vs].indexOf(t)>-1){var r=qe(e,gs)||0;qe(e,gs,Math.max(0,r+i))}},remove:function(e,t){this.updateEventsCounter(e,t.type,-1)},teardown:function(e){var t=qe(e,gs);if(!t){var i=fe(e,gi);gi.splice(i,1),zr.splice(i,1),ld.splice(i,1),$a(e,gs)}}};Bt($n,dd),Bt(Vn,dd),Bt(vs,dd);var fb=function(e){var t=fe(e.get(0),gi),i=zr[t].filter(n=>n),r=e.find(i.join(", "));return fe(void 0,zr[t])!==-1&&(r=r.add(e)),r},pb=function(e){var t=fe(e.get(0),gi);return ld[t]},_b=function(e,t){return e.itemPositionFunc?e.itemPositionFunc(t):t.offset()},vb=function(e,t){return e.itemSizeFunc?e.itemSizeFunc(t):{width:t.get(0).getBoundingClientRect().width,height:t.get(0).getBoundingClientRect().height}},gb=Hn.inherit({ctor:function(e){this.callBase(e),this.direction="both"},_init:function(e){this._initEvent=e},_start:function(e){e=this._fireEvent(ur,this._initEvent),this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset;var t=Gy(e.targetElements||(e.targetElements===null?[]:gi));this._dropTargets=et(t,function(i){return p(i).get(0)})},_move:function(e){var t=Ue(e),i=this._calculateOffset(t);e=this._fireEvent(Vi,e,{offset:i}),this._processDropTargets(e),e._cancelPreventDefault||e.preventDefault()},_calculateOffset:function(e){return{x:this._calculateXOffset(e),y:this._calculateYOffset(e)}},_calculateXOffset:function(e){if(this.direction!=="vertical"){var t=e.x-this._startEventData.x;return this._fitOffset(t,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(e){if(this.direction!=="horizontal"){var t=e.y-this._startEventData.y;return this._fitOffset(t,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(e,t,i){return t!=null&&(e=Math.max(e,-t)),i!=null&&(e=Math.min(e,i)),e},_processDropTargets:function(e){var t=this._findDropTarget(e),i=t===this._currentDropTarget;i||(this._fireDropTargetEvent(e,Vn),this._currentDropTarget=t,this._fireDropTargetEvent(e,$n))},_fireDropTargetEvent:function(e,t){if(!!this._currentDropTarget){var i={type:t,originalEvent:e,draggingElement:this._$element.get(0),target:this._currentDropTarget};Ri(i)}},_findDropTarget:function(e){var t=this,i;return M(gi,function(r,n){if(!!t._checkDropTargetActive(n)){var a=p(n);M(fb(a),function(s,o){var l=p(o);t._checkDropTarget(pb(a),l,p(i),e)&&(i=o)})}}),i},_checkDropTargetActive:function(e){var t=!1;return M(this._dropTargets,function(i,r){return t=t||r===e||Li(r,e),!t}),t},_checkDropTarget:function(e,t,i,r){var n=t.get(0)===p(r.target).get(0);if(n)return!1;var a=_b(e,t);if(r.pageX<a.left||r.pageY<a.top)return!1;var s=vb(e,t);return r.pageX>a.left+s.width||r.pageY>a.top+s.height||i.length&&i.closest(t).length||e.checkDropTarget&&!e.checkDropTarget(t,r)?!1:t},_end:function(e){var t=Ue(e);this._fireEvent(Vr,e,{offset:this._calculateOffset(t)}),this._fireDropTargetEvent(e,vs),delete this._currentDropTarget}});Nr({emitter:gb,events:[ur,Vi,Vr]});var Ip=function(){var e=[];return{add:function(t){var i=fe(t,e);i===-1&&e.push(t)},remove:function(t){var i=fe(t,e);i!==-1&&e.splice(i,1)},fire:function(){var t=e.pop(),i=!!t;return i&&t(),i},hasCallback:function(){return e.length>0}}}(),ms="dxResizable",mb="dx-resizable",xb="dx-resizable-resizing",xs="dx-resizable-handle",yb="dx-resizable-handle-top",Cb="dx-resizable-handle-bottom",Sb="dx-resizable-handle-left",Eb="dx-resizable-handle-right",ys="dx-resizable-handle-corner",bb=se(ur,ms),Tb=se(Vi,ms),wb=se(Vr,ms),Ib={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},Ap=or.inherit({_getDefaultOptions:function(){return H(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0})},_init:function(){this.callBase(),this.$element().addClass(mb)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var e=this.option("handles");if(e!=="none"){var t=e==="all"?["top","bottom","left","right"]:e.split(" ");M(t,(i,r)=>{this._renderHandle(r)}),fe("bottom",t)+1&&fe("right",t)+1&&this._renderHandle("corner-bottom-right"),fe("bottom",t)+1&&fe("left",t)+1&&this._renderHandle("corner-bottom-left"),fe("top",t)+1&&fe("right",t)+1&&this._renderHandle("corner-top-right"),fe("top",t)+1&&fe("left",t)+1&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(e){var t=p("<div>").addClass(xs).addClass(xs+"-"+e).appendTo(this.$element());this._handles.push(t)},_attachEventHandlers:function(){if(!this.option("disabled")){var e={};e[bb]=this._dragStartHandler.bind(this),e[Tb]=this._dragHandler.bind(this),e[wb]=this._dragEndHandler.bind(this),this._handles.forEach(t=>{F.on(t,e,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(e=>{F.off(e)})},_toggleEventHandlers:function(e){e?this._attachEventHandlers():this._detachEventHandlers()},_dragStartHandler:function(e){var t=this.$element();if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=bt(t);var i=rt(t.get(0));this._elementSize={width:i.width,height:i.height},this._renderDragOffsets(e),this._resizeStartAction({event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null},_toggleResizingClass:function(e){this.$element().toggleClass(xb,e)},_renderDragOffsets:function(e){var t=this._getArea();if(!!t){var i=p(e.target).closest("."+xs),r=i.outerWidth(),n=i.outerHeight(),a=i.offset(),s=t.offset,o=this._getAreaScrollOffset();e.maxLeftOffset=a.left-s.left-o.scrollX,e.maxRightOffset=s.left+t.width-a.left-r+o.scrollX,e.maxTopOffset=a.top-s.top-o.scrollY,e.maxBottomOffset=s.top+t.height-a.top-n+o.scrollY}},_getBorderWidth:function(e,t){if(nt(e.get(0)))return 0;var i=e.css(Ib[t]);return parseInt(i)||0},_dragHandler:function(e){var t=this.$element(),i=this._movingSides,r=this._elementLocation,n=this._elementSize,a=this._getOffset(e),s=n.width+a.x*(i.left?-1:1),o=n.height+a.y*(i.top?-1:1);(a.x||this.option("stepPrecision")==="strict")&&this._renderWidth(s),(a.y||this.option("stepPrecision")==="strict")&&this._renderHeight(o);var l=rt(t.get(0)),d=a.y-((l.height||o)-o),u=a.x-((l.width||s)-s);ht(t,{top:r.top+(i.top?d:0),left:r.left+(i.left?u:0)}),this._resizeAction({event:e,width:this.option("width")||s,height:this.option("height")||o,handles:this._movingSides}),Fi(t)},_getOffset:function(e){var t=e.offset,i=$o(this.option("step"),!this.option("roundStepValue")),r=this._getMovingSides(e),n=this.option("stepPrecision")==="strict";return!r.left&&!r.right&&(t.x=0),!r.top&&!r.bottom&&(t.y=0),n?this._getStrictOffset(t,i,r):this._getSimpleOffset(t,i)},_getSimpleOffset:function(e,t){return{x:e.x-e.x%t.h,y:e.y-e.y%t.v}},_getStrictOffset:function(e,t,i){var r=this._elementLocation,n=this._elementSize,a=i.left?r.left:r.left+n.width,s=i.top?r.top:r.top+n.height,o=(a+e.x)%t.h,l=(s+e.y)%t.v,d=Math.sign||(g=>(g=+g,g===0||isNaN(g)?g:g>0?1:-1)),u=(g,S)=>(1+.2*d(S))%1*g,c=(g,S)=>Math.abs(g)<.2*S,h=e.x-o,f=e.y-l;return o>u(t.h,e.x)&&(h+=t.h),l>u(t.v,e.y)&&(f+=t.v),{x:(i.left||i.right)&&!c(e.x,t.h)?h:0,y:(i.top||i.bottom)&&!c(e.y,t.v)?f:0}},_getMovingSides:function(e){var t=p(e.target),i=t.hasClass(ys+"-top-left"),r=t.hasClass(ys+"-top-right"),n=t.hasClass(ys+"-bottom-left"),a=t.hasClass(ys+"-bottom-right");return{top:t.hasClass(yb)||i||r,left:t.hasClass(Sb)||i||n,bottom:t.hasClass(Cb)||n||a,right:t.hasClass(Eb)||r||a}},_getArea:function(){var e=this.option("area");return he(e)&&(e=e.call(this)),De(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)},_getAreaScrollOffset:function(){var e=this.option("area"),t=!he(e)&&!De(e),i={scrollY:0,scrollX:0};if(t){var r=p(e)[0];nt(r)&&(i.scrollX=r.pageXOffset,i.scrollY=r.pageYOffset)}return i},_getAreaFromObject:function(e){var t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t},_getAreaFromElement:function(e){var t=p(e),i;return t.length&&(i={width:t.innerWidth(),height:t.innerHeight(),offset:H({top:0,left:0},nt(t[0])?{}:t.offset())},this._correctAreaGeometry(i,t)),i},_correctAreaGeometry:function(e,t){var i=t?this._getBorderWidth(t,"left"):0,r=t?this._getBorderWidth(t,"top"):0;e.offset.left+=i+this._getBorderWidth(this.$element(),"left"),e.offset.top+=r+this._getBorderWidth(this.$element(),"top"),e.width-=this.$element().outerWidth()-this.$element().innerWidth(),e.height-=this.$element().outerHeight()-this.$element().innerHeight()},_dragEndHandler:function(e){var t=this.$element();this._resizeEndAction({event:e,width:t.outerWidth(),height:t.outerHeight(),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(e){this.option("width",$i(e,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(e){this.option("height",$i(e,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(e){switch(e.name){case"disabled":this._toggleEventHandlers(!e.value),this.callBase(e);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":Te()&&this._renderWidth(this.$element().outerWidth());break;case"minHeight":case"maxHeight":Te()&&this._renderHeight(this.$element().outerHeight());break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":break;default:this.callBase(e)}},_clean:function(){this.$element().find("."+xs).remove()},_useTemplates:function(){return!1}});Ge(ms,Ap);var ud="dx-swatch-",Ab=e=>{var t=p(e),i=t.closest('[class^="'.concat(ud,'"], [class*=" ').concat(ud,'"]')),r=ki();if(!i.length)return r;var n=new RegExp("(\\s|^)(".concat(ud,".*?)(\\s|$)")),a=i[0].className.match(n)[2],s=r.children("."+a);return s.length||(s=p("<div>").addClass(a).appendTo(r)),s},Dp={getSwatchContainer:Ab},Cs=1500,zn=[],Db=e=>(Cs=$t(e,Cs),Cs),Ob=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cs,t=zn.length,i=(t?zn[t-1]:e)+1;return zn.push(i),i},Op=e=>{var t=zn.indexOf(e);t>=0&&zn.splice(t,1)},kb=Jt.add,Gt=Oe(),kp=Ka,Lb="dx-overlay",Pb="dx-overlay-wrapper",Bb="dx-overlay-content",Rb="dx-overlay-shader",Mb="dx-overlay-modal",Lp="dx-inner-overlay",Pp="dx-state-invisible",Fb="content",Nb="dx-rtl",Bp=["onShowing","onShown","onHiding","onHidden","onPositioned","onResizeStart","onResize","onResizeEnd"],cd=[],Hb="dx-state-disabled",Rp="dx-prevent-safari-scrolling",$b="tab",Vb={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},hd=Se.real(),zb=Fe.mozilla&&hd.deviceType==="desktop",Mp=hd.platform==="ios",Gb=Fe.safari&&hd.deviceType!=="desktop",Wb=e=>{zb&&e.width()},Fp=e=>(zc(e)&&(e=e.target),p(e));kb(()=>{F.subscribeGlobal(re.getDocument(),tt.down,e=>{for(var t=cd.length-1;t>=0;t--)if(!cd[t]._proxiedDocumentDownHandler(e))return})});var zi=ei.inherit({_supportedKeys:function(){var e=function(t,i,r){if(!!this.option("dragEnabled")){r.preventDefault(),r.stopPropagation();var n=this._allowedOffsets(),a={top:$i(t,-n.top,n.bottom),left:$i(i,-n.left,n.right)};this._changePosition(a)}};return H(this.callBase(),{escape:function(){this.hide()},upArrow:e.bind(this,-5,0),downArrow:e.bind(this,5,0),leftArrow:e.bind(this,0,-5),rightArrow:e.bind(this,0,5)})},_getDefaultOptions:function(){return H(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",position:{my:"center",at:"center"},width:function(){return .8*p(Gt).width()},minWidth:null,maxWidth:null,height:function(){return .8*p(Gt).height()},minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",dragEnabled:!1,resizeEnabled:!1,onResizeStart:null,onResize:null,onResizeEnd:null,innerOverlay:!1,target:void 0,container:void 0,hideTopOverlayHandler:()=>{this.hide()},closeOnTargetScroll:!1,onPositioned:null,boundaryOffset:{h:0,v:0},propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixedPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Te()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),H(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_init:function(){this.callBase(),this._initActions(),this._initCloseOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._$wrapper=p("<div>").addClass(Pb),this._$content=p("<div>").addClass(Bb),this._initInnerOverlayClass();var e=this.$element();this._$wrapper.addClass(e.attr("class")),e.addClass(Lb),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),F.on(this._$wrapper,"MSPointerDown",Q),F.on(this._$wrapper,"focusin",t=>{t.stopPropagation()}),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler"))},_initOptions:function(e){this._initTarget(e.target);var t=e.container===void 0?this.option("container"):e.container;this._initContainer(t),this.callBase(e)},_initInnerOverlayClass:function(){this._$content.toggleClass(Lp,this.option("innerOverlay"))},_initTarget:function(e){if(!!P(e)){var t=this.option();M(["position.of","animation.show.from.position.of","animation.show.to.position.of","animation.hide.from.position.of","animation.hide.to.position.of"],(i,r)=>{for(var n=r.split("."),a=t;a;)if(n.length===1){De(a)&&(a[n.shift()]=e);break}else a=a[n.shift()]})}},_initContainer:function(e){e=e===void 0?ki():e;var t=this.$element(),i=t.closest(e);i.length||(i=p(e).first()),this._$container=i.length?i:t.parent()},_initHideTopOverlayHandler:function(e){this._hideTopOverlayHandler=e},_initActions:function(){this._actions={},M(Bp,(e,t)=>{this._actions[t]=this._createActionByOption(t,{excludeValidators:["disabled","readOnly"]})||Q})},_initCloseOnOutsideClickHandler:function(){var e=this;this._proxiedDocumentDownHandler=function(){return e._documentDownHandler(...arguments)}},_documentDownHandler:function(e){this._showAnimationProcessing&&this._stopAnimation();var t=this.option("closeOnOutsideClick");he(t)&&(t=t(e));var i=this._$content,r=p(Gt.document).is(e.target)||Li(Gt.document,e.target),n=p(e.target).closest("."+Lp).length,a=r&&!n&&!(i.is(e.target)||Li(i.get(0),e.target));return a&&t&&this._outsideClickHandler(e),this.option("propagateOutsideClick")},_outsideClickHandler(e){this.option("shading")&&e.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return Fb},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new sr}),this.callBase()},_isTopOverlay:function(){for(var e=this._overlayStack(),t=e.length-1;t>=0;t--){var i=e[t]._findTabbableBounds();if(i.first||i.last)return e[t]===this}return!1},_overlayStack:function(){return cd},_zIndexInitValue:function(){return zi.baseZIndex()},_toggleViewPortSubscription:function(e){kp.remove(this._viewPortChangeHandle),e&&(this._viewPortChangeHandle=this._viewPortChangeHandler.bind(this),kp.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._initContainer(this.option("container")),this._refresh()},_renderVisibilityAnimate:function(e){return this._stopAnimation(),e?this._show():this._hide()},_normalizePosition:function(){var e=this.option("position");this._position=typeof e=="function"?e():e},_getAnimationConfig:function(){var e=this.option("animation");return he(e)&&(e=e.call(this)),e},_show:function(){var e=this,t=new ee;if(this._parentHidden=this._isParentHidden(),t.done(()=>{delete e._parentHidden}),this._parentHidden)return this._isHidden=!0,t.resolve();if(this._currentVisible)return new ee().resolve().promise();this._currentVisible=!0,this._isShown=!1,this._normalizePosition();var i=e._getAnimationConfig()||{},r=this._normalizeAnimation(i.show,"to"),n=r&&r.start||Q,a=r&&r.complete||Q;if(this._isHidingActionCanceled)delete this._isHidingActionCanceled,t.resolve();else{var s=()=>{if(this._renderVisibility(!0),this._isShowingActionCanceled){delete this._isShowingActionCanceled,t.resolve();return}this._animate(r,function(){e.option("focusStateEnabled")&&F.trigger(e._focusTarget(),"focus"),a.apply(this,arguments),e._showAnimationProcessing=!1,e._isShown=!0,e._actions.onShown(),e._toggleSafariScrolling(!1),t.resolve()},function(){n.apply(this,arguments),e._showAnimationProcessing=!0})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(s)):s()}return t.promise()},_normalizeAnimation:function(e,t){return e&&(e=H({type:"slide"},e),e[t]&&typeof e[t]=="object"&&H(e[t],{position:this._position})),e},_hide:function(){if(!this._currentVisible)return new ee().resolve().promise();this._currentVisible=!1;var e=this,t=new ee,i=e._getAnimationConfig()||{},r=this._normalizeAnimation(i.hide,"from"),n=r&&r.start||Q,a=r&&r.complete||Q,s={cancel:!1};return this._isShowingActionCanceled?t.resolve():(this._actions.onHiding(s),e._toggleSafariScrolling(!0),s.cancel?(this._isHidingActionCanceled=!0,this.option("visible",!0),t.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animate(r,function(){var o;e._$content.css("pointerEvents",""),e._renderVisibility(!1),a.apply(this,arguments),e._hideAnimationProcessing=!1,(o=e._actions)===null||o===void 0||o.onHidden(),t.resolve()},function(){e._$content.css("pointerEvents","none"),n.apply(this,arguments),e._hideAnimationProcessing=!0}))),t.promise()},_forceFocusLost:function(){var e=re.getActiveElement(),t=!!this._$content.find(e).length;t&&Sn()},_animate:function(e,t,i){e?(i=i||e.start||Q,Je.animate(this._$content,H({},e,{start:i,complete:t}))):t()},_stopAnimation:function(){Je.stop(this._$content,!0)},_renderVisibility:function(e){if(!(e&&this._isParentHidden())){if(this._currentVisible=e,this._stopAnimation(),e||AS(this._$content),this._toggleVisibility(e),this._$content.toggleClass(Pp,!e),this._updateZIndexStackPosition(e),e){this._renderContent();var t={cancel:!1};if(this._actions.onShowing(t),t.cancel){this._toggleVisibility(!1),this._$content.toggleClass(Pp,!0),this._updateZIndexStackPosition(!1),this._moveFromContainer(),this._isShowingActionCanceled=!0,this.option("visible",!1);return}this._moveToContainer(),this._renderGeometry(),Df(this._$content),Fi(this._$content)}else this._moveFromContainer();this._toggleShading(e),this._toggleSubscriptions(e)}},_updateZIndexStackPosition:function(e){var t=this._overlayStack(),i=fe(this,t);e?(i===-1&&(this._zIndex=Ob(this._zIndexInitValue()),t.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):i!==-1&&(t.splice(i,1),Op(this._zIndex))},_toggleShading:function(e){this._$wrapper.toggleClass(Mb,this.option("shading")&&!this.option("container")),this._$wrapper.toggleClass(Rb,e&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(e&&this.option("shading"))},_initTabTerminatorHandler:function(){var e=this;this._proxiedTabTerminatorHandler=function(){e._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(e){var t=se("keydown",this.NAME);e?F.on(re.getDocument(),t,this._proxiedTabTerminatorHandler):F.off(re.getDocument(),t,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var e=this._$wrapper.find("*"),t=e.length-1,i={first:null,last:null},r=0;r<=t&&(!i.first&&e.eq(r).is(jh)&&(i.first=e.eq(r)),!i.last&&e.eq(t-r).is(jh)&&(i.last=e.eq(t-r)),!(i.first&&i.last));r++);return i},_tabKeyHandler:function(e){if(!(pi(e)!==$b||!this._isTopOverlay())){var t=this._findTabbableBounds(),i=t.first,r=t.last,n=!e.shiftKey&&e.target===r.get(0),a=e.shiftKey&&e.target===i.get(0),s=t.length===0,o=!Li(this._$wrapper.get(0),e.target);if(n||a||s||o){e.preventDefault();var l=e.shiftKey?r:i;F.trigger(l,"focusin"),F.trigger(l,"focus")}}},_toggleSubscriptions:function(e){Te()&&(this._toggleHideTopOverlayCallback(e),this._toggleParentsScrollSubscription(e))},_toggleHideTopOverlayCallback:function(e){!this._hideTopOverlayHandler||(e?Ip.add(this._hideTopOverlayHandler):Ip.remove(this._hideTopOverlayHandler))},_toggleParentsScrollSubscription:function(e){if(!!this._position){var t=this._position.of||p(),i=this.option("closeOnTargetScroll"),r=Fp(t).parents(),n=se("scroll",this.NAME);Se.real().deviceType==="desktop"&&(r=r.add(Gt)),this._proxiedTargetParentsScrollHandler=this._proxiedTargetParentsScrollHandler||(a=>{this._targetParentsScrollHandler(a)}),F.off(p().add(this._$prevTargetParents),n,this._proxiedTargetParentsScrollHandler),e&&i&&(F.on(r,n,this._proxiedTargetParentsScrollHandler),this._$prevTargetParents=r)}},_targetParentsScrollHandler:function(e){var t=!1,i=this.option("closeOnTargetScroll");he(i)&&(t=i(e)),!t&&!this._showAnimationProcessing&&this.hide()},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var e=!this._currentVisible&&this.option("deferRendering"),t=this.option("visible")&&this._isParentHidden();if(t){this._isHidden=!0;return}this._contentAlreadyRendered||e||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var e=this.$element().parent();if(e.is(":visible"))return!1;var t=!1;return e.add(e.parents()).each(function(){var i=p(this);if(i.css("display")==="none")return t=!0,!1}),t||!re.getBody().contains(e.get(0))},_renderContentImpl:function(){var e=new ee,t=this.option("contentTemplate"),i=this._getTemplate(t),r=this._templateManager.anonymousTemplateName===t;return i&&i.render({container:Ie(this.$content()),noModel:!0,transclude:r,onRendered:()=>{e.resolve()}}),this._renderDrag(),this._renderResize(),this._renderScrollTerminator(),e.done(()=>{this.option("visible")&&this._moveToContainer()}),e.promise()},_renderDrag:function(){var e=this._getDragTarget();if(!!e){var t=se(ur,this.NAME),i=se(Vi,this.NAME);F.off(e,t),F.off(e,i),!!this.option("dragEnabled")&&(F.on(e,t,this._dragStartHandler.bind(this)),F.on(e,i,this._dragUpdateHandler.bind(this)))}},_renderResize:function(){this._resizable=this._createComponent(this._$content,Ap,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:this._resizeEndHandler.bind(this),onResize:this._actions.onResize.bind(this),onResizeStart:this._actions.onResizeStart.bind(this),minHeight:100,minWidth:100,area:this._getDragResizeContainer()})},_resizeEndHandler:function(){this._positionChangeHandled=!0;var e=this._resizable.option("width"),t=this._resizable.option("height");e&&this.option("width",e),t&&this.option("height",t),this._actions.onResizeEnd()},_renderScrollTerminator:function(){var e=this._$wrapper,t=se(Vi,this.NAME);F.off(e,t),F.on(e,t,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(i){i||this._toggleGestureCoverImpl(i)},_clearSelection:Q,isNative:!0},i=>{var r=i.originalEvent.originalEvent,{type:n}=r||{},a=n==="wheel",s=n==="mousemove",o=a&&!Tn(i);i._cancelPreventDefault=!0,r&&i.cancelable!==!1&&(!s&&!a||o)&&i.preventDefault()})},_getDragTarget:function(){return this.$content()},_dragStartHandler:function(e){e.targetElements=[],this._prevOffset={x:0,y:0};var t=this._allowedOffsets();e.maxTopOffset=t.top,e.maxBottomOffset=t.bottom,e.maxLeftOffset=t.left,e.maxRightOffset=t.right},_getDragResizeContainer:function(){var e=Nh().get(0)||this.option("container"),t=e?this._$container:p(Gt);return t},_deltaSize:function(){var e=this._$content,t=this._getDragResizeContainer(),i=e.outerWidth(),r=e.outerHeight(),n=t.outerWidth(),a=t.outerHeight();if(this._isWindow(t)){var s=re.getDocument(),o=Math.max(p(s).outerHeight(),a),l=Math.max(p(s).outerWidth(),n);a=o,n=l}return{width:n-i,height:a-r}},_dragUpdateHandler:function(e){var t=e.offset,i=this._prevOffset,r={top:t.y-i.y,left:t.x-i.x};this._changePosition(r),this._prevOffset=t},_changePosition:function(e){var t=bt(this._$content);ht(this._$content,{left:t.left+e.left,top:t.top+e.top}),this._positionChangeHandled=!0},_allowedOffsets:function(){var e=bt(this._$content),t=this._deltaSize(),i=t.height>=0&&t.width>=0,r=this.option("shading")&&!this.option("container")&&!this._isWindow(this._getContainer())?bt(this._$wrapper):{top:0,left:0},n=this.option("boundaryOffset");return{top:i?e.top+r.top+n.v:0,bottom:i?-e.top-r.top+t.height-n.v:0,left:i?e.left+r.left+n.h:0,right:i?-e.left-r.left+t.width-n.h:0}},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._attachWrapperToContainer(),this._$content.appendTo(this._$wrapper)},_attachWrapperToContainer:function(){var e=this.$element(),t=this.option("container")!==void 0,i=t?this._$container:Dp.getSwatchContainer(e);i&&i[0]===e.parent()[0]&&(i=e),this._$wrapper.appendTo(i)},_fixHeightAfterSafariAddressBarResizing:function(){this._isWindow(this._getContainer())&&Gb&&this._$wrapper.css("minHeight",Gt.innerHeight)},_renderGeometry:function(e){this.option("visible")&&Te()&&this._renderGeometryImpl(e)},_renderGeometryImpl:function(e){this._stopAnimation(),this._normalizePosition(),this._renderWrapper(),this._fixHeightAfterSafariAddressBarResizing(),this._renderDimensions();var t=this._renderPosition();this._actions.onPositioned({position:t})},_fixWrapperPosition:function(){this._$wrapper.css("position",this._useFixedPosition()?"fixed":"absolute")},_useFixedPosition:function(){return this._shouldFixBodyPosition()||this.option("_fixedPosition")},_shouldFixBodyPosition:function(){var e=this._getContainer();return this._isWindow(e)&&(!Mp||this._bodyScrollTop!==void 0)},_toggleSafariScrolling:function(e){if(Mp&&this._shouldFixBodyPosition()){var t=re.getBody();e?(p(t).removeClass(Rp),Gt.scrollTo(0,this._bodyScrollTop),this._bodyScrollTop=void 0):this.option("visible")&&(this._bodyScrollTop=Gt.pageYOffset,p(t).addClass(Rp))}},_renderWrapper:function(){this._fixWrapperPosition(),this._renderWrapperDimensions(),this._renderWrapperPosition()},_renderWrapperDimensions:function(){var e,t,i=this._getContainer();if(!!i){var r=this._isWindow(i);e=r?"":i.outerWidth(),t=r?"":i.outerHeight(),this._$wrapper.css({width:e,height:t})}},_isWindow:function(e){return!!e&&nt(e.get(0))},_renderWrapperPosition:function(){var e=this._getContainer();e&&Tt.setup(this._$wrapper,{my:"top left",at:"top left",of:e})},_getContainer:function(){var e=this._position,t=this.option("container"),i=null;return!t&&e&&(i=zc(e.of)?Gt:e.of||Gt),Fp(t||i)},_renderDimensions:function(){var e=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",e),maxWidth:this._getOptionValue("maxWidth",e),minHeight:this._getOptionValue("minHeight",e),maxHeight:this._getOptionValue("maxHeight",e),width:this._getOptionValue("width",e),height:this._getOptionValue("height",e)})},_renderPosition:function(){if(this._positionChangeHandled){var e=this._allowedOffsets();this._changePosition({top:$i(0,-e.top,e.bottom),left:$i(0,-e.left,e.right)})}else{this._renderOverlayBoundaryOffset(),hs(this._$content);var t=this._transformStringPosition(this._position,Vb),i=Tt.setup(this._$content,t);return Wb(this._$content),i}},_transformStringPosition:function(e,t){return Ae(e)&&(e=H({},t[e])),e},_renderOverlayBoundaryOffset:function(){var e=this.option("boundaryOffset");this._$content.css("margin",e.v+"px "+e.h+"px")},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=Bl.on(this._$content,null,e=>this._keyboardHandler(e))},_keyboardHandler:function(e){var t=e.originalEvent,i=p(t.target);(i.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(e){e?this.option("visible")&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)},_dimensionChanged:function(){this._renderGeometry(!0)},_clean:function(){this._contentAlreadyRendered||this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){Je.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._toggleSafariScrolling(!0),this._actions=null,this.callBase(),Op(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleDisabledState:function(e){this.callBase(...arguments),this._$content.toggleClass(Hb,Boolean(e))},_toggleRTLDirection:function(e){this._$content.toggleClass(Nb,e)},_optionChanged:function(e){var t=e.value;if(fe(e.name,Bp)>-1){this._initActions();return}switch(e.name){case"dragEnabled":this._renderDrag(),this._renderGeometry();break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"shading":case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":case"boundaryOffset":this._renderGeometry();break;case"position":this._positionChangeHandled=!1,this._renderGeometry();break;case"visible":this._renderVisibilityAnimate(t).done(()=>{!this._animateDeferred||this._animateDeferred.resolveWith(this)});break;case"target":this._initTarget(t),this._invalidate();break;case"container":this._initContainer(t),this._invalidate();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e.value),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"closeOnTargetScroll":this._toggleParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"animation":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(e);break;case"_fixedPosition":this._fixWrapperPosition();break;default:this.callBase(e)}},toggle:function(e){e=e===void 0?!this.option("visible"):e;var t=new ee;if(e===this.option("visible"))return t.resolveWith(this,[e]).promise();var i=new ee;return this._animateDeferred=i,this.option("visible",e),i.promise().done(()=>{delete this._animateDeferred,t.resolveWith(this,[this.option("visible")])}),t.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return Ie(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._renderGeometry(),Fi(this._$content)):this.callBase()}});zi.baseZIndex=e=>Db(e),Ge("dxOverlay",zi);var Ub="dx-loadpanel",Kb="dx-loadpanel-wrapper",Np="dx-loadpanel-indicator",Hp="dx-loadpanel-message",jb="dx-loadpanel-content",Xb="dx-loadpanel-content-wrapper",qb="dx-loadpanel-pane-hidden",fd=zi.inherit({_supportedKeys:function(){return H(this.callBase(),{escape:Q})},_getDefaultOptions:function(){return H(this.callBase(),{message:xe.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,resizeEnabled:!1,focusStateEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return mt()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(Ub),this.$wrapper().addClass(Kb)},_renderContentImpl:function(){this.callBase(),this.$content().addClass(jb),this._$loadPanelContentWrapper=p("<div>").addClass(Xb),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var e=this.option("delay");if(!e)return this.callBase();var t=new ee,i=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){i().done(function(){t.resolve()})},e),t.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(!!this._$loadPanelContentWrapper){var e=this.option("message");if(!!e){var t=p("<div>").addClass(Hp).text(e);this._$loadPanelContentWrapper.append(t)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=p("<div>").addClass(Np).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,ti,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+Hp).remove(),this.$content().find("."+Np).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(qb,!this.option("showPane"))},_optionChanged:function(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(e)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});Ge("dxLoadPanel",fd);var Yb=Jt.add,$p="DEVEXTREME_XHR_ERROR_UNLOAD",Zb=function(e){return[e[0],e.length<3?"=":String(e[1]).toLowerCase(),e.length<2?!0:e[e.length-1]]},Ss=function(e){return Array.isArray(e)||(e=[e]),et(e,function(t){var i={selector:he(t)||typeof t=="string"?t:t.getter||t.field||t.selector,desc:!!(t.desc||String(t.dir).charAt(0).toLowerCase()==="d")};return t.compare&&(i.compare=t.compare),i})},Jb=function(){var e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},t;return Yb(function(){var i=Oe();re.listen(i,"beforeunload",function(){t=!0})}),function(i,r){return t?$p:i.status<400?function(n){var a=e[n];return a||n}(r):i.statusText}}(),pd={count:{seed:0,step:function(e){return 1+e}},sum:{seed:0,step:function(e,t){return e+t}},min:{step:function(e,t){return t<e?t:e}},max:{step:function(e,t){return t>e?t:e}},avg:{seed:[0,0],step:function(e,t){return[e[0]+t,e[1]+1]},finalize:function(e){return e[1]?e[0]/e[1]:NaN}}},Qb=function(){var e=0,t;return{obtain:function(){e===0&&(t=new ee),e++},release:function(){e--,e<1&&t.resolve()},promise:function(){var i=e===0?new ee().resolve():t;return i.promise()},reset:function(){e=0,t&&t.resolve()}}}();function eT(e){return/^(and|&&|&)$/i.test(e)}var Es=function(e,t,i){if(Array.isArray(e)){for(var r=et(t,function(s,o){return o}),n,a=0;a<r.length;a++)if(n=r[a],!fi(t[n],i[n],0,!1))return!1;return!0}return fi(t,i,0,!1)},tT=function(e){return e[0]==="!"&&Array.isArray(e[1])},iT=function(e){return e==="and"||e==="or"},rT=function(e){var t=e[0],i=e[1];return!!(Array.isArray(t)||he(t)&&(Array.isArray(i)||he(i)||iT(i)))},Gr=function(){var e=new ee;return e.resolve.apply(e,arguments).promise()},Vp=function(){var e=new ee;return e.reject.apply(e,arguments).promise()};function nT(e,t){var i,r;return function(){return r=arguments,i||(i=setTimeout(()=>{i=void 0,r&&e.call(this,r)},he(t)?t():t)),i}}function aT(e,t){var i=[],r=nT(function(){e.call(this,i),i=[]},t);return function(n){return Array.isArray(n)&&i.push(...n),r.call(this,i)}}var sT=Fe.msie&&parseInt(Fe.version)<=11,Gn=["millisecond","second","minute","hour","day","week","month","quarter","year"],_d=function e(t){switch(t){case"millisecond":return 1;case"second":return 1e3*e("millisecond");case"minute":return 60*e("second");case"hour":return 60*e("minute");case"day":return 24*e("hour");case"week":return 7*e("day");case"month":return 30*e("day");case"quarter":return 3*e("month");case"year":return 365*e("day");default:return 0}},oT=function(e,t,i){var r=t.getTime()-e.getTime(),n=_d(i)||1;return Math.floor(r/n)},lT=function(e,t){var i=Ts(e);switch(i){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return t?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},zp=function(e){var t,i,r,n=["millisecond","second","minute","hour","day","month","year"],a={};for(t=n.length-1;t>=0;t--)r=n[t],i=Math.floor(e/_d(r)),i>0&&(a[r+"s"]=i,e-=bs(r,i));return a},dT=function(e){var t=0;return Be(e)&&M(e,function(i,r){t+=bs(i.substr(0,i.length-1),r)}),Ae(e)&&(t=bs(e,1)),t};function bs(e,t){return _d(e)*t}function Ts(e){var t=-1,i;return Ae(e)?e:Be(e)?(M(e,function(r,n){for(i=0;i<Gn.length;i++)n&&(r===Gn[i]+"s"||r===Gn[i])&&t<i&&(t=i)}),Gn[t]):""}var uT={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function cT(e){return uT[Ts(e)]||""}var Gp=function(e){return Math.floor(e/3)},Wp=function(e){return 3*Gp(e)};function Up(e,t,i,r){e=new Date(e.getTime());var n=new Date(e.getTime()),a,s,o=Ts(t);switch(o){case"second":e=new Date(1e3*Math.floor(n.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(n.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(n.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":e=Zp(e,r||0),e.setHours(0,0,0,0);break;case"quarter":a=Wp(e.getMonth()),s=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),s!==a&&e.setMonth(a)}return i&&o!=="hour"&&o!=="minute"&&o!=="second"&&Qp(n,e),e}function Kp(e){return Up(e,"day")}var hT=function(e){var t=Kp(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},fT=function(e,t){var i=0,r={year:e.getFullYear()!==t.getFullYear(),month:e.getMonth()!==t.getMonth(),day:e.getDate()!==t.getDate(),hour:e.getHours()!==t.getHours(),minute:e.getMinutes()!==t.getMinutes(),second:e.getSeconds()!==t.getSeconds(),millisecond:e.getMilliseconds()!==t.getMilliseconds()};return M(r,function(n,a){a&&i++}),i===0&&e_(e,t)!==0&&(r.hour=!0,i++),r.count=i,r};function jp(e,t,i){var r=new Date(e.getTime()),n=Ae(t)?qp(t.toLowerCase()):Re(t)?zp(t):t;return n.years&&r.setFullYear(r.getFullYear()+n.years*i),n.quarters&&r.setMonth(r.getMonth()+3*n.quarters*i),n.months&&r.setMonth(r.getMonth()+n.months*i),n.weeks&&r.setDate(r.getDate()+7*n.weeks*i),n.days&&r.setDate(r.getDate()+n.days*i),n.hours&&r.setTime(r.getTime()+36e5*n.hours*i),n.minutes&&r.setTime(r.getTime()+6e4*n.minutes*i),n.seconds&&r.setTime(r.getTime()+1e3*n.seconds*i),n.milliseconds&&r.setTime(r.getTime()+n.milliseconds*i),r}var Xp=function(e,t,i){var r=i?-1:1;return Pt(e)?jp(e,t,r):ab(e+t*r,t)},pT=function(e,t,i){var r=[],n;for(r.push(Pt(e)?new Date(e.getTime()):e),n=e;n<t;)n=Xp(n,i),r.push(n);return r},_T=function(e,t){if(e==="month")return kt(t.getFullYear(),t.getMonth(),1);if(e==="year")return kt(t.getFullYear(),0,t.getDate());if(e==="decade")return kt(Un(t),t.getMonth(),t.getDate());if(e==="century")return kt(Wn(t),t.getMonth(),t.getDate())},vT=function(e,t){if(e==="month")return kt(t.getFullYear(),t.getMonth(),ws(t));if(e==="year")return kt(t.getFullYear(),11,t.getDate());if(e==="decade")return kt(Un(t)+9,t.getMonth(),t.getDate());if(e==="century")return kt(Wn(t)+90,t.getMonth(),t.getDate())},gT=function(e,t){var i=kt(t.getFullYear(),t.getMonth(),1);return e==="month"||(i.setMonth(0),e==="year")||(e==="decade"&&i.setFullYear(Un(t)),e==="century"&&i.setFullYear(Wn(t))),i},mT=function(e,t){var i=new Date(t);return i.setDate(ws(t)),e==="month"||(i.setMonth(11),i.setDate(ws(i)),e==="year")||(e==="decade"&&i.setFullYear(Un(t)+9),e==="century"&&i.setFullYear(Wn(t)+99)),i};function ws(e){var t=kt(e.getFullYear(),e.getMonth()+1,0);return t.getDate()}var xT=function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},yT=function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},CT=function(e){var t=1;return e==="year"&&(t=12),e==="decade"&&(t=120),e==="century"&&(t=1200),t},ST=function(e){var t=1;return e==="decade"&&(t=12),e==="century"&&(t=120),t};function qp(e){var t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.weeks=1;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t}function ET(e,t){return vd(e,t)&&e.getDate()===t.getDate()}function vd(e,t){return Yp(e,t)&&e.getMonth()===t.getMonth()}function Yp(e,t){return e&&t&&e.getFullYear()===t.getFullYear()}var bT=function(e,t){if(!(!P(e)||!P(t))){var i=e.getFullYear()-e.getFullYear()%10,r=t.getFullYear()-t.getFullYear()%10;return e&&t&&i===r}},TT=function(e,t){if(!(!P(e)||!P(t))){var i=e.getFullYear()-e.getFullYear()%100,r=t.getFullYear()-t.getFullYear()%100;return e&&t&&i===r}};function Wn(e){return e&&e.getFullYear()-e.getFullYear()%100}function Un(e){return e&&e.getFullYear()-e.getFullYear()%10}var wT=function(){return"yyyy/MM/dd"},IT=function(e){if(!!P(e))return kt(e.getFullYear(),e.getMonth(),1)},AT=function(e){if(!!P(e))return kt(e.getFullYear(),e.getMonth()+1,0)};function Zp(e,t){var i=(e.getDay()-t+7)%7,r=new Date(e);return r.setDate(e.getDate()-i),r}var DT=function(e,t){var i=Wt.getDatesInterval(e,t,"day"),r=new Date(e);return i>=6&&(r=new Date(r.setDate(r.getDate()+7))),r},OT=function(e,t,i,r){return r==="date"&&(t=t&&Wt.correctDateWithUnitBeginning(t,"day"),i=i&&Wt.correctDateWithUnitBeginning(i,"day"),e=e&&Wt.correctDateWithUnitBeginning(e,"day")),Jp(e,t,i)===e},kT=function(e){var{firstMin:t,firstMax:i,secondMin:r,secondMax:n}=e;return t<=r&&r<=i||t>r&&t<n||t<n&&i>n},LT=function(e){var t=Math.floor(e),i=e%1*60;return{hours:t,minutes:i}},PT=function(e,t){var i=this.dateTimeFromDecimal(t),r=new Date(e);return(e.getHours()===i.hours&&e.getMinutes()<i.minutes||e.getHours()<i.hours)&&r.setHours(i.hours,i.minutes,0,0),r};function Jp(e,t,i){var r=e;return P(e)?(P(t)&&e<t&&(r=t),P(i)&&e>i&&(r=i),r):e}function Qp(e,t){if(!!P(e)){var i=t.getHours()-e.getHours();if(i!==0){var r=i===1||i===-23?-1:1,n=new Date(t.getTime()+36e5*r);(r>0||n.getDate()===t.getDate())&&t.setTime(n.getTime())}}}var BT=function(e){return e.setHours(e.getHours()+1),e.setMinutes(0),e};function e_(e,t){return 60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3}var RT=function(e){return new Date(e)},MT=function(e,t,i){for(var r=[],n=new Date(e.getTime());n<t;)r.push(new Date(n.getTime())),n=this.addInterval(n,i);return r},FT=function(e){return new Date(sT&&Pt(e)?e.getTime():e)},kt=function(e){var t=new Date(...arguments);return t.setFullYear(e),t},Wt={dateUnitIntervals:Gn,convertMillisecondsToDateUnits:zp,dateToMilliseconds:dT,getNextDateUnit:lT,convertDateUnitToMilliseconds:bs,getDateUnitInterval:Ts,getDateFormatByTickInterval:cT,getDatesDifferences:fT,correctDateWithUnitBeginning:Up,trimTime:Kp,setToDayEnd:hT,roundDateByStartDayHour:PT,dateTimeFromDecimal:LT,addDateInterval:jp,addInterval:Xp,getSequenceByInterval:pT,getDateIntervalByString:qp,sameDate:ET,sameMonthAndYear:vd,sameMonth:vd,sameYear:Yp,sameDecade:bT,sameCentury:TT,getDifferenceInMonth:CT,getDifferenceInMonthForCells:ST,getFirstYearInDecade:Un,getFirstDecadeInCentury:Wn,getShortDateFormat:wT,getViewFirstCellDate:_T,getViewLastCellDate:vT,getViewDown:yT,getViewUp:xT,getLastMonthDay:ws,getLastMonthDate:AT,getFirstMonthDate:IT,getFirstWeekDate:Zp,normalizeDateByWeek:DT,getQuarter:Gp,getFirstQuarterMonth:Wp,dateInRange:OT,intervalsOverlap:kT,roundToHour:BT,normalizeDate:Jp,getViewMinBoundaryDate:gT,getViewMaxBoundaryDate:mT,fixTimezoneGap:Qp,getTimezonesDifference:e_,makeDate:RT,getDatesInterval:oT,getDatesOfInterval:MT,createDate:FT,createDateWithFullYear:kt};Wt.sameView=function(e,t,i){return Wt[za("same "+e)](t,i)};var gd=10;function NT(e){var t=ad(e);return t*Math.round(Math.abs(e))}function HT(e,t){var i=Math.pow(gd,t),r=i*gd,n=e*r/gd;return NT(n)/i}function t_(e,t){var i=t||0,r=i>0?HT(...arguments):e;return r.toFixed(i)}var $T={thousandsSeparator:",",decimalSeparator:"."},i_="'",VT=15;function zT(e){return e.split(",").slice(1).map(function(t){return t.split("").filter(function(i){return i==="#"||i==="0"}).length})}function GT(e){var t=e.split(";");return t.length===1&&t.push("-"+t[0]),t}function md(e){return e.toString().split("").reverse().join("")}function WT(e){return e.indexOf("%")!==-1&&!e.match(/'[^']*%[^']*'/g)}function r_(e){return e.replace(/'.+'/g,"")}function n_(e){if(!e)return 0;var t=r_(e);return t.length-t.replace(/[#]/g,"").length}function a_(e){if(!e)return 0;var t=r_(e);return t.length-t.replace(/[0]/g,"").length}function s_(e,t,i){if(!e)return"";for(e.length>i&&(e=e.substr(0,i));e.length>t&&e.slice(-1)==="0";)e=e.substr(0,e.length-1);for(;e.length<t;)e+="0";return e}function UT(e,t,i){if(!t.length)return e;for(var r=[],n=0;e;){var a=t[n];if(!a)break;r.push(e.slice(0,a)),e=e.slice(a),n<t.length-1&&n++}return r.join(i)}function o_(e,t){return e.split(i_).map(function(i,r){var n=r%2;return!i&&n?i_:n?i:i.replace(/[,#0]+/,t)}).join("")}function KT(e){for(var t=!1,i=0;i<e.length;i++)if(e[i]==="'"&&(t=!t),e[i]==="."&&!t)return i;return e.length}function jT(e,t){return t=t||$T,function(i){if(typeof i!="number"||isNaN(i))return"";var r=GT(e),n=1/i==1/0,a=i>0||n,s=r[a?0:1];WT(s)&&(i*=100),a||(i=-i);var o=KT(s),l=[s.substr(0,o),s.substr(o+1)],d=a_(l[1]),u=d+n_(l[1]),c=a_(l[0]),h=n_(l[0])||t.unlimitedIntegerDigits?void 0:c,f=Math.floor(i).toString().length,g=$i(u,0,VT-f),S=zT(l[0]).reverse(),C=t_(i,g<0?0:g).split("."),T=s_(md(C[0]),c,h),D=s_(C[1],d,u);T=UT(T,S,t.thousandsSeparator);var b=md(o_(md(l[0]),T)),m=u?o_(l[1],D):"",x=b+(m.match(/\d/)?t.decimalSeparator:"")+m;return x}}var XT={_formatNumberCore:function(e,t,i){if(t==="currency"){i.precision=i.precision||0;var r=this.format(e,H({},i,{type:"fixedpoint"})),n=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return r=r.replace(/^(\D*)(\d.*)/,"$1"+n+"$2"),r}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},qT=(e,t)=>{if(!!t){var i=e;if(typeof e=="string"){i="";for(var r=0;r<e.length;r++)e[r]!=="$"&&(i+="\\"),i+=e[r]}for(var n={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xA4":i},a=t.split(";"),s=0;s<a.length;s++)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[s]=a[s].replace(new RegExp(o,"g"),n[o]));return a.length===2?a[0]+"_);"+a[1]:a[0]}},YT={af:"\xA4#,##0.00;(\xA4#,##0.00)","af-NA":"\xA4#,##0.00;(\xA4#,##0.00)",agq:"#,##0.00\xA4",ak:"\xA4#,##0.00",am:"\xA4#,##0.00;(\xA4#,##0.00)",ar:"\xA4#,##0.00;(\xA4#,##0.00)","ar-AE":"\xA4#,##0.00;(\xA4#,##0.00)","ar-BH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DZ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EG":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-ER":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IL":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IQ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-JO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KW":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LB":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MR":"\xA4#,##0.00;(\xA4#,##0.00)","ar-OM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-PS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-QA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TN":"\xA4#,##0.00;(\xA4#,##0.00)","ar-YE":"\xA4#,##0.00;(\xA4#,##0.00)",as:"\xA4\xA0#,##,##0.00",asa:"#,##0.00\xA0\xA4",ast:"#,##0.00\xA0\xA4",az:"#,##0.00\xA0\xA4","az-Cyrl":"#,##0.00\xA0\xA4","az-Latn":"#,##0.00\xA0\xA4",bas:"#,##0.00\xA0\xA4",be:"#,##0.00\xA0\xA4",bem:"\xA4#,##0.00;(\xA4#,##0.00)",bez:"#,##0.00\xA4",bg:"0.00\xA0\xA4;(0.00\xA0\xA4)",bm:"\xA4#,##0.00;(\xA4#,##0.00)",bn:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","bn-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",bo:"\xA4\xA0#,##0.00","bo-IN":"\xA4\xA0#,##0.00",br:"#,##0.00\xA0\xA4",brx:"\xA4\xA0#,##,##0.00",bs:"#,##0.00\xA0\xA4","bs-Cyrl":"#,##0.00\xA0\xA4","bs-Latn":"#,##0.00\xA0\xA4",ca:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-AD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-ES-VALENCIA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-FR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-IT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ccp:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","ccp-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",ce:"#,##0.00\xA0\xA4",ceb:"\xA4#,##0.00;(\xA4#,##0.00)",cgg:"\xA4#,##0.00",chr:"\xA4#,##0.00;(\xA4#,##0.00)",ckb:"\xA4\xA0#,##0.00","ckb-IR":"\xA4\xA0#,##0.00",cs:"#,##0.00\xA0\xA4",cy:"\xA4#,##0.00;(\xA4#,##0.00)",da:"#,##0.00\xA0\xA4","da-GL":"#,##0.00\xA0\xA4",dav:"\xA4#,##0.00;(\xA4#,##0.00)",de:"#,##0.00\xA0\xA4","de-AT":"#,##0.00\xA0\xA4","de-BE":"#,##0.00\xA0\xA4","de-CH":"#,##0.00\xA0\xA4","de-IT":"#,##0.00\xA0\xA4","de-LI":"#,##0.00\xA0\xA4","de-LU":"#,##0.00\xA0\xA4",dje:"#,##0.00\xA4",doi:"\xA4#,##0.00",dsb:"#,##0.00\xA0\xA4",dua:"#,##0.00\xA0\xA4",dyo:"#,##0.00\xA0\xA4",dz:"\xA4#,##,##0.00",ebu:"\xA4#,##0.00;(\xA4#,##0.00)",ee:"\xA4#,##0.00;(\xA4#,##0.00)","ee-TG":"\xA4#,##0.00;(\xA4#,##0.00)",el:"#,##0.00\xA0\xA4","el-CY":"#,##0.00\xA0\xA4",en:"\xA4#,##0.00;(\xA4#,##0.00)","en-001":"\xA4#,##0.00;(\xA4#,##0.00)","en-150":"#,##0.00\xA0\xA4","en-AE":"\xA4#,##0.00;(\xA4#,##0.00)","en-AG":"\xA4#,##0.00;(\xA4#,##0.00)","en-AI":"\xA4#,##0.00;(\xA4#,##0.00)","en-AS":"\xA4#,##0.00;(\xA4#,##0.00)","en-AT":"\xA4\xA0#,##0.00","en-AU":"\xA4#,##0.00;(\xA4#,##0.00)","en-BB":"\xA4#,##0.00;(\xA4#,##0.00)","en-BE":"#,##0.00\xA0\xA4","en-BI":"\xA4#,##0.00;(\xA4#,##0.00)","en-BM":"\xA4#,##0.00;(\xA4#,##0.00)","en-BS":"\xA4#,##0.00;(\xA4#,##0.00)","en-BW":"\xA4#,##0.00;(\xA4#,##0.00)","en-BZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-CA":"\xA4#,##0.00;(\xA4#,##0.00)","en-CC":"\xA4#,##0.00;(\xA4#,##0.00)","en-CH":"\xA4\xA0#,##0.00;\xA4-#,##0.00","en-CK":"\xA4#,##0.00;(\xA4#,##0.00)","en-CM":"\xA4#,##0.00;(\xA4#,##0.00)","en-CX":"\xA4#,##0.00;(\xA4#,##0.00)","en-CY":"\xA4#,##0.00;(\xA4#,##0.00)","en-DE":"#,##0.00\xA0\xA4","en-DG":"\xA4#,##0.00;(\xA4#,##0.00)","en-DK":"#,##0.00\xA0\xA4","en-DM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ER":"\xA4#,##0.00;(\xA4#,##0.00)","en-FI":"#,##0.00\xA0\xA4","en-FJ":"\xA4#,##0.00;(\xA4#,##0.00)","en-FK":"\xA4#,##0.00;(\xA4#,##0.00)","en-FM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GB":"\xA4#,##0.00;(\xA4#,##0.00)","en-GD":"\xA4#,##0.00;(\xA4#,##0.00)","en-GG":"\xA4#,##0.00;(\xA4#,##0.00)","en-GH":"\xA4#,##0.00;(\xA4#,##0.00)","en-GI":"\xA4#,##0.00;(\xA4#,##0.00)","en-GM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GU":"\xA4#,##0.00;(\xA4#,##0.00)","en-GY":"\xA4#,##0.00;(\xA4#,##0.00)","en-HK":"\xA4#,##0.00;(\xA4#,##0.00)","en-IE":"\xA4#,##0.00;(\xA4#,##0.00)","en-IL":"\xA4#,##0.00;(\xA4#,##0.00)","en-IM":"\xA4#,##0.00;(\xA4#,##0.00)","en-IN":"\xA4#,##0.00;(\xA4#,##0.00)","en-IO":"\xA4#,##0.00;(\xA4#,##0.00)","en-JE":"\xA4#,##0.00;(\xA4#,##0.00)","en-JM":"\xA4#,##0.00;(\xA4#,##0.00)","en-KE":"\xA4#,##0.00;(\xA4#,##0.00)","en-KI":"\xA4#,##0.00;(\xA4#,##0.00)","en-KN":"\xA4#,##0.00;(\xA4#,##0.00)","en-KY":"\xA4#,##0.00;(\xA4#,##0.00)","en-LC":"\xA4#,##0.00;(\xA4#,##0.00)","en-LR":"\xA4#,##0.00;(\xA4#,##0.00)","en-LS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MG":"\xA4#,##0.00;(\xA4#,##0.00)","en-MH":"\xA4#,##0.00;(\xA4#,##0.00)","en-MO":"\xA4#,##0.00;(\xA4#,##0.00)","en-MP":"\xA4#,##0.00;(\xA4#,##0.00)","en-MS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MT":"\xA4#,##0.00;(\xA4#,##0.00)","en-MU":"\xA4#,##0.00;(\xA4#,##0.00)","en-MW":"\xA4#,##0.00;(\xA4#,##0.00)","en-MY":"\xA4#,##0.00;(\xA4#,##0.00)","en-NA":"\xA4#,##0.00;(\xA4#,##0.00)","en-NF":"\xA4#,##0.00;(\xA4#,##0.00)","en-NG":"\xA4#,##0.00;(\xA4#,##0.00)","en-NL":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","en-NR":"\xA4#,##0.00;(\xA4#,##0.00)","en-NU":"\xA4#,##0.00;(\xA4#,##0.00)","en-NZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-PG":"\xA4#,##0.00;(\xA4#,##0.00)","en-PH":"\xA4#,##0.00;(\xA4#,##0.00)","en-PK":"\xA4#,##0.00;(\xA4#,##0.00)","en-PN":"\xA4#,##0.00;(\xA4#,##0.00)","en-PR":"\xA4#,##0.00;(\xA4#,##0.00)","en-PW":"\xA4#,##0.00;(\xA4#,##0.00)","en-RW":"\xA4#,##0.00;(\xA4#,##0.00)","en-SB":"\xA4#,##0.00;(\xA4#,##0.00)","en-SC":"\xA4#,##0.00;(\xA4#,##0.00)","en-SD":"\xA4#,##0.00;(\xA4#,##0.00)","en-SE":"#,##0.00\xA0\xA4","en-SG":"\xA4#,##0.00;(\xA4#,##0.00)","en-SH":"\xA4#,##0.00;(\xA4#,##0.00)","en-SI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","en-SL":"\xA4#,##0.00;(\xA4#,##0.00)","en-SS":"\xA4#,##0.00;(\xA4#,##0.00)","en-SX":"\xA4#,##0.00;(\xA4#,##0.00)","en-SZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-TC":"\xA4#,##0.00;(\xA4#,##0.00)","en-TK":"\xA4#,##0.00;(\xA4#,##0.00)","en-TO":"\xA4#,##0.00;(\xA4#,##0.00)","en-TT":"\xA4#,##0.00;(\xA4#,##0.00)","en-TV":"\xA4#,##0.00;(\xA4#,##0.00)","en-TZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-UG":"\xA4#,##0.00;(\xA4#,##0.00)","en-UM":"\xA4#,##0.00;(\xA4#,##0.00)","en-US-POSIX":"\xA4#,##0.00;(\xA4#,##0.00)","en-VC":"\xA4#,##0.00;(\xA4#,##0.00)","en-VG":"\xA4#,##0.00;(\xA4#,##0.00)","en-VI":"\xA4#,##0.00;(\xA4#,##0.00)","en-VU":"\xA4#,##0.00;(\xA4#,##0.00)","en-WS":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZA":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZW":"\xA4#,##0.00;(\xA4#,##0.00)",eo:"\xA4\xA0#,##0.00",es:"#,##0.00\xA0\xA4","es-419":"\xA4#,##0.00","es-AR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-BO":"\xA4#,##0.00","es-BR":"\xA4#,##0.00","es-BZ":"\xA4#,##0.00","es-CL":"\xA4#,##0.00","es-CO":"\xA4#,##0.00","es-CR":"\xA4#,##0.00","es-CU":"\xA4#,##0.00","es-DO":"\xA4#,##0.00;(\xA4#,##0.00)","es-EA":"#,##0.00\xA0\xA4","es-EC":"\xA4#,##0.00","es-GQ":"#,##0.00\xA0\xA4","es-GT":"\xA4#,##0.00","es-HN":"\xA4#,##0.00","es-IC":"#,##0.00\xA0\xA4","es-MX":"\xA4#,##0.00","es-NI":"\xA4#,##0.00","es-PA":"\xA4#,##0.00","es-PE":"\xA4#,##0.00","es-PH":"#,##0.00\xA0\xA4","es-PR":"\xA4#,##0.00","es-PY":"\xA4#,##0.00","es-SV":"\xA4#,##0.00","es-US":"\xA4#,##0.00","es-UY":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-VE":"\xA4#,##0.00",et:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",eu:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ewo:"#,##0.00\xA0\xA4",fa:"\u200E\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)","fa-AF":"\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)",ff:"#,##0.00\xA0\xA4","ff-Adlm":"\xA4\xA0#,##0.00","ff-Adlm-BF":"\xA4\xA0#,##0.00","ff-Adlm-CM":"\xA4\xA0#,##0.00","ff-Adlm-GH":"\xA4\xA0#,##0.00","ff-Adlm-GM":"\xA4\xA0#,##0.00","ff-Adlm-GW":"\xA4\xA0#,##0.00","ff-Adlm-LR":"\xA4\xA0#,##0.00","ff-Adlm-MR":"\xA4\xA0#,##0.00","ff-Adlm-NE":"\xA4\xA0#,##0.00","ff-Adlm-NG":"\xA4\xA0#,##0.00","ff-Adlm-SL":"\xA4\xA0#,##0.00","ff-Adlm-SN":"\xA4\xA0#,##0.00","ff-Latn":"#,##0.00\xA0\xA4","ff-Latn-BF":"#,##0.00\xA0\xA4","ff-Latn-CM":"#,##0.00\xA0\xA4","ff-Latn-GH":"#,##0.00\xA0\xA4","ff-Latn-GM":"#,##0.00\xA0\xA4","ff-Latn-GN":"#,##0.00\xA0\xA4","ff-Latn-GW":"#,##0.00\xA0\xA4","ff-Latn-LR":"#,##0.00\xA0\xA4","ff-Latn-MR":"#,##0.00\xA0\xA4","ff-Latn-NE":"#,##0.00\xA0\xA4","ff-Latn-NG":"#,##0.00\xA0\xA4","ff-Latn-SL":"#,##0.00\xA0\xA4",fi:"#,##0.00\xA0\xA4",fil:"\xA4#,##0.00;(\xA4#,##0.00)",fo:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fo-DK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GP":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-HT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-KM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-ML":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SY":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-VU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-WF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-YT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fur:"\xA4\xA0#,##0.00",fy:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",ga:"\xA4#,##0.00;(\xA4#,##0.00)","ga-GB":"\xA4#,##0.00;(\xA4#,##0.00)",gd:"\xA4#,##0.00;(\xA4#,##0.00)",gl:"#,##0.00\xA0\xA4",gsw:"#,##0.00\xA0\xA4","gsw-FR":"#,##0.00\xA0\xA4","gsw-LI":"#,##0.00\xA0\xA4",gu:"\xA4#,##,##0.00;(\xA4#,##,##0.00)",guz:"\xA4#,##0.00;(\xA4#,##0.00)",gv:"\xA4#,##0.00",ha:"\xA4\xA0#,##0.00","ha-GH":"\xA4\xA0#,##0.00","ha-NE":"\xA4\xA0#,##0.00",haw:"\xA4#,##0.00;(\xA4#,##0.00)",he:"#,##0.00\xA0\xA4",hi:"\xA4#,##,##0.00",hr:"#,##0.00\xA0\xA4","hr-BA":"#,##0.00\xA0\xA4",hsb:"#,##0.00\xA0\xA4",hu:"#,##0.00\xA0\xA4",hy:"#,##0.00\xA0\xA4",ia:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",id:"\xA4#,##0.00",ig:"\xA4#,##0.00;(\xA4#,##0.00)",ii:"\xA4\xA0#,##0.00",is:"#,##0.00\xA0\xA4",it:"#,##0.00\xA0\xA4","it-CH":"#,##0.00\xA0\xA4","it-SM":"#,##0.00\xA0\xA4","it-VA":"#,##0.00\xA0\xA4",ja:"\xA4#,##0.00;(\xA4#,##0.00)",jgo:"\xA4\xA0#,##0.00",jmc:"\xA4#,##0.00",jv:"\xA4\xA0#,##0.00",ka:"#,##0.00\xA0\xA4",kab:"#,##0.00\xA4",kam:"\xA4#,##0.00;(\xA4#,##0.00)",kde:"\xA4#,##0.00;(\xA4#,##0.00)",kea:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",khq:"#,##0.00\xA4",ki:"\xA4#,##0.00;(\xA4#,##0.00)",kk:"#,##0.00\xA0\xA4",kkj:"\xA4\xA0#,##0.00",kl:"\xA4#,##0.00;\xA4-#,##0.00",kln:"\xA4#,##0.00;(\xA4#,##0.00)",km:"#,##0.00\xA4;(#,##0.00\xA4)",kn:"\xA4#,##0.00;(\xA4#,##0.00)",ko:"\xA4#,##0.00;(\xA4#,##0.00)","ko-KP":"\xA4#,##0.00;(\xA4#,##0.00)",kok:"\xA4#,##0.00;(\xA4#,##0.00)",ks:"\xA4\xA0#,##,##0.00","ks-Arab":"\xA4\xA0#,##,##0.00",ksb:"#,##0.00\xA4",ksf:"#,##0.00\xA0\xA4",ksh:"#,##0.00\xA0\xA4",ku:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kw:"\xA4#,##0.00",ky:"#,##0.00\xA0\xA4",lag:"\xA4\xA0#,##0.00",lb:"#,##0.00\xA0\xA4",lg:"#,##0.00\xA4",lkt:"\xA4\xA0#,##0.00",ln:"#,##0.00\xA0\xA4","ln-AO":"#,##0.00\xA0\xA4","ln-CF":"#,##0.00\xA0\xA4","ln-CG":"#,##0.00\xA0\xA4",lo:"\xA4#,##0.00;\xA4-#,##0.00",lrc:"\xA4\xA0#,##0.00","lrc-IQ":"\xA4\xA0#,##0.00",lt:"#,##0.00\xA0\xA4",lu:"#,##0.00\xA4",luo:"#,##0.00\xA4",luy:"\xA4#,##0.00;\xA4-\xA0#,##0.00",lv:"#,##0.00\xA0\xA4",mai:"\xA4\xA0#,##0.00",mas:"\xA4#,##0.00;(\xA4#,##0.00)","mas-TZ":"\xA4#,##0.00;(\xA4#,##0.00)",mer:"\xA4#,##0.00;(\xA4#,##0.00)",mfe:"\xA4\xA0#,##0.00",mg:"\xA4#,##0.00",mgh:"\xA4\xA0#,##0.00",mgo:"\xA4\xA0#,##0.00",mi:"\xA4\xA0#,##0.00",mk:"#,##0.00\xA0\xA4",ml:"\xA4#,##0.00;(\xA4#,##0.00)",mn:"\xA4\xA0#,##0.00",mni:"\xA4\xA0#,##0.00","mni-Beng":"\xA4\xA0#,##0.00",mr:"\xA4#,##0.00;(\xA4#,##0.00)",ms:"\xA4#,##0.00;(\xA4#,##0.00)","ms-BN":"\xA4#,##0.00;(\xA4#,##0.00)","ms-ID":"\xA4#,##0.00","ms-SG":"\xA4#,##0.00;(\xA4#,##0.00)",mt:"\xA4#,##0.00",mua:"\xA4#,##0.00;(\xA4#,##0.00)",my:"\xA4\xA0#,##0.00",mzn:"\xA4\xA0#,##0.00",naq:"\xA4#,##0.00",nb:"\xA4\xA0#,##0.00","nb-SJ":"\xA4\xA0#,##0.00",nd:"\xA4#,##0.00;(\xA4#,##0.00)",nds:"\xA4\xA0#,##0.00","nds-NL":"\xA4\xA0#,##0.00",ne:"\xA4\xA0#,##,##0.00","ne-IN":"\xA4\xA0#,##,##0.00",nl:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-AW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BE":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BQ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-CW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SX":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nmg:"#,##0.00\xA0\xA4",nn:"#,##0.00\xA0\xA4",nnh:"\xA4\xA0#,##0.00",no:"\xA4\xA0#,##0.00",nus:"\xA4#,##0.00;(\xA4#,##0.00)",nyn:"\xA4#,##0.00",om:"\xA4#,##0.00","om-KE":"\xA4#,##0.00",or:"\xA4#,##0.00;(\xA4#,##0.00)",os:"\xA4\xA0#,##0.00","os-RU":"\xA4\xA0#,##0.00",pa:"\xA4\xA0#,##0.00","pa-Arab":"\xA4\xA0#,##0.00","pa-Guru":"\xA4\xA0#,##0.00",pcm:"\xA4#,##0.00",pl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ps:"\xA4#,##0.00;(\xA4#,##0.00)","ps-PK":"\xA4#,##0.00;(\xA4#,##0.00)",pt:"\xA4\xA0#,##0.00","pt-AO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CV":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-PT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-ST":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-TL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",qu:"\xA4\xA0#,##0.00","qu-BO":"\xA4\xA0#,##0.00","qu-EC":"\xA4\xA0#,##0.00",rm:"#,##0.00\xA0\xA4",rn:"#,##0.00\xA4",ro:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ro-MD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",rof:"\xA4#,##0.00",root:"\xA4\xA0#,##0.00",ru:"#,##0.00\xA0\xA4","ru-BY":"#,##0.00\xA0\xA4","ru-KG":"#,##0.00\xA0\xA4","ru-KZ":"#,##0.00\xA0\xA4","ru-MD":"#,##0.00\xA0\xA4","ru-UA":"#,##0.00\xA0\xA4",rw:"\xA4\xA0#,##0.00",rwk:"#,##0.00\xA4",sa:"\xA4\xA0#,##0.00",sah:"#,##0.00\xA0\xA4",saq:"\xA4#,##0.00;(\xA4#,##0.00)",sat:"\xA4\xA0#,##0.00","sat-Olck":"\xA4\xA0#,##0.00",sbp:"#,##0.00\xA4",sd:"\xA4\xA0#,##0.00","sd-Arab":"\xA4\xA0#,##0.00","sd-Deva":"\xA4\xA0#,##0.00",se:"#,##0.00\xA0\xA4","se-FI":"#,##0.00\xA0\xA4","se-SE":"#,##0.00\xA0\xA4",seh:"#,##0.00\xA4",ses:"#,##0.00\xA4",sg:"\xA4#,##0.00;\xA4-#,##0.00",shi:"#,##0.00\xA4","shi-Latn":"#,##0.00\xA4","shi-Tfng":"#,##0.00\xA4",si:"\xA4#,##0.00;(\xA4#,##0.00)",sk:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",smn:"#,##0.00\xA0\xA4",sn:"\xA4#,##0.00;(\xA4#,##0.00)",so:"\xA4#,##0.00;(\xA4#,##0.00)","so-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","so-ET":"\xA4#,##0.00;(\xA4#,##0.00)","so-KE":"\xA4#,##0.00;(\xA4#,##0.00)",sq:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-MK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",su:"\xA4#,##0.00","su-Latn":"\xA4#,##0.00",sv:"#,##0.00\xA0\xA4","sv-AX":"#,##0.00\xA0\xA4","sv-FI":"#,##0.00\xA0\xA4",sw:"\xA4\xA0#,##0.00","sw-CD":"\xA4\xA0#,##0.00","sw-KE":"\xA4\xA0#,##0.00","sw-UG":"\xA4\xA0#,##0.00",ta:"\xA4#,##0.00;(\xA4#,##0.00)","ta-LK":"\xA4#,##0.00;(\xA4#,##0.00)","ta-MY":"\xA4#,##0.00;(\xA4#,##0.00)","ta-SG":"\xA4#,##0.00;(\xA4#,##0.00)",te:"\xA4#,##0.00;(\xA4#,##0.00)",teo:"\xA4#,##0.00;(\xA4#,##0.00)","teo-KE":"\xA4#,##0.00;(\xA4#,##0.00)",tg:"#,##0.00\xA0\xA4",th:"\xA4#,##0.00;(\xA4#,##0.00)",ti:"\xA4#,##0.00","ti-ER":"\xA4#,##0.00",tk:"#,##0.00\xA0\xA4",to:"\xA4\xA0#,##0.00",tr:"\xA4#,##0.00;(\xA4#,##0.00)","tr-CY":"\xA4#,##0.00;(\xA4#,##0.00)",tt:"#,##0.00\xA0\xA4",twq:"#,##0.00\xA4",tzm:"#,##0.00\xA0\xA4",ug:"\xA4#,##0.00;(\xA4#,##0.00)",uk:"#,##0.00\xA0\xA4",ur:"\xA4#,##0.00;(\xA4#,##0.00)","ur-IN":"\xA4#,##0.00;(\xA4#,##0.00)",uz:"#,##0.00\xA0\xA4","uz-Arab":"\xA4\xA0#,##0.00","uz-Cyrl":"#,##0.00\xA0\xA4","uz-Latn":"#,##0.00\xA0\xA4",vai:"\xA4#,##0.00;(\xA4#,##0.00)","vai-Latn":"\xA4#,##0.00;(\xA4#,##0.00)","vai-Vaii":"\xA4#,##0.00;(\xA4#,##0.00)",vi:"#,##0.00\xA0\xA4",vun:"\xA4#,##0.00",wae:"\xA4\xA0#,##0.00",wo:"\xA4\xA0#,##0.00",xh:"\xA4#,##0.00",xog:"#,##0.00\xA0\xA4",yav:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",yi:"\xA4\xA0#,##0.00",yo:"\xA4#,##0.00;(\xA4#,##0.00)","yo-BJ":"\xA4#,##0.00;(\xA4#,##0.00)",yue:"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hant":"\xA4#,##0.00;(\xA4#,##0.00)",zgh:"#,##0.00\xA4",zh:"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-MO":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-SG":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-MO":"\xA4#,##0.00;(\xA4#,##0.00)",zu:"\xA4#,##0.00;(\xA4#,##0.00)"},ZT=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,xd={},l_=e=>{var t=vt.locale()+"/"+JSON.stringify(e);return xd[t]||(xd[t]=new Intl.NumberFormat(vt.locale(),e).format),xd[t]},JT=e=>new Intl.NumberFormat(vt.locale(),{style:"currency",currency:e}),QT={engine:function(){return"intl"},_formatNumberCore:function(e,t,i){return t==="exponential"?this.callBase.apply(this,arguments):l_(this._normalizeFormatConfig(t,i,e))(e)},_normalizeFormatConfig:function(e,t,i){var r;return e==="decimal"?r={minimumIntegerDigits:t.precision||void 0,useGrouping:!1,maximumFractionDigits:String(i).length,round:i<0?"ceil":"floor"}:r=this._getPrecisionConfig(t.precision),e==="percent"?r.style="percent":e==="currency"&&(r.style="currency",r.currency=t.currency||je().defaultCurrency),r},_getPrecisionConfig:function(e){var t;return e===null?t={minimumFractionDigits:0,maximumFractionDigits:20}:t={minimumFractionDigits:e||0,maximumFractionDigits:e||0},t},format:function(e,t){return typeof e!="number"?e:(t=this._normalizeFormat(t),t.currency==="default"&&(t.currency=je().defaultCurrency),!t||typeof t!="function"&&!t.type&&!t.formatter?l_(t)(e):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(e){var t=JT(e);return this._extractCurrencySymbolInfo(t.format(0))},_extractCurrencySymbolInfo:function(e){var t=ZT.exec(e)||[],i=t[1]?"before":"after",r=t[1]||t[4]||"",n=t[2]||t[3]||"";return{position:i,symbol:r,delimiter:n}},getCurrencySymbol:function(e){e||(e=je().defaultCurrency);var t=this._getCurrencySymbolInfo(e);return{symbol:t.symbol}},getOpenXmlCurrencyFormat:function(e){var t=e||je().defaultCurrency,i=this._getCurrencySymbolInfo(t).symbol,r=vt.getValueByClosestLocale(n=>YT[n]);return qT(i,r)}},ew=typeof Intl!="undefined",tw=4,Is=10,d_=["currency","fixedpoint","exponential","percent","decimal"],yd={1:"K",2:"M",3:"B",4:"T"},u_={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},xt=Ht({engine:function(){return"base"},numericFormats:d_,defaultLargeNumberFormatPostfixes:yd,_parseNumberFormatString:function(e){var t={};if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(" ");if(M(i,(r,n)=>{fe(n,d_)>-1?t.formatType=n:n in u_&&(t.power=u_[n])}),t.power&&!t.formatType&&(t.formatType="fixedpoint"),t.formatType)return t}},_calculateNumberPower:function(e,t,i,r){var n=Math.abs(e),a=0;if(n>1)for(;n&&n>=t&&(r===void 0||a<r);)a++,n/=t;else if(n>0&&n<1)for(;n<1&&(i===void 0||a>i);)a--,n*=t;return a},_getNumberByPower:function(e,t,i){for(var r=e;t>0;)r/=i,t--;for(;t<0;)r*=i,t++;return r},_formatNumber:function(e,t,i){t.power==="auto"&&(t.power=this._calculateNumberPower(e,1e3,0,tw)),t.power&&(e=this._getNumberByPower(e,t.power,1e3));var r=this.defaultLargeNumberFormatPostfixes[t.power]||"",n=this._formatNumberCore(e,t.formatType,i);return n=n.replace(/(\d|.$)(\D*)$/,"$1"+r+"$2"),n},_formatNumberExponential:function(e,t){var i=this._calculateNumberPower(e,Is),r=this._getNumberByPower(e,i,Is);t.precision===void 0&&(t.precision=1),r.toFixed(t.precision||0)>=Is&&(i++,r/=Is);var n=(i>=0?"+":"")+i.toString();return this._formatNumberCore(r,"fixedpoint",t)+"E"+n},_addZeroes:function(e,t){var i=Math.pow(10,t),r=e<0?"-":"";e=(Math.abs(e)*i>>>0)/i;for(var n=e.toString();n.length<t;)n="0"+n;return r+n},_addGroupSeparators:function(e){var t=e.toString().split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g,je().thousandsSeparator)+(t[1]?je().decimalSeparator+t[1]:"")},_formatNumberCore:function(e,t,i){return t==="exponential"?this._formatNumberExponential(e,i):(t!=="decimal"&&i.precision!==null&&(i.precision=i.precision||0),t==="percent"&&(e*=100),i.precision!==void 0&&(t==="decimal"?e=this._addZeroes(e,i.precision):e=i.precision===null?e.toPrecision():t_(e,i.precision)),t!=="decimal"?e=this._addGroupSeparators(e):e=e.toString().replace(".",je().decimalSeparator),t==="percent"&&(e+="%"),e)},_normalizeFormat:function(e){return e?(typeof e=="function"||De(e)||(e={type:e}),e):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(e,t){var i=this.format(90,"decimal");if(typeof e!="string"||i[1]==="0")return e;var r=t?i[1]:"0",n=t?"0":i[1],a=t?i[0]:"9",s=new RegExp("["+r+"-"+a+"]","g");return e.replace(s,o=>String.fromCharCode(o.charCodeAt(0)+(n.charCodeAt(0)-r.charCodeAt(0))))},getNegativeEtalonRegExp:function(e){var t=this._getSeparators(),i=new RegExp("[0-9"+Vo(t.decimalSeparator+t.thousandsSeparator)+"]+","g"),r=this.format(-1,e).replace(i,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(n=>{r=r.replace(n,"\\".concat(n))}),r=r.replace(" ","\\s"),r=r.replace("1",".+"),new RegExp(r,"g")},getSign:function(e,t){if(e.replace(/[^0-9-]/g,"").charAt(0)==="-")return-1;if(!t)return 1;var i=this.getNegativeEtalonRegExp(t);return e.match(i)?-1:1},format:function(e,t){if(typeof e!="number"||typeof t=="number")return e;if(t=t&&t.formatter||t,typeof t=="function")return t(e);t=this._normalizeFormat(t),t.type||(t.type="decimal");var i=this._parseNumberFormatString(t.type);if(!i){var r=this._getSeparators();return r.unlimitedIntegerDigits=t.unlimitedIntegerDigits,this.convertDigits(jT(t.type,r)(e))}return this._formatNumber(e,i,t)},parse:function(e,t){if(!!e){if(t&&t.parser)return t.parser(e);e=this.convertDigits(e,!0),t&&typeof t!="string"&&Me.log("W0011");var i=this.getDecimalSeparator(),r=new RegExp("[^0-9"+Vo(i)+"]","g"),n=e.replace(r,"").replace(i,".").replace(/\.$/g,"");if(n==="."||n==="")return null;if(this._calcSignificantDigits(n)>15)return NaN;var a=+n*this.getSign(e,t);t=this._normalizeFormat(t);var s=this._parseNumberFormatString(t.type),o=s==null?void 0:s.power;if(o){if(o==="auto"){var l=e.match(/\d(K|M|B|T)/);l&&(o=Fa(Object.keys(yd),d=>yd[d]===l[1]))}a*=Math.pow(10,3*o)}return(s==null?void 0:s.formatType)==="percent"&&(a/=100),a}},_calcSignificantDigits:function(e){var[t,i]=e.split("."),r=a=>{for(var s=-1,o=0;o<a.length;o++)if(a[o]!=="0"){s=o;break}return s>-1?a.length-s:0},n=0;return t&&(n+=r(t.split(""))),i&&(n+=r(i.split("").reverse())),n}});xt.inject(XT),ew&&xt.inject(QT);function Rt(e,t){for(;e.length<t;)e="0"+e;return e}var Kn={3:"abbreviated",4:"wide",5:"narrow"},Cd={y:function(e,t,i){var r=e[i?"getUTCFullYear":"getFullYear"]();return t===2&&(r%=100),Rt(r.toString(),t)},M:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=Kn[t];return a?r.getMonthNames(a,"format")[n]:Rt((n+1).toString(),Math.min(t,2))},L:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=Kn[t];return a?r.getMonthNames(a,"standalone")[n]:Rt((n+1).toString(),Math.min(t,2))},Q:function(e,t,i,r){var n=e[i?"getUTCMonth":"getMonth"](),a=Math.floor(n/3),s=Kn[t];return s?r.getQuarterNames(s)[a]:Rt((a+1).toString(),Math.min(t,2))},E:function(e,t,i,r){var n=e[i?"getUTCDay":"getDay"](),a=Kn[t<3?3:t];return r.getDayNames(a)[n]},a:function(e,t,i,r){var n=e[i?"getUTCHours":"getHours"](),a=n<12?0:1,s=Kn[t];return r.getPeriodNames(s)[a]},d:function(e,t,i){return Rt(e[i?"getUTCDate":"getDate"]().toString(),Math.min(t,2))},H:function(e,t,i){return Rt(e[i?"getUTCHours":"getHours"]().toString(),Math.min(t,2))},h:function(e,t,i){var r=e[i?"getUTCHours":"getHours"]();return Rt((r%12||12).toString(),Math.min(t,2))},m:function(e,t,i){return Rt(e[i?"getUTCMinutes":"getMinutes"]().toString(),Math.min(t,2))},s:function(e,t,i){return Rt(e[i?"getUTCSeconds":"getSeconds"]().toString(),Math.min(t,2))},S:function(e,t,i){return Rt(e[i?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,t)},x:function(e,t,i){var r=i?0:e.getTimezoneOffset(),n=r>0?"-":"+",a=Math.abs(r),s=Math.floor(a/60),o=a%60,l=Rt(s.toString(),2),d=Rt(o.toString(),2);return n+l+(t>=3?":":"")+(t>1||o?d:"")},X:function(e,t,i){return i||!e.getTimezoneOffset()?"Z":Cd.x(e,t,i)},Z:function(e,t,i){return Cd.X(e,t>=5?3:2,i)}},c_=function(e,t){return function(i){var r,n,a,s=0,o=!1,l,d="";if(!i)return null;if(!e)return i;var u=e[e.length-1]==="Z"||e.slice(-3)==="'Z'";for(r=0;r<e.length;r++)a=e[r],n=Cd[a],l=a===e[r+1],s++,l||(n&&!o&&(d+=n(i,s,u,t)),s=0),a==="'"&&!l?o=!o:(o||!n)&&(d+=a),a==="'"&&l&&r++;return d}},iw="\u060C",h_=" .,:;/\\<>()-[]"+iw,rw=". m.",Gi=function(e){var t=e&&xt.convertDigits(e,!1).charCodeAt(0),i=xt.convertDigits("0",!1).charCodeAt(0);return i<=t&&t<i+10},nw=function(e,t,i,r){var n=e[i],a=e[i+1];if(!r&&(n==="."||n===" "&&e.slice(i-1,i+3)===rw||n==="-"&&!Gi(a)))return!0;var s=r&&t.some(o=>e[i]!==o[i]);return h_.indexOf(n)<0&&r===Gi(n)&&(!r||s)},aw=function(e,t){if(!Gi(e[t]))for(;t>0&&!Gi(e[t-1])&&(e[t-1]==="."||h_.indexOf(e[t-1])<0);)t--;return t},sw=function(e,t,i,r){var n=0,a=[],s=function(o){return e[n]!==o[n]&&(r===void 0||Gi(e[n])===r)};for(Array.isArray(t)||(t=[t]),n=0;n<e.length;n++)if(i.indexOf(n)<0&&t.filter(s).length){n=aw(e,n);do{if(r=Gi(e[n]),!a.length&&!r&&Gi(t[0][n]))break;a.push(n),i.unshift(n),n++}while(e[n]&&nw(e,t,n,r));break}return a.length===1&&(e[i[0]-1]==="0"||e[i[0]-1]==="\u0660")&&i.unshift(i[0]-1),a},ow=function(e,t,i,r){var n=t[0],a=n<r.length?r[n]:n;return t.forEach(function(s,o){e=e.substr(0,a+o)+(i.length>1?i[o]:i)+e.substr(a+o+1)}),t.length===1&&(e=e.replace("0"+i,i+i),e=e.replace("\u0660"+i,i+i)),e},lw=function(e,t,i,r){var n,a,s;if(!Gi(e[t[0]]||"0")){for(var o=Math.max(t.length<=3?3:4,i.length);t.length>o;){for(a=t.pop(),s=r[a],r[a]=-1,n=a+1;n<r.length;n++)r[n]--;e=e.substr(0,s)+e.substr(s+1)}for(a=t[t.length-1]+1,s=a<r.length?r[a]:a;t.length<o;){for(t.push(t[t.length-1]+1),n=a;n<r.length;n++)r[n]++;e=e.substr(0,s)+" "+e.substr(s)}}return e=ow(e,t,i,r),e},f_=function(e,t){return Array.isArray(e)?e.map(function(i){return(t(i)||"").toString()}):(t(e)||"").toString()},dw=/[a-zA-Z]/g,uw=function(e,t,i,r){var n=t.split("").map(function(a,s){return i.indexOf(s)<0&&(a.match(dw)||a==="'")?r[s]:-1});return e=e.split("").map(function(a,s){var o=a,l=n.indexOf(s)>=0,d=s>0&&n.indexOf(s-1)>=0,u=n.indexOf(s+1)>=0;return l&&(d||(o="'"+o),u||(o+="'")),o}).join(""),e},p_=function(e){var t=[],i=f_(new Date(2009,8,8,6,5,4),e),r=i.split("").map(function(o,l){return l}),n=i,a={},s=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(!!n&&(s.forEach(function(o){var l=sw(i,f_(o.date,e),t,o.isDigit),d=o.pattern==="M"&&!a.d?"L":o.pattern;n=lw(n,l,d,r),a[d]=l.length}),n=uw(n,i,t,r),t.length))return n},mi={3:"abbreviated",4:"wide",5:"narrow"},__=function(e,t){return e>2?Object.keys(mi).map(function(i){return["format","standalone"].map(function(r){return t.getMonthNames(mi[i],r).join("|")}).join("|")}).join("|"):e===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},cw={":":function(e,t){var i=e>1?"{".concat(e,"}"):"";return"\\".concat(t.getTimeSeparator()).concat(i)},y:function(e){return e===2?"[0-9]{".concat(e,"}"):"[0-9]+?"},M:__,L:__,Q:function(e,t){return e>2?t.getQuarterNames(mi[e],"format").join("|"):"0?[1-4]"},E:function(e,t){return"\\D*"},a:function(e,t){return t.getPeriodNames(mi[e<3?3:e],"format").join("|")},d:function(e){return e===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(e){return e===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(e){return e===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(e){return"[0-9]{1,".concat(e,"}")},w:function(e){return e===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},xi=Number,Sd=function(e,t){return e.map(i=>i.toLowerCase()).indexOf(t.toLowerCase())},v_=function(e,t,i){return t>2?["format","standalone"].map(function(r){return Object.keys(mi).map(function(n){var a=i.getMonthNames(mi[n],r);return Sd(a,e)})}).reduce(function(r,n){return r.concat(n)}).filter(function(r){return r>=0})[0]:xi(e)-1},hw={y:function(e,t){var i=xi(e);return t===2?i<30?2e3+i:1900+i:i},M:v_,L:v_,Q:function(e,t,i){return t>2?i.getQuarterNames(mi[t],"format").indexOf(e):xi(e)-1},E:function(e,t,i){var r=i.getDayNames(mi[t<3?3:t],"format");return Sd(r,e)},a:function(e,t,i){var r=i.getPeriodNames(mi[t<3?3:t],"format");return Sd(r,e)},d:xi,H:xi,h:xi,m:xi,s:xi,S:function(e,t){for(t=Math.max(t,3),e=e.slice(0,3);t<3;)e+="0",t++;return xi(e)}},As=["y","M","d","h","m","s","S"],g_={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(e,t,i){var r=e.getHours(),n=i.h;n!==void 0&&n!==r&&r--,!t&&r===12?r=0:t&&r!==12&&(r+=12),e.setHours(r)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},fw=function(e,t){var i=e[t];if(!i)return 0;var r=0;do t++,r++;while(e[t]===i);return r},pw=function(e,t){for(var i="",r=0;r<t;r++)i+=e;return i},_w=function(e,t){for(var i="",r="",n,a=[],s=function(){r&&(a.push("'".concat(r,"'")),i+="".concat(Vo(r),")"),r="")},o=0;o<e.length;o++){var l=e[o],d=l==="'",u=cw[l];if(!(d&&(n=!n,e[o-1]!=="'")))if(u&&!n){var c=fw(e,o),h=pw(l,c);s(),a.push(h),i+="(".concat(u(c,t),")"),o+=c-1}else r||(i+="("),r+=l}return s(),gw(a)||Pa.warn("The following format may be parsed incorrectly: ".concat(e,".")),{patterns:a,regexp:new RegExp("^".concat(i,"$"),"i")}},vw=["d","H","h","m","s","w","M","L","Q"],gw=function(e){var t=n=>{if(!n)return!1;var a=n[0],s=a==="y"||a==="S",o=vw.indexOf(a)!==-1;return s||o&&n.length<3},i=!0,r=0;return e.every((n,a,s)=>(t(n)&&((o=>o[0]!=="S"&&o.length!==2)(n)&&(i=++r<2),t(s[a+1])||(r=0)),i))},mw=function(e,t,i,r,n){var a=t[0],s=g_[a],o=hw[a];if(s&&o){var l=o(i,t.length,r);n[t]=l,e[s]?e[s](l):s(e,l,n)}},xw=function(e,t,i){var r=g_[t],n="g"+r.substr(1),a=i[n]();e[r](a)},yw=function(e){return e.map(function(t){return t[0]==="'"?"":t[0]==="H"?"h":t[0]})},Cw=function(e){var t=e.map(function(i){return As.indexOf(i)});return Math.max.apply(Math,t)},Sw=function(e){var t=e.filter(function(i){return As.indexOf(i)<0});return As.concat(t)},Ew=function(e,t){var i=_w(e,t);return function(r){var n=i.regexp.exec(r);if(n){var a=new Date,s=new Date(a.getFullYear(),0,1),o=yw(i.patterns),l=Cw(o),d=Sw(o),u={};return d.forEach(function(c,h){if(!(!c||h<As.length&&h>l)){var f=o.indexOf(c);if(f>=0){var g=i.patterns[f],S=n[f+1];mw(s,g,S,t,u)}else xw(s,c,a)}}),s}return null}},bw=["January","February","March","April","May","June","July","August","September","October","November","December"],Tw=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ww=["AM","PM"],Iw=["Q1","Q2","Q3","Q4"],m_=(e,t)=>{var i={abbreviated:3,short:2,narrow:1};return et(e,r=>r.substr(0,i[t]))},jn={getMonthNames:function(e){return m_(bw,e)},getDayNames:function(e){return m_(Tw,e)},getQuarterNames:function(e){return Iw},getPeriodNames:function(e){return ww}},Aw={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1},Dw=/[\u200E\u200F]/g,cr=e=>t=>{if(!e.timeZoneName){var i=t.getFullYear(),r=String(i).length<3,n=r?i+400:i,a=new Date(Date.UTC(n,t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()));r&&a.setFullYear(i);var s=H({timeZone:"UTC"},e);return bd(a,s)}return bd(t,e)},Ed={},Ow=e=>{var t=vt.locale()+"/"+JSON.stringify(e);return Ed[t]||(Ed[t]=new Intl.DateTimeFormat(vt.locale(),e).format),Ed[t]};function bd(e,t){return Ow(t)(e).replace(Dw,"")}var Td=e=>new Intl.NumberFormat(vt.locale()).format(e),kw=(()=>{var e={};return t=>{if(!(t in e)){if(Td(0)==="0")return e[t]=!1,!1;e[t]={};for(var i=0;i<10;++i)e[t][Td(i)]=i}return e[t]}})(),Ds=e=>{var t=kw(vt.locale());return t?e.split("").map(i=>i in t?String(t[i]):i).join(""):e},x_=e=>e.replace(/(\D)0+(\d)/g,"$1$2"),Lw=(e,t)=>x_(e)===x_(t),wd=e=>e.replace("d\u2019","de "),Id={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(Id,"shortdateshorttime",{get:function(){var e=Intl.DateTimeFormat(vt.locale()).resolvedOptions();return{year:e.year,month:e.month,day:e.day,hour:"numeric",minute:"numeric"}}});var Pw=e=>typeof e=="string"&&Id[e.toLowerCase()],y_={standalone:function(e,t){var i=new Date(1999,e,13,1),r=cr({month:t})(i);return r},format:function(e,t){var i=new Date(0,e,13,1),r=wd(cr({day:"numeric",month:t})(i)),n=r.split(" ").filter(a=>a.indexOf("13")<0);return n.length===1?n[0]:n.length===2?n[0].length>n[1].length?n[0]:n[1]:y_.standalone(e,t)}},Bw={engine:function(){return"intl"},getMonthNames:function(e,t){var i={wide:"long",abbreviated:"short",narrow:"narrow"}[e||"wide"];return t=t==="format"?t:"standalone",Array.apply(null,new Array(12)).map((r,n)=>y_[t](n,i))},getDayNames:function(e){var t=(i=>Array.apply(null,new Array(7)).map((r,n)=>cr({weekday:i})(new Date(0,0,n))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[e||"wide"]);return t},getPeriodNames:function(){var e=cr({hour:"numeric",hour12:!0});return[1,13].map(t=>{var i=Td(1),r=e(new Date(0,0,1,t)).split(i);if(r.length!==2)return"";var n=r[0].length>r[1].length?r[0]:r[1];return n.trim()})},format:function(e,t){if(!!e){if(!t)return e;typeof t!="function"&&!t.formatter&&(t=t.type||t);var i=Pw(t);if(i)return cr(i)(e);var r=typeof t;return t.formatter||r==="function"||r==="string"?this.callBase.apply(this,arguments):cr(t)(e)}},parse:function(e,t){var i;return t&&!t.parser&&typeof e=="string"&&(e=wd(e),i=r=>wd(this.format(r,t))),this.callBase(e,i||t)},_parseDateBySimpleFormat:function(e,t){e=Ds(e);var i=this.getFormatParts(t),r=e.split(/\D+/).filter(s=>s.length>0);if(i.length===r.length){var n=this._generateDateArgs(i,r),a=s=>{var o=((l,d)=>{var u=d?12:0;return new Date(l.year,l.month,l.day,(l.hours+u)%24,l.minutes,l.seconds)})(n,s);if(Lw(Ds(this.format(o,t)),e))return o};return a(!1)||a(!0)}},_generateDateArgs:function(e,t){var i=new Date,r={year:i.getFullYear(),month:i.getMonth(),day:i.getDate(),hours:0,minutes:0,seconds:0};return e.forEach((n,a)=>{var s=t[a],o=parseInt(s,10);n==="month"&&(o-=1),r[n]=o}),r},formatUsesMonthName:function(e){return typeof e=="object"&&!(e.type||e.format)?e.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(e){return typeof e=="object"&&!(e.type||e.format)?e.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return Ds(bd(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(e){if(typeof e=="string")return this.callBase(e);var t=H({},Id[e.toLowerCase()]),i=new Date(2001,2,4,5,6,7),r=cr(t)(i);return r=Ds(r),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(n=>({name:n.name,index:r.indexOf(n.value)})).filter(n=>n.index>-1).sort((n,a)=>n.index-a.index).map(n=>n.name)}},Rw=0,Mw=typeof Intl!="undefined",Ad={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},Fw={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},ft=Ht({engine:function(){return"base"},_getPatternByFormat:function(e){return Ad[e.toLowerCase()]},_expandPattern:function(e){return this._getPatternByFormat(e)||e},formatUsesMonthName:function(e){return this._expandPattern(e).indexOf("MMMM")!==-1},formatUsesDayName:function(e){return this._expandPattern(e).indexOf("EEEE")!==-1},getFormatParts:function(e){var t=this._getPatternByFormat(e)||e,i=[];return M(t.split(/\W+/),(r,n)=>{M(Fw,(a,s)=>{fe(n,s)>-1&&i.push(a)})}),i},getMonthNames:function(e){return jn.getMonthNames(e)},getDayNames:function(e){return jn.getDayNames(e)},getQuarterNames:function(e){return jn.getQuarterNames(e)},getPeriodNames:function(e){return jn.getPeriodNames(e)},getTimeSeparator:function(){return":"},is24HourFormat:function(e){for(var t=new Date(2017,0,20,11,0,0,0),i=new Date(2017,0,20,23,0,0,0),r=this.format(t,e),n=this.format(i,e),a=0;a<r.length;a++)if(r[a]!==n[a])return!isNaN(parseInt(r[a]))},format:function(e,t){if(!!e){if(!t)return e;var i;if(typeof t=="function")i=t;else if(t.formatter)i=t.formatter;else if(t=t.type||t,Ae(t))return t=Ad[t.toLowerCase()]||t,xt.convertDigits(c_(t,this)(e));if(!!i)return i(e)}},parse:function(e,t){var i=this,r,n;if(!!e){if(!t)return this.parse(e,"shortdate");if(t.parser)return t.parser(e);if(typeof t=="string"&&!Ad[t.toLowerCase()])r=t;else{n=s=>{var o=i.format(s,t);return xt.convertDigits(o,!0)};try{r=p_(n)}catch(s){}}if(r)return e=xt.convertDigits(e,!0),Ew(r,this)(e);Me.log("W0012");var a=new Date(e);if(!(!a||isNaN(a.getTime())))return a}},firstDayOfWeekIndex:function(){var e=vt.getValueByClosestLocale(t=>Aw[t]);return e===void 0?Rw:e}});Mw&&ft.inject(Bw);var Xn=Ht({format:function(e,t){var i=Ae(t)&&t!==""||De(t)||he(t),r=Re(e)||Pt(e);if(!i||!r)return P(e)?e.toString():"";if(he(t))return t(e);if(Ae(t)&&(t={type:t}),Re(e))return xt.format(e,t);if(Pt(e))return ft.format(e,t)},getTimeFormat:function(e){return e?"longtime":"shorttime"},_normalizeFormat:function(e){return Array.isArray(e)?e.length===1?e[0]:function(t){return e.map(function(i){return ft.format(t,i)}).join(" ")}:e},getDateFormatByDifferences:function(e,t){var i=[],r=t&&e.millisecond&&!(e.year||e.month||e.day);return r?i.push(function(n){return n.getSeconds()+n.getMilliseconds()/1e3+"s"}):e.millisecond&&i.push("millisecond"),(e.hour||e.minute||!r&&e.second)&&i.unshift(this.getTimeFormat(e.second)),e.year&&e.month&&e.day?t&&t==="month"?"monthandyear":(i.unshift("shortdate"),this._normalizeFormat(i)):e.year&&e.month?"monthandyear":e.year&&e.quarter?"quarterandyear":e.year?"year":e.quarter?"quarter":e.month&&e.day?(t?i.unshift(function(n){return ft.getMonthNames("abbreviated")[n.getMonth()]+" "+ft.format(n,"day")}):i.unshift("monthandday"),this._normalizeFormat(i)):e.month?"month":e.day?(t?i.unshift("day"):i.unshift(function(n){return ft.format(n,"dayofweek")+", "+ft.format(n,"day")}),this._normalizeFormat(i)):this._normalizeFormat(i)},getDateFormatByTicks:function(e){var t,i,r;if(e.length>1)for(t=Wt.getDatesDifferences(e[0],e[1]),r=1;r<e.length-1;r++)i=Wt.getDatesDifferences(e[r],e[r+1]),t.count<i.count&&(t=i);else t={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0,millisecond:e[0].getMilliseconds()>0};var n=this.getDateFormatByDifferences(t);return n},getDateFormatByTickInterval:function(e,t,i){var r,n=function(o,l,d){switch(l){case"year":case"quarter":o.month=d;case"month":o.day=d;case"week":case"day":o.hour=d;case"hour":o.minute=d;case"minute":o.second=d;case"second":o.millisecond=d}};i=Ae(i)?i.toLowerCase():i;var a=Wt.getDatesDifferences(e,t);e!==t&&function(o,l,d){!d.getMilliseconds()&&d.getSeconds()?d.getSeconds()-l.getSeconds()==1&&(o.millisecond=!0,o.second=!1):!d.getSeconds()&&d.getMinutes()?d.getMinutes()-l.getMinutes()==1&&(o.second=!0,o.minute=!1):!d.getMinutes()&&d.getHours()?d.getHours()-l.getHours()==1&&(o.minute=!0,o.hour=!1):!d.getHours()&&d.getDate()>1?d.getDate()-l.getDate()==1&&(o.hour=!0,o.day=!1):d.getDate()===1&&d.getMonth()?d.getMonth()-l.getMonth()==1&&(o.day=!0,o.month=!1):!d.getMonth()&&d.getFullYear()&&d.getFullYear()-l.getFullYear()==1&&(o.month=!0,o.year=!1)}(a,e>t?t:e,e>t?e:t),r=Wt.getDateUnitInterval(a),n(a,r,!0),r=Wt.getDateUnitInterval(i||"second"),n(a,r,!1),a[{week:"day"}[r]||r]=!0;var s=this.getDateFormatByDifferences(a);return s}}),Nw="dx-selection-disabled",Hw="dx-datagrid-group-opened",$w="dx-datagrid-group-closed",Vw="dx-datagrid-expand",zw="nodata",Gw={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}},Ww=function(){var e=arguments[1],t=this.calculateCellValue(e);if(P(t)){if(C_(this.dataType)){var i=arguments[0];return Gw[i](t)}else if(this.dataType==="number"){var r=arguments[0];return Math.floor(Number(t)/r)*r}}else return null},Uw=function(e,t){return he(e)&&he(t)&&e.originalCallback&&t.originalCallback?e.originalCallback===t.originalCallback&&e.columnIndex===t.columnIndex:e===t};function C_(e){return e==="date"||e==="datetime"}var S_=function(e){e.get(0).textContent="\xA0"},Dd=function(e){e=e||[];for(var t=Ss(e),i=0;i<e.length;i++)e&&e[i]&&e[i].isExpanded!==void 0&&(t[i].isExpanded=e[i].isExpanded),e&&e[i]&&e[i].groupInterval!==void 0&&(t[i].groupInterval=e[i].groupInterval);return t},E_=function(e,t){var i=Xn.format(e,t.format)||e&&e.toString()||"",r={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(i):i,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,r):r.valueText},b_=function(e,t){var i=e.displayFormat||e.columnCaption&&t[e.summaryType+"OtherColumn"]||t[e.summaryType];return E_(e.value,{format:e.valueFormat,getDisplayFormat:function(r){return i?He(i,r,e.columnCaption):r},customizeText:e.customizeText})},T_=function(e){var t=e.data&&e.data(),i=t&&t.dxComponents,r=i&&i[0];return r&&t[r]},Kw=function e(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],i[r]))return!1;return!0}else return he(t)&&t.columnIndex>=0&&he(i)&&i.columnIndex>=0?t.columnIndex===i.columnIndex&&Xe(t.filterValue)===Xe(i.filterValue):Xe(t)==Xe(i)},Os={renderNoDataText:function(e){if(e=e||this.element(),!!e){var t=this.addWidgetPrefix(zw),i=e.find("."+t).last(),r=this._dataController.isEmpty(),n=this._dataController.isLoading();i.length||(i=p("<span>").addClass(t).appendTo(e)),r&&!n?i.removeClass("dx-hidden").text(this._getNoDataText()):i.addClass("dx-hidden")}},renderLoadPanel:function(e,t,i){var r;this._loadPanel&&this._loadPanel.$element().remove(),r=this.option("loadPanel"),r&&(r.enabled==="auto"?!i:r.enabled)?(r=H({shading:!1,message:r.text,position:function(){var n=p(Oe());return e.height()>n.height()?{of:n,boundary:e,collision:"fit"}:{of:e}},container:t},r),this._loadPanel=this._createComponent(p("<div>").appendTo(t),fd,r)):this._loadPanel=null},getIndexByKey:function(e,t,i){var r=-1;if(e!==void 0&&Array.isArray(t)){i=arguments.length<=2?"key":i;for(var n=0;n<t.length;n++){var a=P(i)?t[n][i]:t[n];if(fi(e,a)){r=n;break}}}return r},combineFilters:function(e,t){var i=[];t=t||"and";for(var r=0;r<e.length;r++)!e[r]||(i.length&&i.push(t),i.push(e[r]));if(i.length===1&&(i=i[0]),i.length)return i},checkChanges:function(e,t){for(var i=0,r=0;r<t.length;r++)e[t[r]]&&i++;return e.length&&e.length===i},equalFilterParameters:Kw,proxyMethod:function(e,t,i){e[t]||(e[t]=function(){var r=this._dataSource;return r?r[t].apply(r,arguments):i})},formatValue:E_,getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,i,r){return e.displayValueMap&&e.displayValueMap[t]!==void 0?e.displayValueMap[t]:e.calculateDisplayValue&&i&&r!=="group"?e.calculateDisplayValue(i):e.lookup&&!(r==="group"&&(e.calculateGroupValue||e.calculateDisplayValue))?e.lookup.calculateCellValue(t):t},getGroupRowSummaryText:function(e,t){for(var i="(",r=0;r<e.length;r++){var n=e[r];i+=(r>0?", ":"")+b_(n,t)}return i+")"},getSummaryText:b_,normalizeSortingInfo:Dd,getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(e,t){var i=[],r=e.dataField||e.name,n=rE.getGroupInterval(e);return n?(M(n,function(a,s){i.push(t?{selector:r,groupInterval:s,isExpanded:a<n.length-1}:Ww.bind(e,s))}),i):(t?i=[{selector:r,isExpanded:!1}]:(i=function(a){var s=e.calculateCellValue(a);return(s===void 0||s==="")&&(s=null),s},e.sortingMethod&&(i=[{selector:i,compare:e.sortingMethod.bind(e)}])),i)},equalSortParameters(e,t,i){if(e=Dd(e),t=Dd(t),Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Uw(e[r].selector,t[r].selector)||e[r].desc!==t[r].desc||e[r].groupInterval!==t[r].groupInterval||!i&&Boolean(e[r].isExpanded)!==Boolean(t[r].isExpanded))return!1;return!0}else return(!e||!e.length)==(!t||!t.length)},getPointsByColumns:function(e,t,i,r){for(var n=e.length,a=!1,s,o,l=r||0,d=[],u,c=0;c<=n;c++){c<n&&(s=e.eq(c),o=s.offset(),u=s.css("direction")==="rtl");var h={index:l,x:o?o.left+(!i&&u^c===n?rt(s[0]).width:0):0,y:o?o.top+(i&&c===n?rt(s[0]).height:0):0,columnIndex:l};if(!i&&c>0){var f=e.eq(c-1).offset();f.top<h.y&&(h.y=f.top)}t&&(a=t(h)),a||d.push(h),l++}return d},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,t){var i=p(e);if(P(t.value)&&!(t.data&&t.data.isContinuation)&&!t.row.isNewRow){var r=t.component.getView("rowsView");i.addClass(Vw).addClass(Nw),p("<div>").addClass(t.value?Hw:$w).appendTo(i),r.setAria("label",t.value?r.localize("dxDataGrid-ariaCollapse"):r.localize("dxDataGrid-ariaExpand"),i)}else S_(i)}}},setEmptyText:S_,isDateType:C_,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch(t){}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch(i){}},focusAndSelectElement:function(e,t){F.trigger(t,"focus");var i=e.option("editing.selectTextOnEditStart"),r=e.getController("keyboardNavigation"),n=r&&r._isFastEditingStarted(),a=t.get(0);if(i&&!n&&t.is(".dx-texteditor-input")&&!t.is("[readonly]")){var s=T_(t.closest(".dx-texteditor"));ye(s&&s._loadItemDeferred).done(function(){a.select()})}},getWidgetInstance:T_,getLastResizableColumnIndex:function(e,t){var i=e.some(o=>o&&!o.command&&!o.fixed&&o.allowResizing!==!1),r;for(r=e.length-1;e[r];r--){var n=e[r],a=t&&t[r],s=!i||n.allowResizing!==!1;if(!n.command&&!n.fixed&&a!=="adaptiveHidden"&&s)break}return r},isElementInCurrentGrid:function(e,t){if(t&&t.length){var i=t.closest("."+e.getWidgetContainerClass()).parent();return i.is(e.component.$element())}return!1}},jw=Oe(),Xw={getXhr:function(){return new jw.XMLHttpRequest}},qw=Ht(Xw),Od=Oe(),qn="success",kd="error",Yw="timeout",Zw="nocontent",Jw="parsererror",Qw=function(e){return 200<=e&&e<300},eI=function(e){return e!==204},tI=function(e){var t=[];for(var i in e){var r=e[i];r!==void 0&&(r===null&&(r=""),typeof r=="function"&&(r=r()),t.push(encodeURIComponent(i)+"="+encodeURIComponent(r)))}return t.join("&")},w_=function(e){var t=re.createElement("script");for(var i in e)t[i]=e[i];return t},I_=function(e){e.parentNode.removeChild(e)},A_=function(e){return re.getHead().appendChild(e)},D_=function(e){var t=w_({text:e});A_(t),I_(t)},iI=function(e){var t=w_({src:e});return new lr(function(i,r){var n={load:i,error:r},a=function(o){n[o.type](),I_(t)};for(var s in n)re.listen(t,s,a);A_(t)})},rI=function(e){var t=e.dataType||"*",i="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",r={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:i,script:i};return Gc(r,e.accepts,!0),r[t]?r[t]+(t!=="*"?", */*; q=0.01":""):r["*"]},nI=function(e){var t;return e.data&&!e.upload&&Ld(e)!=="GET"&&(t="application/x-www-form-urlencoded;charset=utf-8"),e.contentType||t},aI=function(e){return e.responseType&&e.responseType!=="text"||typeof e.responseText!="string"?e.response:e.responseText},sI=function(e,t,i){var r=aI(t);switch(i){case"jsonp":D_(r);break;case"script":D_(r),e.resolve(r,qn,t);break;case"json":try{e.resolve(JSON.parse(r),qn,t)}catch(n){e.reject(t,Jw,n)}break;default:e.resolve(r,qn,t)}},oI=function(e){if(!Te())return!0;var t=!1,i=re.createElement("a"),r=re.createElement("a");i.href=Od.location.href;try{r.href=e,r.href=r.href,t=i.protocol+"//"+i.host!=r.protocol+"//"+r.host}catch(n){t=!0}return t},lI=function(e,t){return e&&setTimeout(function(){t.customStatus=Yw,t.abort()},e)},dI=function(e){if(e.dataType==="jsonp"){var t=Math.random().toString().replace(/\D/g,""),i=e.jsonpCallback||"dxCallback"+Date.now()+"_"+t,r=e.jsonp||"callback";return e.data=e.data||{},e.data[r]=i,i}},uI=function(e,t){var i=e.data,r=typeof i=="string",n=e.url||Od.location.href;return!r&&!e.cache&&(i=i||{},i._=Date.now()),i&&!e.upload&&(r||(i=tI(i)),Ld(e)==="GET"?(i!==""&&(n+=(n.indexOf("?")>-1?"&":"?")+i),i=null):t["Content-Type"]&&t["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(i=i.replace(/%20/g,"+"))),{url:n,parameters:i}};function Ld(e){return(e.method||"GET").toUpperCase()}var cI=function(e){var t=e.headers||{};return t["Content-Type"]=t["Content-Type"]||nI(e),t.Accept=t.Accept||rI(e),!e.crossDomain&&!t["X-Requested-With"]&&(t["X-Requested-With"]="XMLHttpRequest"),t},hI=function(e){var t=qw.getXhr(),i=new ee,r=i.promise(),n=P(e.async)?e.async:!0,a=e.dataType,s=e.timeout||0,o;e.crossDomain=oI(e.url);var l=a==="jsonp"||a==="script";e.cache===void 0&&(e.cache=!l);var d=dI(e),u=cI(e),c=uI(e,u),h=c.url,f=c.parameters;if(d&&(Od[d]=function(C){i.resolve(C,qn,t)}),e.crossDomain&&l)return iI(h).then(function(){a!=="jsonp"&&i.resolve(null,qn,t)},function(){i.reject(t,kd)}),r;if(e.crossDomain&&!("withCredentials"in t))return i.reject(t,kd),r;if(t.open(Ld(e),h,n,e.username,e.password),n&&(t.timeout=s,o=lI(s,t)),t.onreadystatechange=function(C){t.readyState===4&&(clearTimeout(o),Qw(t.status)?eI(t.status)?sI(i,t,a):i.resolve(null,Zw,t):i.reject(t,t.customStatus||kd))},e.upload&&(t.upload.onprogress=e.upload.onprogress,t.upload.onloadstart=e.upload.onloadstart,t.upload.onabort=e.upload.onabort),e.xhrFields)for(var g in e.xhrFields)t[g]=e.xhrFields[g];e.responseType==="arraybuffer"&&(t.responseType=e.responseType);for(var S in u)Object.prototype.hasOwnProperty.call(u,S)&&P(u[S])&&t.setRequestHeader(S,u[S]);return e.beforeSend&&e.beforeSend(t),t.send(f),r.abort=function(){t.abort()},r},O_=Ht({sendRequest:hI}),Ye=Fo(Me.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),fI=null,Pd=function(e){var t;(t=fI)===null||t===void 0||t(e)};function pI(e,t){for(var i,r=typeof t=="string"?t.split():t.slice();r.length;)if(i=r.shift(),i in e)return!0;return!1}function k_(e,t,i,r){var n,a;if(r){for(var s=0;s<t.length;s++)if(n=t[s].items||t[s].collapsedItems||[],a=k_(e,n||[],i,r-1),a)return a}else if(hr(e,t,i)>=0)return t}function _I(e,t,i,r){return r?k_(e,t,i,r)||[]:t}function vI(e,t){if(e.key()&&(!t._dataByKeyMap||t._dataByKeyMapLength!==t.length)){for(var i={},r=t.length,n=0;n<r;n++)i[JSON.stringify(e.keyOf(t[n]))]=t[n];t._dataByKeyMap=i,t._dataByKeyMapLength=r}}function gI(e,t){if(e._dataByKeyMap)return e._dataByKeyMap[JSON.stringify(t)]}function mI(e,t){return e._dataByKeyMap?e._dataByKeyMap[JSON.stringify(t)]:!0}function L_(e,t,i){e._dataByKeyMap&&(e._dataByKeyMap[JSON.stringify(t)]=i,e._dataByKeyMapLength+=i?1:-1)}function P_(e){var t=e?Object.create(Object.getPrototypeOf(e)):{},i=Gc({},e);for(var r in i){var n=i[r];Be(n)&&!De(n)&&(i[r]=P_(n))}return Ba(t,i,!0,!0),t}function xI(e,t){var i=P_(e);return Ba(i,t,!0,!0)}function Bd(e){var{keyInfo:t,data:i,changes:r,groupCount:n,useInsertIndex:a,immutable:s,disableCache:o,logError:l}=e,d=s===!0?[...i]:i;return r.forEach(u=>{var c=u.type==="insert"?d:_I(t,d,u.key,n);switch(!o&&vI(t,c),u.type){case"update":Rd(t,c,u.key,u.data,!0,s,l);break;case"insert":Md(t,c,u.data,a&&P(u.index)?u.index:-1,!0,l);break;case"remove":B_(t,c,u.key,!0,l)}}),d}function ks(e,t,i){return e?t&&Ye.log(i):Vp(Ye.Error(i))}function Rd(e,t,i,r,n,a,s){var o,l=e.key();if(l){if(pI(r,l)&&!Es(l,i,e.keyOf(r)))return ks(n,s,"E4017");if(o=gI(t,i),!o){var d=hr(e,t,i);if(d<0)return ks(n,s,"E4009");if(o=t[d],a===!0&&P(o)){var u=xI(o,r);return t[d]=u,!n&&Gr(u,i)}}}else o=i;if(Ba(o,r,!0),!n)return je().useLegacyStoreResult?Gr(i,r):Gr(o,i)}function Md(e,t,i,r,n,a){var s,o=e.key(),l=De(i)?H({},i):i;if(o){if(s=e.keyOf(l),s===void 0||typeof s=="object"&&Vc(s)){if(Array.isArray(o))throw Ye.Error("E4007");s=l[o]=String(new Dr)}else if(t[hr(e,t,s)]!==void 0)return ks(n,a,"E4008")}else s=l;if(r>=0?t.splice(r,0,l):t.push(l),L_(t,s,l),!n)return Gr(je().useLegacyStoreResult?i:l,s)}function B_(e,t,i,r,n){var a=hr(e,t,i);if(a>-1&&(t.splice(a,1),L_(t,i,null)),r){if(a<0)return ks(r,n,"E4009")}else return Gr(i)}function hr(e,t,i){var r=e.key();if(!mI(t,i))return-1;for(var n=0,a=t.length;n<a;n++)if(Es(r,e.keyOf(t[n]),i))return n;return-1}var Yn=Ee.inherit({toArray:function(){var e=[];for(this.reset();this.next();)e.push(this.current());return e},countable:function(){return!1}}),Fd=Yn.inherit({ctor:function(e){this.array=e,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),Ls=Yn.inherit({ctor:function(e){this.iter=e},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),Nd=Ls.inherit({ctor:function(e,t){this.callBase(e),this.index=-1,this.mapper=t},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var e=this.callBase();return e&&this.index++,e}}),yI=function(e,t){return e=Xe(e),t=Xe(t),e===null&&t!==null?-1:e!==null&&t===null||e===void 0&&t!==void 0?1:e!==void 0&&t===void 0||e<t?-1:e>t?1:0},Hd=Yn.inherit({ctor:function(e,t,i,r){e instanceof Nd||(e=new Nd(e,this._wrap)),this.iter=e,this.rules=[{getter:t,desc:i,compare:r}]},thenBy:function(e,t,i){var r=new Hd(this.sortedIter||this.iter,e,t,i);return this.sortedIter||(r.rules=this.rules.concat(r.rules)),r},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var e=this;e.sortedIter||(M(e.rules,function(){this.getter=ct(this.getter)}),e.sortedIter=new Nd(new Fd(this.iter.toArray().sort(function(t,i){return e._compare(t,i)})),e._unwrap))},_wrap:function(e,t){return{index:t,value:e}},_unwrap:function(e){return e.value},_compare:function(e,t){var i=e.index,r=t.index;if(e=e.value,t=t.value,e===t)return i-r;for(var n=0,a=this.rules.length;n<a;n++){var s=this.rules[n],o=s.getter(e),l=s.getter(t),d=s.compare||yI,u=d(o,l);if(u)return s.desc?-u:u}return i-r}}),$d=function(){var e=function(i){return P(i)?i.toString():""};function t(i,r,n){return function(a){a=Xe(i(a));var s=function(o){return o===""||o===0||o===!1}(r)?a===r:a==r;return n&&(s=!s),s}}return function(i){return he(i)?i:rT(i)?function(r){var n=[],a=!1,s=!1;return M(r,function(){if(Array.isArray(this)||he(this)){if(n.length>1&&a!==s)throw new Ye.Error("E4019");n.push($d(this)),a=s,s=!0}else s=eT(this)}),function(o){for(var l=a,d=0;d<n.length;d++)if(n[d](o)!==a){l=!a;break}return l}}(i):tT(i)?function(r){var n=r[0],a=$d(r[1]);if(n==="!")return function(s){return!a(s)};throw Ye.Error("E4003",n)}(i):function(r){r=Zb(r);var n=ct(r[0]),a=r[1],s=r[2];switch(s=Xe(s),a.toLowerCase()){case"=":return t(n,s);case"<>":return t(n,s,!0);case">":return function(o){return Xe(n(o))>s};case"<":return function(o){return Xe(n(o))<s};case">=":return function(o){return Xe(n(o))>=s};case"<=":return function(o){return Xe(n(o))<=s};case"startswith":return function(o){return Xe(e(n(o))).indexOf(s)===0};case"endswith":return function(o){var l=Xe(e(n(o))),d=e(s);if(l.length<d.length)return!1;var u=l.lastIndexOf(s);return u!==-1&&u===l.length-s.length};case"contains":return function(o){return Xe(e(n(o))).indexOf(s)>-1};case"notcontains":return function(o){return Xe(e(n(o))).indexOf(s)===-1}}throw Ye.Error("E4003",a)}(i)}}(),CI=Ls.inherit({ctor:function(e,t){this.callBase(e),this.criteria=$d(t)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),SI=Yn.inherit({ctor:function(e,t){this.iter=e,this.getter=t},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var e={},t=[],i=this.iter,r=ct(this.getter);for(i.reset();i.next();){var n=i.current(),a=r(n);a in e?e[a].push(n):(e[a]=[n],t.push(a))}this.groupedIter=new Fd(et(t,function(s){return{key:s,items:e[s]}}))}}}),EI=Ls.inherit({ctor:function(e,t){this.callBase(e),this.getter=ct(t)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),bI=Ls.inherit({ctor:function(e,t,i){this.callBase(e),this.skip=Math.max(0,t),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),Ps=function e(t,i){i=i||{},t instanceof Yn||(t=new Fd(t));var r=function(d){var u=i.errorHandler;u&&u(d),Pd(d)},n=function(d){var u=new ee().fail(r),c,h=d.step,f=d.finalize;try{t.reset(),"seed"in d?c=d.seed:c=t.next()?t.current():NaN;for(var g=c;t.next();)g=h(g,t.current());u.resolve(f?f(g):g)}catch(S){u.reject(S)}return u.promise()},a=function(d){return n(pd[d])},s=function(d){return!he(d)&&!Array.isArray(d)&&(d=[].slice.call(arguments)),l(new EI(t,d))},o=function(d){return s(ct(d))};function l(d){return e(d,i)}return{toArray:function(){return t.toArray()},enumerate:function(){var d=new ee().fail(r);try{d.resolve(t.toArray())}catch(u){d.reject(u)}return d.promise()},sortBy:function(d,u,c){return l(new Hd(t,d,u,c))},thenBy:function(d,u,c){if(t instanceof Hd)return l(t.thenBy(d,u,c));throw Ye.Error("E4004")},filter:function(d){return Array.isArray(d)||(d=[].slice.call(arguments)),l(new CI(t,d))},slice:function(d,u){return u===void 0&&(u=Number.MAX_VALUE),l(new bI(t,d,u))},select:s,groupBy:function(d){return l(new SI(t,d))},aggregate:function(d,u,c){return arguments.length<2?n({step:arguments[0]}):n({seed:d,step:u,finalize:c})},count:function(){if(t.countable()){var d=new ee().fail(r);try{d.resolve(t.count())}catch(u){d.reject(u)}return d.promise()}return a("count")},sum:function(d){return d?o(d).sum():a("sum")},min:function(d){return d?o(d).min():a("min")},max:function(d){return d?o(d).max():a("max")},avg:function(d){return d?o(d).avg():a("avg")}}};function Vd(e,t){return e=e.groupBy(t[0].selector),t.length>1&&(e=e.select(function(i){return H({},i,{items:Vd(Ps(i.items),t.slice(1)).toArray()})})),e}function R_(e,t){var i=[];return M(e,function(r,n){var a=er(t,function(s){return n.selector===s.selector});a.length<1&&i.push(n)}),i.concat(t)}function TI(e,t,i){t=t||{};var r=t.filter;if(r&&(e=e.filter(r)),i)return e;var n=t.sort,a=t.select,s=t.group,o=t.skip,l=t.take;return s&&(s=Ss(s),s.keepInitialKeyOrder=!!t.group.keepInitialKeyOrder),(n||s)&&(n=Ss(n||[]),s&&!s.keepInitialKeyOrder&&(n=R_(s,n)),M(n,function(d){e=e[d?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),a&&(e=e.select(a)),s&&(e=Vd(e,s)),(l||o)&&(e=e.slice(o||0,l)),e}var Zn={multiLevelGroup:Vd,arrangeSortingInfo:R_,queryByOptions:TI},Jn=Ee.abstract,M_=Zn.queryByOptions,zd={},ii=Ee.inherit({ctor:function(e){var t=this;e=e||{},this._eventsStrategy=new Oi(this),M(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(i,r){r in e&&t.on(r.slice(2).toLowerCase(),e[r])}),this._key=e.key,this._errorHandler=e.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(e){return this._keyGetter||(this._keyGetter=ct(this.key())),this._keyGetter(e)},_requireKey:function(){if(!this.key())throw Ye.Error("E4005")},load:function(e){var t=this;return e=e||{},this._eventsStrategy.fireEvent("loading",[e]),this._withLock(this._loadImpl(e)).done(function(i){t._eventsStrategy.fireEvent("loaded",[i,e])})},_loadImpl:function(e){return M_(this.createQuery(e),e).enumerate()},_withLock:function(e){var t=new ee;return e.done(function(){var i=this,r=arguments;Qb.promise().done(function(){t.resolveWith(i,r)})}).fail(function(){t.rejectWith(this,arguments)}),t},createQuery:Jn,totalCount:function(e){return this._totalCountImpl(e)},_totalCountImpl:function(e){return M_(this.createQuery(e),e,!0).count()},byKey:function(e,t){return this._addFailHandlers(this._withLock(this._byKeyImpl(e,t)))},_byKeyImpl:Jn,insert:function(e){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("inserting",[e]),t._addFailHandlers(t._insertImpl(e).done(function(i,r){t._eventsStrategy.fireEvent("inserted",[i,r]),t._eventsStrategy.fireEvent("modified")}))},_insertImpl:Jn,update:function(e,t){var i=this;return i._eventsStrategy.fireEvent("modifying"),i._eventsStrategy.fireEvent("updating",[e,t]),i._addFailHandlers(i._updateImpl(e,t).done(function(){i._eventsStrategy.fireEvent("updated",[e,t]),i._eventsStrategy.fireEvent("modified")}))},_updateImpl:Jn,push:function(e){var t={changes:e,waitFor:[]};this._eventsStrategy.fireEvent("beforePush",[t]),ye(...t.waitFor).done(()=>{this._pushImpl(e),this._eventsStrategy.fireEvent("push",[e])})},_pushImpl:Q,remove:function(e){var t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("removing",[e]),t._addFailHandlers(t._removeImpl(e).done(function(i){t._eventsStrategy.fireEvent("removed",[i]),t._eventsStrategy.fireEvent("modified")}))},_removeImpl:Jn,_addFailHandlers:function(e){return e.fail(this._errorHandler).fail(Pd)},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}});ii.create=function(e,t){if(!(e in zd))throw Ye.Error("E4020",e);return new zd[e](t)},ii.registerClass=function(e,t){return t&&(zd[t]=e),e},ii.inherit=function(e){return function(t,i){var r=e.apply(this,[t]);return ii.registerClass(r,i),r}}(ii.inherit);var F_="totalCount",Gd="load",N_="byKey",H_="insert",$_="update",V_="remove";function Wr(e){return e&&he(e.then)}function fr(e){return new ee().resolve(e).promise()}function Qn(e,t){if(!he(t))throw Ye.Error("E4011",e)}function z_(e){throw Ye.Error("E4012",e)}function pr(e){function t(i){var r=i[0],n=i[1];return!r||!r.getResponseHeader?null:Jb(r,n)}return function(i){var r;i instanceof Error?r=i:r=new Error(t(arguments)||i&&String(i)||"Unknown error"),r.message!==$p&&e.reject(r)}}function G_(e,t){var i=e._loadFunc,r;return Qn(Gd,i),r=i.apply(e,[t]),Array.isArray(r)?r=fr(r):r==null?r=fr([]):Wr(r)||z_(Gd),At(r)}function wI(e,t){var i=e._totalCountFunc,r;if(!he(i))throw Ye.Error("E4021");return r=i.apply(e,[t]),Wr(r)||(r=Number(r),isFinite(r)||z_(F_),r=fr(r)),At(r)}function II(e,t,i){var r=e._byKeyFunc,n;return Qn(N_,r),n=r.apply(e,[t,i]),Wr(n)||(n=fr(n)),At(n)}function W_(e,t,i,r){if(t.__rawData)r(t.__rawData);else{var n=t.__rawDataPromise||G_(t,i);t._cacheRawData&&(t.__rawDataPromise=n),n.always(function(){delete t.__rawDataPromise}).done(function(a){t._cacheRawData&&(t.__rawData=a),r(a)}).fail(pr(e))}}function U_(e,t,i,r){i=i||{};var n={};"userData"in i&&(n.userData=i.userData),W_(e,t,n,function(a){var s=Ps(a,{errorHandler:t._errorHandler}),o,l,d=[],u,c;r||(o=Zn.queryByOptions(s,i),o===s?u=a.slice(0):d.push(o.enumerate().done(function(h){u=h}))),(i.requireTotalCount||r)&&(l=Zn.queryByOptions(s,i,!0),l===s?c=a.length:d.push(l.count().done(function(h){c=h}))),ye.apply(p,d).done(function(){r?e.resolve(c):i.requireTotalCount?e.resolve(u,{totalCount:c}):e.resolve(u)}).fail(function(h){e.reject(h)})})}function AI(e,t,i){W_(e,t,{},function(r){for(var n=t.key(),a,s=0,o=r.length;s<o;s++)if(a=r[s],Es(n,t.keyOf(r[s]),i)){e.resolve(a);return}e.reject(Ye.Error("E4009"))})}var ea=ii.inherit({ctor:function(e){e=e||{},this.callBase(e),this._useDefaultSearch=!!e.useDefaultSearch||e.loadMode==="raw",this._loadMode=e.loadMode,this._cacheRawData=e.cacheRawData!==!1,this._loadFunc=e[Gd],this._totalCountFunc=e[F_],this._byKeyFunc=e[N_],this._insertFunc=e[H_],this._updateFunc=e[$_],this._removeFunc=e[V_]},createQuery:function(){throw Ye.Error("E4010")},clearRawDataCache:function(){delete this.__rawData},_totalCountImpl:function(e){var t=new ee;return this._loadMode==="raw"&&!this._totalCountFunc?U_(t,this,e,!0):(wI(this,e).done(function(i){t.resolve(Number(i))}).fail(pr(t)),t=this._addFailHandlers(t)),t.promise()},_pushImpl:function(e){this.__rawData&&Bd({keyInfo:this,data:this.__rawData,changes:e})},_loadImpl:function(e){var t=new ee;return this._loadMode==="raw"?U_(t,this,e,!1):(G_(this,e).done(function(i,r){t.resolve(i,r)}).fail(pr(t)),t=this._addFailHandlers(t)),t.promise()},_byKeyImpl:function(e,t){var i=new ee;return this._byKeyViaLoad()?(this._requireKey(),AI(i,this,e)):II(this,e,t).done(function(r){i.resolve(r)}).fail(pr(i)),i.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(e){var t=this,i=t._insertFunc,r,n=new ee;return Qn(H_,i),r=i.apply(t,[e]),Wr(r)||(r=fr(r)),At(r).done(function(a){je().useLegacyStoreResult?n.resolve(e,a):n.resolve(a||e,t.keyOf(a))}).fail(pr(n)),n.promise()},_updateImpl:function(e,t){var i=this._updateFunc,r,n=new ee;return Qn($_,i),r=i.apply(this,[e,t]),Wr(r)||(r=fr(r)),At(r).done(function(a){je().useLegacyStoreResult?n.resolve(e,t):n.resolve(a||t,e)}).fail(pr(n)),n.promise()},_removeImpl:function(e){var t=this._removeFunc,i,r=new ee;return Qn(V_,t),i=t.apply(this,[e]),Wr(i)||(i=fr()),At(i).done(function(){r.resolve(e)}).fail(pr(r)),r.promise()}});function K_(e){var t=[],i=!1;function r(){for(;t.length;){i=!0;var n=t.shift(),a=n();if(a!==void 0){if(a.then){ye(a).always(r);return}throw Me.Error("E0015")}}i=!1}return{add:function(n,a){e?(t[0]&&a&&a(t[0]),t=[n]):t.push(n),i||r()},busy:function(){return i}}}K_().add;function DI(e,t){if(e==null)return{};var i={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var OI={},kI=function e(t,i,r){r=r||[],i=i||{};var n=function(o,l){return{name:o,args:l}},a=function(o){var l=new ee,d,u,c,h,f,g=function(T){var D=i.errorHandler;D&&D(T),Pd(T),l.reject(T)};function S(T){switch(T.name){case"sortBy":return f=[T.args],!0;case"thenBy":if(!f)throw Ye.Error("E4004");return f.push(T.args),!0}return!1}try{d=i.adapter,he(d)||(d=OI[d]),u=d(i),c=[].concat(r).concat(o);var C=u.optimize;for(C&&C(c);c.length;){if(h=c[0],!S(h)){if(f){c.unshift(n("multiSort",[f])),f=null;continue}if(String(h.name)!=="enumerate"&&(!u[h.name]||u[h.name].apply(u,h.args)===!1))break}c.shift()}(function(){var T=c[0],D=[];T&&T.name==="multiSort"&&(c.shift(),M(T.args[0],function(){D.push(n(D.length?"thenBy":"sortBy",this))})),c=D.concat(c)})(),u.exec(t).done(function(T,D){if(!c.length)l.resolve(T,D);else{var b=Ps(T,{errorHandler:i.errorHandler});M(c,function(){b=b[this.name].apply(b,this.args)}),b.done(l.resolve).fail(l.reject)}}).fail(g)}catch(T){g(T)}return l.promise()},s={};return M(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var o=String(this);s[o]=function(){return e(t,i,r.concat(n(o,arguments)))}}),M(["count","min","max","sum","avg","aggregate","enumerate"],function(){var o=String(this);s[o]=function(){return a.call(this,n(o,arguments))}}),s},LI={array:Ps,remote:kI},ri=function(){var e=Array.isArray(arguments[0])?"array":"remote";return LI[e].apply(this,arguments)},Bs=ii.inherit({ctor:function(e){Array.isArray(e)?e={data:e}:e=e||{},this.callBase(e);var t=e.data;if(t&&!Array.isArray(t))throw Ye.Error("E4006");this._array=t||[]},createQuery:function(){return ri(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(e){var t=hr(this,this._array,e);return t===-1?Vp(Ye.Error("E4009")):Gr(this._array[t])},_insertImpl:function(e){return Md(this,this._array,e)},_pushImpl:function(e){Bd({keyInfo:this,data:this._array,changes:e})},_updateImpl:function(e,t){return Rd(this,this._array,e,t)},_removeImpl:function(e){return B_(this,this._array,e)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),PI=["items"],j_="canceled",X_=e=>e.state()==="pending",q_=e=>{switch(e.length){case 0:return;case 1:return e[0]}return[].slice.call(e)},BI=(e,t,i)=>et(e,r=>{var n=DI(r,PI);return st({},n,{items:Y_(r.items,t-1,i)})}),Y_=(e,t,i)=>Array.isArray(e)?t?BI(e,t,i):et(e,i):e,RI=(e,t,i)=>{var r=i?Ss(i).length:0;return Y_(e,r,t)},Rs=(e,t)=>{var i;return(i=e)!==null&&i!==void 0&&i.data&&(t=e,e=e.data),Array.isArray(e)||(e=[e]),{data:e,extra:t}},MI=e=>{var t={};return M(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){t[this]=e[this],delete e[this]}),new ea(t)},FI=e=>{var t=e.type;return delete e.type,ii.create(t,e)},NI=(e,t)=>new ea({load:()=>O_.sendRequest({url:e,dataType:"json"}),loadMode:t==null?void 0:t.fromUrlLoadMode}),Wd=(e,t)=>{var i;return typeof e=="string"&&(e={paginate:!1,store:NI(e,t)}),e===void 0&&(e=[]),Array.isArray(e)||e instanceof ii?e={store:e}:e=H({},e),e.store===void 0&&(e.store=[]),i=e.store,"load"in e?i=MI(e):Array.isArray(i)?i=new Bs(i):De(i)&&(i=FI(H({},i))),e.store=i,e};class HI{constructor(){this._counter=-1,this._deferreds={}}add(t){return this._counter++,this._deferreds[this._counter]=t,this._counter}remove(t){return delete this._deferreds[t]}cancel(t){return t in this._deferreds?(this._deferreds[t].reject(j_),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}var _r=Ee.inherit({ctor(e){var t;e=Wd(e),this._eventsStrategy=new Oi(this,{syncStrategy:!0}),this._store=e.store,this._changedTime=0;var i=e.pushAggregationTimeout!==0;if(i){var r=e.pushAggregationTimeout===void 0?()=>5*this._changedTime:e.pushAggregationTimeout,n,a,s=aT(o=>{n.resolve();var l=ye(...a);l.done(()=>this._onPush(o)),a=void 0,n=void 0},r);this._onPushHandler=o=>{this._aggregationTimeoutId=s(o.changes),n||(n=new ee),a=o.waitFor,o.waitFor.push(n.promise())},this._store.on("beforePush",this._onPushHandler)}else this._onPushHandler=o=>this._onPush(o),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(e),this._mapFunc=e.map,this._postProcessFunc=e.postProcess,this._pageIndex=e.pageIndex!==void 0?e.pageIndex:0,this._pageSize=e.pageSize!==void 0?e.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in e?e.searchValue:null,this._searchOperation=e.searchOperation||"contains",this._searchExpr=e.searchExpr,this._paginate=e.paginate,this._reshapeOnPush=(t=e.reshapeOnPush)!==null&&t!==void 0?t:!1,M(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(o,l)=>{l in e&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),e[l])}),this._operationManager=new HI,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,P(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var e;this._store.off("beforePush",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),delete this._store,(e=this._delayedLoadTask)===null||e===void 0||e.abort(),this._operationManager.cancelAll(),this._disposed=!0},_extractLoadOptions(e){var t={},i=["sort","filter","select","group","requireTotalCount"],r=this._store._customLoadOptions();return r&&(i=i.concat(r)),M(i,function(){t[this]=e[this]}),t},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(e){if(!Re(e))return this._pageIndex;this._pageIndex=e,this._isLastPage=!this._paginate},paginate(e){if(!ka(e))return this._paginate;this._paginate!==e&&(this._paginate=e,this.pageIndex(0))},pageSize(e){if(!Re(e))return this._pageSize;this._pageSize=e},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(e){return t=>{var i=q_(t);if(i===void 0)return this._storeLoadOptions[e];this._storeLoadOptions[e]=i}},sort(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("sort")(t)},filter(){var e=q_(arguments);if(e===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=e,this.pageIndex(0)},group(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("group")(t)},select(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.generateStoreLoadOptionAccessor("select")(t)},requireTotalCount(e){if(!ka(e))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=e},searchValue(e){if(arguments.length<1)return this._searchValue;this._searchValue=e,this.pageIndex(0)},searchOperation(e){if(!Ae(e))return this._searchOperation;this._searchOperation=e,this.pageIndex(0)},searchExpr(e){var t=arguments.length;if(t===0)return this._searchExpr;t>1&&(e=[].slice.call(arguments)),this._searchExpr=e,this.pageIndex(0)},store(){return this._store},key(){var e;return(e=this._store)===null||e===void 0?void 0:e.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>K_(),_changeLoadingCount(e){var t=this.isLoading();this._loadingCount+=e;var i=this.isLoading();t^i&&this._eventsStrategy.fireEvent("loadingChanged",[i])},_scheduleLoadCallbacks(e){this.beginLoading(),e.always(()=>{this.endLoading()})},_scheduleFailCallbacks(e){var t=this;e.fail(function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];r[0]!==j_&&t._eventsStrategy.fireEvent("loadError",r)})},_fireChanged(e){var t=new Date;this._eventsStrategy.fireEvent("changed",e),this._changedTime=new Date-t},_scheduleChangedCallbacks(e){e.done(()=>this._fireChanged())},loadSingle(e,t){var i=new ee,r=this.key(),n=this._store,a=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(t=e,e=r),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString,(()=>e===r||n instanceof ea&&!n._byKeyViaLoad()?n.byKey(t,a):(a.take=1,a.filter=a.filter?[a.filter,[e,t]]:[e,t],n.load(a)))().fail(i.reject).done(s=>{!P(s)||zy(s)?i.reject(new Ye.Error("E4009")):(Array.isArray(s)||(s=[s]),i.resolve(this._applyMapFunction(s)[0]))}),i.promise()},load(){var e=new ee,t=()=>{if(!this._disposed&&!!X_(e))return this._loadFromStore(i,e)};this._scheduleLoadCallbacks(e),this._scheduleFailCallbacks(e),this._scheduleChangedCallbacks(e);var i=this._createLoadOperation(e);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(()=>(typeof i.delay=="number"?this._delayedLoadTask=No(t,i.delay):t(),e.promise())),e.promise({operationId:i.operationId})},_onPush(e){if(this._reshapeOnPush)this.load();else{this._eventsStrategy.fireEvent("changing",[{changes:e}]);var t=this.group(),i=this.items(),r=0,n=this.paginate()||t?e.filter(a=>a.type==="update"):e;t&&(r=Array.isArray(t)?t.length:1),this._mapFunc&&n.forEach(a=>{a.type==="insert"&&(a.data=this._mapFunc(a.data))}),Bd({keyInfo:this.store(),data:i,changes:n,groupCount:r,useInsertIndex:!0}),this._fireChanged([{changes:e}])}},_createLoadOperation(e){var t=this._operationManager.add(e),i=this._createStoreLoadOptions();return e.always(()=>this._operationManager.remove(t)),{operationId:t,storeLoadOptions:i}},reload(){var e=this.store();return e instanceof ea&&e.clearRawDataCache(),this._init(),this.load()},cancel(e){return this._operationManager.cancel(e)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(e){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(e):(e.searchOperation=this._searchOperation,e.searchValue=this._searchValue,e.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var e=H({},this._storeLoadOptions);return this._addSearchOptions(e),this._paginate&&this._pageSize&&(e.skip=this._pageIndex*this._pageSize,e.take=this._pageSize),e.userData=this._userData,e},_addSearchFilter(e){var t=this._searchValue,i=this._searchOperation,r=this._searchExpr,n=[];!t||(r||(r="this"),Array.isArray(r)||(r=[r]),M(r,function(a,s){n.length&&n.push("or"),n.push([s,i,t])}),e.filter?e.filter=[n,e.filter]:e.filter=n)},_loadFromStore(e,t){var i=(r,n)=>{if(!this._disposed&&!!X_(t)){var a=H(Rs(r,n),e);this._eventsStrategy.fireEvent("customizeLoadResult",[a]),ye(a.data).done(s=>{a.data=s,this._processStoreLoadResult(a,t)}).fail(t.reject)}};return e.data?new ee().resolve(e.data).done(i):this.store().load(e.storeLoadOptions).done(i).fail(t.reject)},_processStoreLoadResult(e,t){var i=e.data,r=e.extra,n=e.storeLoadOptions,a=()=>(this._isLoaded=!0,this._totalCount=isFinite(r.totalCount)?r.totalCount:-1,t.resolve(i,r));this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),De(r)||(r={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),n.requireTotalCount&&!isFinite(r.totalCount)?(()=>{this.store().totalCount(n).done(function(s){r.totalCount=s,a()}).fail(t.reject)})():a())},_applyMapFunction(e){return this._mapFunc?RI(e,this._mapFunc,this.group()):e},_applyPostProcessFunction(e){return this._postProcessFunc?this._postProcessFunc(e):e},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}}),yi=function(e,t,i,r){var n=e._initProperties=e._initProperties||{},a=r?i:e[t];(!Object.prototype.hasOwnProperty.call(n,t)||r)&&(n[t]=a),e[t]=i};function $I(e){return O_.sendRequest(e)}var Z_=new Date;function J_(e){return function t(i,r,n,a,s,o){a=a||[],i=i||[];var l,d;s=s||0;function u(f,g,S){ye(t(i,r,n,a,g,S)).done(f.resolve)}for(l=s;l<i.length;l++){if(e&&l>s&&l%1e4==0&&new Date-Z_>=300)return Z_=new Date,d=new ee,setTimeout(u(d,l,!1),0),d;var c=i[l];if(!o){if(a.unshift(c),n&&r(a,l)===!1)return;if(c.children){var h=t(c.children,r,n,a);if(e&&h)return d=new ee,h.done(u(d,l,!0)),d}}if(o=!1,!n&&r(a,l)===!1)return;a.shift(),i[l]!==c&&l--}}}var at=J_(!1),Wi=J_(!0);function Ur(e,t){if(e&&P(t))for(var i=0;i<e.length;i++){var r=e[i];if(r.name===t||r.caption===t||r.dataField===t||r.index===t)return i}return-1}function Ud(e,t){var a,s;var i=e===e&&Xn.format(e,t.format),r={value:e,valueText:i||""},n=t.customizeText?t.customizeText.call(t,r):r.valueText;return((a=n==null?void 0:n.trim)==null?void 0:a.call(n).length)===0&&(n=(s=t.emptyPlaceHolder)!=null?s:""),n}function Kd(e){return function(t,i){var r=0,n=e(t),a=e(i),s=P(n),o=P(a);return s&&o&&(n>a?r=1:n<a&&(r=-1)),s&&!o&&(r=1),!s&&o&&(r=-1),r}}function Lt(e){for(var t=[],i=e.length-1;i>=0;i--)t.push(e[i].key||e[i].value);return t}function jd(e,t,i,r){i=i||0,r=r||"children",e.length&&t(e,i);for(var n=0;n<e.length;n++){var a=e[n];a[r]&&a[r].length&&jd(a[r],t,i+1,r)}}function VI(e,t){for(var i=[],r=0;r<e.length;r++)i.push(Math.max(e[r]||0,t[r]||0));return i}function Xd(e,t){var i=e[t],r=0,n=(t==="columns"?e.columnExpandedPaths:e.rowExpandedPaths)||[];for(e.headerName===t?r=e.path.length:e.headerName&&e.headerName!==t&&e.oppositePath?r=e.oppositePath.length:M(n,function(a,s){r=Math.max(r,s.length)});i[r+1]&&i[r].expanded;)r++;return r}function zI(e){return et(["year","quarter","month"],function(t,i){return H({},e,{groupInterval:t,groupIndex:i})})}function Q_(e,t,i,r){var n=[];return Object.keys(t||[]).forEach(function(a){if(!(a&&a.indexOf("__")===0)){for(var s=1,o=i.length?i+"."+a:a,l=r[o],d=ct(o),u=t[a],c;!P(u)&&e[s];)u=d(e[s]),s++;!l&&P(u)&&(l=ui(u)),c=[{dataField:o,dataType:l,groupName:l==="date"?a:void 0,groupInterval:void 0,displayFolder:i}],l==="date"?c=c.concat(zI(c[0])):l==="object"&&(c=Q_(e,u,o,r)),n.push.apply(n,c)}}),n}function ev(e,t){var i=tv(t);return Q_(e,e[0],"",i)}function tv(e){var t={};return M(e,function(i,r){t[r.dataField]=t[r.dataField]||r.dataType}),t}var GI={month:function(e){return ft.getMonthNames()[e-1]},quarter:function(e){return ft.format(new Date(2e3,3*e-1),"quarter")},dayOfWeek:function(e){return ft.getDayNames()[e]}};function iv(e){if(e.dataType==="date")e.format||yi(e,"format",GI[e.groupInterval]);else if(e.dataType==="number"){var t=Re(e.groupInterval)&&e.groupInterval>0&&e.groupInterval;t&&!e.customizeText&&yi(e,"customizeText",function(i){var r=i.value+t,n=Xn.format(r,e.format);return i.valueText&&n?i.valueText+" - "+n:""})}}function Kr(e,t){var i=[];t=t||[];for(var r=0;r<t.length;r++)i.push(H({},e[r],{groupIndex:null,groupName:null,filterType:"include",filterValues:[t[r]]}));return i}var rv={createDrillDownDataSource:function(e,t){var i=this.getDrillDownItems(e,t);function r(a){return function(s){var o;return o=new ee,ye(i).done(function(l){var d=new Bs(l);d[a](s).done(o.resolve).fail(o.reject)}).fail(o.reject),o}}var n=new _r({load:r("load"),totalCount:r("totalCount"),key:this.key()});return n}};function nv(e){return e.charAt(0).toUpperCase()+e.slice(1)}var qd="scrolling.newMode",av=e=>e.option("scrolling.loadTwoPagesOnStart")||e._controller.isVirtual()||e._controller.getViewportItemIndex()>0,Ms=e=>e._cache.length?e._cache[0].pageIndex:-1,Yd=e=>e._cache.length?e._cache[e._cache.length-1].pageIndex:-1,Fs=(e,t,i)=>{e._isChangedFiring=!0,t(i),e._isChangedFiring=!1},sv=(e,t,i)=>{if(e._isDelayChanged)return e._isDelayChanged=!1,Fs(e,t,i),!0},WI=e=>{var t=e._dataOptions.pageSize(),i=e.option("scrolling.preventPreload");if(i)return 0;var r=e._controller.viewportSize();if(e._controller.isVirtualMode()&&e.option("scrolling.removeInvisiblePages")){r=0;for(var n=e._controller.viewportSize()*e._controller.viewportItemSize(),a=e._controller.getContentOffset(),s=e._controller.getViewportPosition(),o=e._controller.virtualItemsCount(),l=e._dataOptions.totalItemsCount(),d=o.begin;d<l&&!(a>=s+n);d++){var u=e._controller.getItemSizes()[d]||e._controller.viewportItemSize();a+=u,a>=s&&r++}}return t&&r>0?Math.ceil(r/t):1},Ns=(e,t)=>{var i=e.option("scrolling.preloadEnabled"),r=WI(e),n=e._controller.isAppendMode();return r&&(t?r=i?1:0:(i&&r++,(n||!av(e))&&r--)),r},UI=e=>{var t=-1,i=Ms(e),r=e._dataOptions;if(i<0)t=e._pageIndex;else if(!e._cache[e._pageIndex-i])t=e._pageIndex;else if(i>=0&&e._controller.viewportSize()>=0){if(i>0){var n=Yd(e)+1===r.pageCount()&&e._cache.length<Ns(e)+1,a=n||e._pageIndex===i&&Ns(e,!0);a&&(t=i-1)}if(t<0){var s=i+e._cache.length<=e._pageIndex+Ns(e);s&&(t=i+e._cache.length)}}return e._loadingPageIndexes[t]&&(t=-1),t},KI=(e,t)=>{var i=e._dataOptions;if(t===e.pageIndex()||!i.isLoading()&&t<i.pageCount()||!i.hasKnownLastPage()&&t===i.pageCount())return i.pageIndex(t),e._loadingPageIndexes[t]=!0,ye(i.load()).always(()=>{e._loadingPageIndexes[t]=!1})},ov=(e,t,i,r,n)=>{var a=e._dataOptions,s=a.items().slice(),o=Be(i)?i:void 0,l=i==="prepend",d=a.viewportItems();i&&Ae(i)&&!e._isDelayChanged&&(o={changeType:i,items:s},n&&(o.removeCount=n.itemsCount,o.removeCount&&a.correctCount&&(o.removeCount=a.correctCount(d,o.removeCount,l))));var u=n?n.itemsLength:0;u&&a.correctCount&&(u=a.correctCount(d,u,l)),i==="append"?(d.push.apply(d,s),n&&d.splice(0,u)):l?(d.unshift.apply(d,s),n&&d.splice(-u)):e._dataOptions.viewportItems(s),a.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=r,r||Fs(e,t,o)};class jI{constructor(t,i){this._controller=t,this._dataOptions=i,this._pageIndex=this._lastPageIndex=i.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(t){var i=this._dataOptions.pageSize(),r=this._dataOptions.pageCount(),n=this._controller.isVirtualMode(),a=this._controller.isAppendMode(),s=this._dataOptions.totalItemsCount(),o;if(i&&(n||a)&&s>=0){var l=this._controller.viewportSize();if(l&&t+l>=s&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){o=r-1;var d=s%i;o>0&&d>0&&d<l&&o--}else o=r;else{o=Math.floor(t/i);var u=r-1;o=Math.max(o,0),o=Math.min(o,u)}return this.pageIndex(o),this.load()}}pageIndex(t){var i=this._controller.isVirtualMode(),r=this._controller.isAppendMode();return!this.option(qd)&&(i||r)?(t!==void 0&&(this._pageIndex=t),this._pageIndex):this._dataOptions.pageIndex(t)}beginPageIndex(t){var i=Ms(this);return i<0&&(i=t!==void 0?t:this.pageIndex()),i}endPageIndex(){var t=Yd(this);return t>0?t:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var t=this._dataOptions,i,r=this._controller.isVirtualMode(),n=this._controller.isAppendMode();if(!this.option(qd)&&(r||n)){var a=UI(this);if(a>=0){var s=KI(this,a);s&&(i=new ee,s.done(()=>{var o=this._delayDeferred;o?o.done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),t.updateLoading())}}else i=t.load();return!i&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),i||new ee().resolve()}loadIfNeed(){var t=this._controller.isVirtualMode(),i=this._controller.isAppendMode();if((t||i)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var r=this._controller.getViewportPosition();r>0?this._controller._setViewportPositionCore(r):this.load()}}handleDataChanged(t,i){var r=this._dataOptions,n=this._cache.length,a,s,o=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(i&&i.changes)Fs(this,t,i);else if(!this.option(qd)&&(o||l)){var d=Ms(this);if(d>=0&&(o&&d+this._cache.length!==r.pageIndex()&&d-1!==r.pageIndex()&&(n=0,this._cache=[]),l)){if(r.pageIndex()===0)this._cache=[];else if(r.pageIndex()<Yd(this)){Fs(this,t,{changeType:"append",items:[]});return}}var u={pageIndex:r.pageIndex(),itemsLength:r.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&o?s=this._cache.length>Math.max(Ns(this)+(this.option("scrolling.preloadEnabled")?1:0),2):sv(this,t,{isDelayed:!0});var c;d===r.pageIndex()+1?(s&&(c=this._cache.pop()),a="prepend",this._cache.unshift(u)):(s&&(c=this._cache.shift()),a="append",this._cache.push(u));var h=o&&n===0&&av(this);ov(this,t,this._cache.length>1?a:void 0,h,c),this._delayDeferred=this.load().done(()=>{sv(this,t)&&this.load()})}else ov(this,t,i)}getDelayDeferred(){return this._delayDeferred}itemsCount(t){var i=0,r=this._controller.isVirtualMode();return!t&&r?this._cache.forEach(n=>{i+=n.itemsCount}):i=this._dataOptions.itemsCount(),i}virtualItemsCount(){var t=Ms(this);t<0&&(t=this._dataOptions.pageIndex());var i=t*this._dataOptions.pageSize(),r=this._cache.length*this._dataOptions.pageSize(),n=Math.max(0,this._dataOptions.totalItemsCount()-r-i);return{begin:i,end:n}}reset(){this._loadingPageIndexes={},this._cache=[]}}var XI="infinite",lv="virtual",dv="scrolling.newMode",uv=e=>e.option("scrolling.mode")===lv||e._isVirtual,qI=e=>e.option("scrolling.mode")===XI&&!e._isVirtual,YI=e=>e.devicePixelRatio||1;function ZI(e){return e.msie?4e6:e.mozilla?8e6:15e6/YI(Oe())}function JI(e,t,i){var r,n=[],a=[];i=i||e;function s(d){var u=d.element?d.$element():d,c=Tt.offset(u);return c?d.scrollTop()-(c.top-e.offset().top):e.offset().top}var o={on:function(d,u,c){d.on("scroll",c)},off:function(d,u,c){d.off("scroll",c)}};function l(d){var u=d.get(0).nodeName==="#document",c=d.data("dxScrollable"),h=o;if(!(!c&&(c=u&&p(Oe())||d.css("overflowY")==="auto"&&d,h=F,!c))){var f=function(g){return function(){var S=g.scrollTop()-s(g);S=S>0?S:0,t(S)}}(c);h.on(c,"scroll",f),n.push(function(g){var S=s(c),C=c.scrollTo?"scrollTo":"scrollTop";g-S>=0&&c[C](g+S)}),a.push(function(){h.off(c,"scroll",f)})}}for(r=i.parent();r.length;r=r.parent())l(r);return{scrollTo:function(d){M(n,function(u,c){c(d)})},dispose:function(){M(a,function(d,u){u()})}}}var QI=Ee.inherit(function(){var e={ctor:function(t,i,r){this._dataOptions=i,this.component=t,this._viewportSize=0,this._viewportItemSize=20,this._viewportItemIndex=0,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=r,this.positionChanged=Le(),this._dataLoader=new jI(this,this._dataOptions)},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},isVirtual:function(){return this._isVirtual},virtualItemsCount:function(){if(uv(this)){var t=this._dataOptions.totalItemsCount();if(this.option(dv)&&t!==-1){var i=this.getViewportParams(),r=t-(i.skip+i.take);return{begin:i.skip,end:r}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},setViewportPosition:function(t){var i=new ee,r=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration());return r<this.option("scrolling.renderingThreshold")&&(r=this.option("scrolling.minTimeout")||0),clearTimeout(this._scrollTimeoutID),r>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(t),i.resolve()},r):(this._setViewportPositionCore(t),i.resolve()),i.promise()},getViewportPosition:function(){return this._position||0},getItemIndexByPosition:function(){for(var t=this._position,i=this.getItemSize(),r=0,n=0,a=Object.keys(this._itemSizes).concat(-1),s=0;s<a.length&&r<t;s++){var o=parseInt(a[s]),l=(t-r)/i;if(o<0||n+l<o){n+=l;break}else l=o-n,r+=l*i,n+=l;var d=this._itemSizes[o];r+=d,n+=r<t?1:(t-r+d)/d}return Math.round(50*n)/50},_setViewportPositionCore:function(t){this._position=t;var i=this.getItemIndexByPosition(),r=this.setViewportItemIndex(i);return this.positionChanged.fire(),r},setContentItemSizes:function(t){var i=this.virtualItemsCount();if(this._contentSize=t.reduce((a,s)=>a+s,0),i){t.forEach((a,s)=>{this._itemSizes[i.begin+s]=a});var r=(i.begin+i.end+this.itemsCount())*this._viewportItemSize,n=ZI(Fe);r>n?this._sizeRatio=n/r:this._sizeRatio=1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(t,i){var r=this.virtualItemsCount(),n=t;if(!r)return 0;var a=0,s=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(o=>{!n||(i?o>=s-t:o<t)&&(a+=this._itemSizes[o],n--)}),Math.floor(a+n*this._viewportItemSize*this._sizeRatio)},getContentOffset:function(t){var i=t==="end",r=this.virtualItemsCount();return r?this.getItemOffset(i?r.end:r.begin,i):0},getVirtualContentSize:function(){var t=this.virtualItemsCount();return t?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(t){if(this._viewportItemIndex=t,!this.option(dv))return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize:function(t){return t!==void 0&&(this._viewportItemSize=t),this._viewportItemSize},viewportSize:function(t){return t!==void 0&&(this._viewportSize=t),this._viewportSize},reset:function(t){this._dataLoader.reset(),t||(this._itemSizes={})},subscribeToWindowScrollEvents:function(t){this._windowScroll=this._windowScroll||JI(t,i=>{this.viewportItemSize()&&this.setViewportPosition(i)})},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(t){this._windowScroll&&this._windowScroll.scrollTo(t)},isVirtualMode:function(){return uv(this)},isAppendMode:function(){return qI(this)},getViewportParams:function(){var t=this._viewportItemIndex,i=this._viewportSize+t,r=this.pageSize(),n=this.option("scrolling.minGap"),a=this.option("scrolling.mode")===lv,s=Math.floor(Math.max(0,t-n)/r)*r,o=Math.ceil((i+n)/r)*r-s;if(a){var l=this._dataOptions.totalItemsCount()-s;o=Math.min(o,l)}return{skip:s,take:o}}};return["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","itemsCount","getDelayDeferred"].forEach(function(t){e[t]=function(){return this._dataLoader[t].apply(this._dataLoader,arguments)}}),e}());function Hs(e,t,i,r,n,a){i=i||0,r=r||[],a=a||[],r[i]=r[i]||0;var s=e[i],o=a[i]+1||0,l=0,d;if(!!s){for(d=o;d<s.length;d++){var u=s[d],c=d+r[i],h=u.colspan||1;if(Hs(e,t,i+(u.rowspan||1),r,h,a),r[i]+=h-1,l+=h,u.rowspan)for(var f=i+1;f<i+u.rowspan;f++)r[f]=r[f]||0,r[f]+=u.colspan||1;if(t(u,c,i,d)===!1||n!==void 0&&l>=n)break}a[i]=d}}function eA(e,t,i){var r=[];Hs(e,function(a,s,o){var l=a,d,u=l.colspan||1,c=s+u-1>=t&&s<i;if(r[o]=r[o]||[],c)s<t?(d=u-(t-s),s=t):d=u,s+d>i&&(d=i-s),d!==u&&(l=H({},l,{colspan:d})),r[o].push(l);else if(s>i)return!1});for(var n=0;n<r.length;n++)r[n]=r[n]||[];return r}var tA="dxDataGrid",cv=Ee.inherit({_endUpdateCore:function(){},ctor:function(e){var t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},M(this.callbackNames()||[],function(i,r){var n=t.callbackFlags(r)||{};n.unique=!0,n.syncStrategy=!0,t[this]=Le(n)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,i=t._optionCache;return arguments.length===1&&i?(e in i||(i[e]=t.option(e)),i[e]):t.option.apply(t,arguments)},_silentOption:function(e,t){var i=this.component,r=i._optionCache;return r&&(r[e]=t),i._setOptionWithoutOptionChange(e,t)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=xe.format(e)),t[e]):xe.format(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,i){var r=i.get(0),n=e!=="role"&&e!=="id"?"aria-":"";r.setAttribute?r.setAttribute(n+e,t):i.attr(n+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(e,t){if(he(e)){var i=this.component._createAction(e.bind(this),t);return function(r){i({event:r})}}else this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t},executeAction:function(e,t){var i=this._actions[e];return i&&i(t)},dispose:function(){var e=this;M(e.callbackNames()||[],function(){e[this].empty()})},addWidgetPrefix:function(e){var t=this.component.NAME;return"dx-"+t.slice(2).toLowerCase()+(e?"-"+e:"")},getWidgetContainerClass:function(){var e=this.component.NAME===tA?null:"container";return this.addWidgetPrefix(e)}}),$s=cv,iA=$s.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),hv=cv.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=Te()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_parentElement:function(){return this._$parent},ctor:function(e){this.callBase(e),this.renderCompleted=Le(),this.resizeCompleted=Le()},element:function(){return this._$element},getElementHeight:function(){var e=this.element();if(!e)return 0;var t=parseFloat(e.css("marginTop"))||0,i=parseFloat(e.css("marginBottom"))||0,r=e.get(0).offsetHeight;return r+t+i},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(e,t){var i=this._$element,r=this.isVisible();!i&&!e||(this._requireReady=!1,i||(i=this._$element=p("<div>").appendTo(e),this._$parent=e),i.toggleClass("dx-hidden",!r),r&&(this.component._optionCache={},this._renderCore(t),this.component._optionCache=void 0,this.renderCompleted.fire(t)))},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(){F.trigger(this.element(),"focus")}}),fv=1e6,rA=function(e,t){var i=t.modules,r=t.modulesOrder,n=t.controllerTypes||{},a=t.viewTypes||{};t.controllerTypes||(r&&i.sort(function(o,l){var d=fe(o.name,r),u=fe(l.name,r);return d<0&&(d=fv),u<0&&(u=fv),d-u}),M(i,function(){var o=this.controllers,l=this.name,d=this.views;o&&M(o,function(u,c){if(n[u])throw Ne.Error("E1001",l,u);if(!(c&&c.subclassOf&&c.subclassOf($s)))throw c.subclassOf($s),Ne.Error("E1002",l,u);n[u]=c}),d&&M(d,function(u,c){if(a[u])throw Ne.Error("E1003",l,u);if(!(c&&c.subclassOf&&c.subclassOf(hv)))throw Ne.Error("E1004",l,u);a[u]=c})}),M(i,function(){var o=this.extenders;o&&(o.controllers&&M(o.controllers,function(l,d){n[l]&&(n[l]=n[l].inherit(d))}),o.views&&M(o.views,function(l,d){a[l]&&(a[l]=a[l].inherit(d))}))}),t.controllerTypes=n,t.viewTypes=a);var s=function(o){var l={};return M(o,function(d,u){var c=new u(e);c.name=d,function(h,f,g){var S=g.publicMethods();S&&M(S,function(C,T){if(g[T])if(!h[T])h[T]=function(){return g[T].apply(g,arguments)};else throw Ne.Error("E1005",T);else throw Ne.Error("E1006",f,T)})}(e,d,c),l[d]=c}),l};e._controllers=s(n),e._views=s(a)},nA=function(e,t,i){i=i||[],e._controllers&&M(e._controllers,function(){this[t]&&this[t].apply(this,i)}),e._views&&M(e._views,function(){this[t]&&this[t].apply(this,i)})},pv={modules:[],View:hv,ViewController:iA,Controller:$s,registerModule:function(e,t){for(var i=this.modules,r=0;r<i.length;r++)if(i[r].name===e)return;t.name=e,i.push(t),delete this.controllerTypes,delete this.viewTypes},registerModulesOrder:function(e){this.modulesOrder=e},unregisterModule:function(e){this.modules=er(this.modules,function(t){return t.name!==e}),delete this.controllerTypes,delete this.viewTypes},processModules:rA,callModuleItemsMethod:nA},aA=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,sA=function e(t){!t||M(t,function(i,r){if(De(r)||Array.isArray(r))e(r);else if(typeof r=="string"){var n=aA.exec(r);n&&(t[i]=new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])))}})},oA=pv.ViewController.inherit(function(){var e=function(i){var r=i.type==="sessionStorage"?Mh():Oe().localStorage;if(!r)throw Oe().location.protocol==="file:"&&Fe.msie?new Error("E1038"):new Error("E1007");return r},t=function(i){return P(i.storageKey)?i.storageKey:"storage"};return{_loadState:function(){var i=this.option("stateStoring");if(i.type==="custom")return i.customLoad&&i.customLoad();try{return JSON.parse(e(i).getItem(t(i)))}catch(r){Ne.log(r.message)}},_saveState:function(i){var r=this.option("stateStoring");if(r.type==="custom"){r.customSave&&r.customSave(i);return}try{e(r).setItem(t(r),JSON.stringify(i))}catch(n){Ne.log(n.message)}},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var i=this;return i._state={},i._isLoaded=!1,i._isLoading=!1,i._windowUnloadHandler=function(){i._savingTimeoutID!==void 0&&i._saveState(i.state())},F.on(Oe(),"unload",i._windowUnloadHandler),i},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){this._isLoading=!0;var i=At(this._loadState());return i.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(r=>{this.state(r)}),i},state:function(i){var r=this;if(arguments.length)r._state=H({},i),sA(r._state);else return H(!0,{},r._state)},save:function(){var i=this;clearTimeout(i._savingTimeoutID),i._savingTimeoutID=setTimeout(function(){i._saveState(i.state()),i._savingTimeoutID=void 0},i.option("stateStoring.savingTimeout"))},optionChanged:function(i){switch(i.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),i.handled=!0;break;default:this.callBase(i)}},dispose:function(){clearTimeout(this._savingTimeoutID),F.off(Oe(),"unload",this._windowUnloadHandler)}}}()),_v="number",vv="yyyy/MM/dd",lA="yyyy/MM/dd HH:mm:ss",gv=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,mv=/^(\d{2}):(\d{2})(:(\d{2}))?$/,xv=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],dA=/^(\d{4})\/(\d{2})\/(\d{2})$/,uA=3,cA=Fe.msie&&parseInt(Fe.version)<=11,yv=function(e,t){var i;return Ae(e)&&!t&&(i=fA(e)),i||hA(e)};function yt(e){return+e||0}function hA(e){var t=Cv(e)===vv,i=!Pt(e)&&Date.parse(e);if((!i||cA)&&t){var r=e.match(dA);if(r){var n=new Date(yt(r[1]),yt(r[2]),yt(r[3]));return n.setFullYear(yt(r[1])),n.setMonth(yt(r[2])-1),n.setDate(yt(r[3])),n}}return Re(i)?new Date(i):e}function fA(e){var t=e.match(gv);if(!t)return t=e.match(mv),t?new Date(0,0,0,yt(t[1]),yt(t[2]),yt(t[4])):void 0;var i=t[1],r=--t[3],n=t[5],a=0,s=0;a=yt(t[14]),s=yt(t[16]),t[13]==="-"&&(a=-a,s=-s);var o=yt(t[6])-a,l=yt(t[8])-s,d=yt(t[10]),u=function(c){return c=c||"",yt(c)*Math.pow(10,uA-c.length)}(t[11]);return t[12]?new Date(Date.UTC(i,r,n,o,l,d,u)):new Date(i,r,n,o,l,d,u)}var pA=function(e,t){var i=e.match(gv),r="";if(!i)return i=e.match(mv),i?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var n=1;n<xv.length;n++)i[n]&&(r+=xv[n]||i[n]);return i[12]==="Z"&&(r+="'Z'"),i[14]&&(i[15]?r+="xxx":i[16]?r+="xx":r+="x"),r},_A=function(e){return typeof e=="number"?new Date(e):yv(e,!je().forceIsoDateParsing)},vA=function(e,t){return t?Pt(e)?t===_v?e&&e.valueOf?e.valueOf():null:c_(t,jn)(e):null:e},Cv=function(e){if(typeof e=="number")return _v;if(Ae(e)){var t;return je().forceIsoDateParsing&&(t=pA(e)),t||(e.indexOf(":")>=0?lA:vv)}else if(e)return null},Sv={dateParser:yv,deserializeDate:_A,serializeDate:vA,getDateSerializationFormat:Cv},Ev="/./",gA=Ee.inherit(function(){var e={year:function(b){return b&&b.getFullYear()},quarter:function(b){return b&&Math.floor(b.getMonth()/3)+1},month:function(b){return b&&b.getMonth()+1},day:function(b){return b&&b.getDate()},dayOfWeek:function(b){return b&&b.getDay()}};function t(b){return b.indexOf(".")!==-1?ct(b):function(m){return m[b]}}function i(b){return function(m){var x=b(m);return x&&!(x instanceof Date)&&(x=Sv.deserializeDate(x)),x}}function r(b){M(b||[],function(m,x){var E,w,k=x.dataField,O,B=x.levels,$;if(!x.selector){if(k?$=t(k):$=function(N){return N},B&&r(B),x.dataType==="date"){w=e[x.groupInterval];var I=i($);E=function(N){var v=I(N);return w?w(v):v}}else x.dataType==="number"?(O=Re(x.groupInterval)&&x.groupInterval>0&&x.groupInterval,E=function(N){var v=$(N);return Ae(v)&&(v=Number(v)),O?Math.floor(v/O)*O:v}):E=$;iv(x),yi(x,"selector",E)}})}function n(b,m,x,E){var w=[0],k=m.headerName===E?m.path.length:0,O=E==="rows"?m.rowExpandedPaths:m.columnExpandedPaths,B={data:b,childrenHash:x[E+"Hash"],dimensions:m[E],expandedPathsHash:m.headerName!==E&&O&&O.hash};return function $(I,N,v,A,W){var z=N.dimensions[A],q=N.expandedPathsHash,U,J;z&&(U=z.selector(N.data),W=W!==void 0?W+Ev+U:U+"",J=function(G,V,ie,Z){var Y=Z[ie];return Y||(Y={value:G,index:Z.length++},Z[ie]=Y,V.push(Y)),Y}(U,v,W,N.childrenHash),I.push(J.index),(q&&q[W]||z.expanded)&&(J.children||(J.children=[]),$(I,N,J.children,A+1,W)))}(w,B,x[E],k),w}function a(b,m,x,E){var w=[],k,O,B,$,I=n(b,E,x,"rows"),N=n(b,E,x,"columns");for(O=0;O<I.length;O++)for(B=I[O],m[B]=m[B]||[],k=0;k<N.length;k++)$=N[k],w.push(m[B][$]=m[B][$]||[]);return w}function s(b){if(b){var m=b.hash={};b.forEach(function(x){var E=x.map(function(w){return w+""}).join(Ev);m[E]=!0})}}function o(b){b.rows=b.rows||[],b.columns=b.columns||[],b.filters=b.filters||[],s(b.columnExpandedPaths),s(b.rowExpandedPaths),r(b.columns),r(b.rows),r(b.values),r(b.filters)}function l(b){return b.summaryType==="custom"?(b.calculateCustomSummary=b.calculateCustomSummary||Q,{seed:function(){var m={summaryProcess:"start",totalValue:void 0};return b.calculateCustomSummary(m),m},step:function(m,x){return m.summaryProcess="calculate",m.value=x,b.calculateCustomSummary(m),m},finalize:function(m){return m.summaryProcess="finalize",delete m.value,b.calculateCustomSummary(m),m.totalValue}}):pd[b.summaryType]||pd.count}function d(b,m,x){for(var E=0;E<b.length;E++)for(var w=b[E],k=w.selector(x),O=l(w),B=typeof O.seed=="function",$=0;$<m.length;$++){var I=m[$];I.length<=E&&(I[E]=B?O.seed():O.seed),I[E]===void 0?I[E]=k:P(k)&&(I[E]=O.step(I[E],k))}}function u(b,m){var x=b&&b.valueOf(),E=m&&m.valueOf();if(Array.isArray(b)){m=m||[];for(var w=0;w<b.length;w++)if(x=b[w]&&b[w].valueOf(),E=m[w]&&m[w].valueOf(),x!==E)return!1;return!0}else return x===E}function c(b){var m=[];return M(b,function(x,E){var w=E.filterValues||[],k=E.groupName;k&&Re(E.groupIndex)||w.length&&m.push(function(O){for(var B=E.levels?function(N,v){var A=[];return M(N,function(W,z){A.push(z.selector(v))}),A}(E.levels,O):E.selector(O),$=!1,I=0;I<w.length;I++)if(u(w[I],B)){$=!0;break}return E.filterType==="exclude"?!$:$})}),m}function h(b){var m=c(b.rows).concat(c(b.columns)).concat(c(b.filters)),x=b[b.headerName],E=b.path;return x&&m.push(function(w){for(var k,O=0;O<E.length;O++)if(k=x[O].selector(w),Xe(k,!0)!==Xe(E[O],!0))return!1;return!0}),function(w){for(var k=0;k<m.length;k++)if(!m[k](w))return!1;return!0}}function f(b,m,x){var E={columns:[],rows:[],columnsHash:{length:1},rowsHash:{length:1}},w=[],k,O,B=new ee,$=0,I=h(m);return function N(){for(var v=new Date,A=$;$<b.length;$++){if($>A&&$%1e4==0&&new Date-v>=300){x($/b.length),setTimeout(N,0);return}O=b[$],I(O)&&(k=a(O,w,E,m),d(m.values,k,O))}W=m.values,z=w,M(W,function(q,U){var J=l(U);J.finalize&&M(z,function(G,V){M(V,function(ie,Z){Z&&Z[q]!==void 0&&(Z[q]=J.finalize(Z[q]))})})});var W,z;x(1),B.resolve({rows:E.rows,columns:E.columns,values:w,grandTotalRowIndex:0,grandTotalColumnIndex:0})}(),B}function g(b,m){var x=b.filter();return b.store()instanceof ea&&x?(x=D(x,m),ri(b.items()).filter(x).toArray()):b.items()}function S(b,m,x){var E=new ee,w=function(O){b.store()instanceof Bs&&(O.storeLoadOptions.filter=D(O.storeLoadOptions.filter,m))};if(b.on("customizeStoreLoadOptions",w),!b.isLoaded()||x){var k=x?b.load():b.reload();ye(k).done(function(){S(b,m).done(function(){E.resolve(g(b,m))}).fail(E.reject)}).fail(E.reject)}else E.resolve(g(b,m));return E.always(function(){b.off("customizeStoreLoadOptions",w)})}function C(b,m){m.forEach(function(x){if(x.dataField&&x.dataType==="date"){var E=i(t(x.dataField));b[x.dataField]=function(w){return E(w)}}})}function T(b){var m={};return Array.isArray(b)?C(m,b):b&&["rows","columns","filters"].forEach(function(x){b[x]&&C(m,b[x])}),m}function D(b,m){if(!Array.isArray(b))return b;b=b.slice(0),Ae(b[0])&&(b[1]instanceof Date||b[2]instanceof Date)&&(b[0]=m[b[0]]);for(var x=0;x<b.length;x++)b[x]=D(b[x],m);return b}return{ctor:function(b){this._progressChanged=b.onProgressChanged||Q,this._dataSource=new _r(b),this._dataSource.paginate(!1)},getFields:function(b){var m=this._dataSource,x=new ee;return S(m,T(b)).done(function(E){x.resolve(ev(E,b))}).fail(x.reject),x},key:function(){return this._dataSource.key()},load:function(b){var m=this,x=m._dataSource,E=new ee;return o(b),S(x,T(b),b.reload).done(function(w){ye(f(w,b,m._progressChanged)).done(E.resolve)}).fail(E.reject),E},filter:function(){var b=this._dataSource;return b.filter.apply(b,arguments)},supportPaging:function(){return!1},getDrillDownItems:function(b,m){b=b||{},m=m||{},o(b);for(var x=[],E=this._dataSource.items(),w,k=m.maxRowCount,O=m.customColumns,B=h(b),$=h({rows:Kr(b.rows,m.rowPath),columns:Kr(b.columns,m.columnPath),filters:[]}),I=0;I<E.length;I++){if($(E[I])&&B(E[I])){if(O){w={};for(var N=0;N<O.length;N++)w[O[N]]=E[I][O[N]]}else w=E[I];x.push(w)}if(k>0&&x.length===k)break}return x}}}()).include(rv),mA=function e(t,i,r){t=t||[],r=r||0;for(var n=0;n<t.length;n++){var a=t[n];i(a,r),a&&a.items&&a.items.length&&e(a.items,i,r+1)}};function bv(e,t){var i=[];return M(e,function(r,n){i.push({selector:n.dataField,groupInterval:n.groupInterval,desc:t&&n.sortOrder==="desc",isExpanded:r<e.length-1})}),i}function xA(e){var t=e.dataField,i=e.groupInterval;return e.dataType==="date"&&typeof i=="string"&&(i.toLowerCase()==="quarter"&&(i="Month"),t=t+"."+nv(i)),t}function Tv(e,t,i,r){var n=[e,r?"<":">=",i],a=[e,r?">=":"<",i+t];return[n,r?"or":"and",a]}function yA(e,t){var i=xA(e),r=e.filterType==="exclude",n=[i,r?"<>":"=",t];return P(e.groupInterval)&&(typeof e.groupInterval=="string"&&e.groupInterval.toLowerCase()==="quarter"?n=Tv(i,3,3*(t-1)+1,r):typeof e.groupInterval=="number"&&e.dataType!=="date"&&(n=Tv(i,e.groupInterval,t,r))),n}function wv(e,t){var i=[];return e.searchValue?[e.dataField,"contains",e.searchValue]:(e.filterType==="exclude"?t=t||"and":t=t||"or",M(e.filterValues,function(r,n){var a=[];if(Array.isArray(n)){var s=e.levels&&e.levels.length;s&&(a=wv({filterValues:n,filterType:e.filterType,levels:e.levels},"and"))}else{var o=e.levels?e.levels[r]:e;a=yA(o,n)}!a.length||(i.length&&i.push(t),i.push(a))}),i)}function Iv(e){var t=[];return M(e,function(i,r){var n=wv(r);if(!n.length)return[];t.length&&t.push("and"),t.push(n)}),t.length===1&&(t=t[0]),t}function Av(e,t){var i,r=function(n){return n&&n.length};return r(e)&&r(t)?i=[e,"and",t]:i=r(e)?e:t,i}function CA(e,t,i){var r=Iv(e.filters),n=bv(e.rows,e.rowTake).concat(bv(e.columns,e.columnTake)),a={groupSummary:[],totalSummary:[],group:n.length?n:void 0,take:n.length?void 0:1};return e.rows.length&&e.rowTake?(a.skip=e.rowSkip,a.take=e.rowTake,a.requireGroupCount=!0):e.columns.length&&e.columnTake&&!i&&(a.skip=e.columnSkip,a.take=e.columnTake,a.requireGroupCount=!0),t&&(r=Av(r,t)),r.length&&(a.filter=r),M(e.values,function(s,o){var l={selector:o.dataField,summaryType:o.summaryType||"count"};a.groupSummary.push(l),e.includeTotalSummary&&a.totalSummary.push(l)}),a}function Dv(e,t,i,r,n){e[i]=e[i]||[],e[i][r]=e[i][r]||[],P(e[i][r][n])||(e[i][r][n]=t)}function SA(e,t){return t&&t.dataType==="number"&&Ae(e)?Number(e):t&&t.dataType==="date"&&!t.groupInterval&&!(e instanceof Date)?Sv.deserializeDate(e):e}function EA(e,t,i,r){var n=[],a=[],s=r.rowHash,o=r.columnHash;if(t&&t.summary&&M(t.summary,function(u,c){Dv(r.values,c,r.grandTotalRowIndex,r.grandTotalColumnIndex,u)}),t&&t.groupCount>=0){var l=i.rows.length?i.rowSkip:i.columnSkip;e=[...Array(l)].concat(e),e.length=t.groupCount}function d(u,c,h,f,g){var S=r[c+"Hash"],C,T,D,b=h.slice(0,f+1).join("/"),m;return S[b]!==void 0?D=S[b]:(D={value:SA(u.key,g),index:r[c+"Index"]++,displayText:u.displayText},m=h.slice(0,f).join("/"),f>0&&S[m]!==void 0?(C=S[m],T=C.children=C.children||[]):T=r[c+"s"],T.push(D),S[b]=D),D}return mA(e,function(u,c){var h=c>=i.rows.length?i.rows.length:c,f=c>=i.rows.length?c-i.rows.length:0,g,S;if(!(c>=i.rows.length&&f>=i.columns.length)){c<i.rows.length&&(a=[]),c>=i.rows.length?u?(a[f]=u.key+"",g=d(u,"column",a,f,i.columns[f]),S=s[n.slice(0,h+1).join("/")]):r.columns.push({}):u?(n[h]=u.key+"",S=d(u,"row",n,h,i.rows[h]),g=o[a.slice(0,f+1).join("/")]):r.rows.push({});var C=S&&S.index||r.grandTotalRowIndex,T=g&&g.index||r.grandTotalColumnIndex;M(u&&u.summary||[],function(D,b){Dv(r.values,b,C,T,D)})}}),r}function Vs(e){return(e||[]).filter(t=>t.filterValues&&t.filterValues.length||t.searchValue)}function Ov(e,t){if(e.headerName){if(t===e.headerName)return e.path.length;if(e.oppositePath)return e.oppositePath.length}return 0}function bA(e){return Kr(e[e.headerName],e.path).concat(Kr(e[e.headerName==="rows"?"columns":"rows"],e.oppositePath||[]))}function Zd(e,t,i,r){var n=[],a=i>r?0:r,s=e.headerName!==t?e[t].slice(a,i):[],o=t==="rows"?e.rowExpandedPaths:e.columnExpandedPaths;return M(s,function(l,d){var u=[];M(o,function(c,h){if(h=h.slice(a,i),l<h.length){var f=h[l];u.indexOf(f)===-1&&u.push(f)}}),u.length&&n.push(H({},d,{filterType:"include",filterValues:u}))}),n}function kv(e,t,i,r,n,a){var s=(t==="columns"?e.columnExpandedPaths:e.rowExpandedPaths)||[],o=t==="columns"?"rows":"columns",l=e[t],d=[],u;if(s.length)for(var c=i;c<r+1;c++)u={filters:n.concat(Zd(e,t,c,a))},u[t]=l.slice(i,c+1),u[o]=[],d.push(H({},e,u));else u={filters:n},u[t]=l.slice(i,r+1),u[o]=[],d.push(H({},e,u));return d[0].includeTotalSummary=!0,d}function Lv(e){var t=0;return M(e,function(i,r){if(!r.expanded)return t=i,!1}),t}function TA(e){var t=Xd(e,"rows"),i=Xd(e,"columns"),r=e.filters||[],n=Ov(e,"columns"),a=Lv(e.columns),s=Lv(e.rows),o=Ov(e,"rows"),l=[];r=r.concat(Vs(e.rows)).concat(Vs(e.columns)).concat(bA(e));var d=kv(e,"columns",n,i,r,a);if(e.rows.length&&e.columns.length){e.headerName!=="rows"&&(l=l.concat(d));for(var u=o;u<t+1;u++)for(var c=e.rows.slice(o,u+1),h=Zd(e,"rows",u,s),f=n;f<i+1;f++){var g=H({},e,{columns:e.columns.slice(n,f+1),rows:c,filters:r.concat(Zd(e,"columns",f,a)).concat(h)});l.push(g)}}else l=e.columns.length?d:kv(e,"rows",o,t,r,s);return l}function zs(e){M(e||[],function(t,i){var r=i.levels;r&&zs(r),iv(i)})}var wA=Ee.inherit({ctor:function(e){this._dataSource=new _r(e),this._store=this._dataSource.store()},getFields:function(e){var t=new ee;return this._store.load({skip:0,take:20}).done(function(i){var r=Rs(i);t.resolve(ev(r.data,e))}).fail(t.reject),t},key:function(){return this._store.key()},load:function(e){var t=this,i=new ee,r={rows:[],columns:[],values:[],grandTotalRowIndex:0,grandTotalColumnIndex:0,rowHash:{},columnHash:{},rowIndex:1,columnIndex:1},n=TA(e),a=[];return zs(e.rows),zs(e.columns),zs(e.filters),M(n,function(s,o){a.push(t._store.load(CA(o,t.filter(),e.rows.length)))}),ye.apply(null,a).done(function(){var s=a.length>1?arguments:[arguments];M(s,function(o,l){var d=Rs(l[0],l[1]);EA(d.data,d.extra,n[o],r)}),i.resolve({rows:r.rows,columns:r.columns,values:r.values,grandTotalRowIndex:r.grandTotalRowIndex,grandTotalColumnIndex:r.grandTotalColumnIndex})}).fail(i.reject),i},filter:function(){return this._dataSource.filter.apply(this._dataSource,arguments)},supportPaging:function(){return!1},createDrillDownDataSource:function(e,t){e=e||{},t=t||{};var i=this._store,r=Kr(e.rows,t.rowPath).concat(Kr(e.columns,t.columnPath)).concat(Vs(e.rows)).concat(e.filters||[]).concat(Vs(e.columns)),n=Iv(r);return new _r({load:function(a){return i.load(H({},a,{filter:Av(n,a.filter),select:t.customColumns}))}})}});function IA(e,t,i){Pv(t,e,"rows",i),Pv(t,e,"columns",i)}function Pv(e,t,i,r){var n=t[i]||[],a=t.headerName===i?t.path.length:0,s=[];jd(e[i],function(o,l){var d=n[l]||{},u=s[l]=s[l]||AA(d,e,t,i,r);o.sort(u)},a)}function AA(e,t,i,r,n){var a=n?"asc":e.sortOrder,s=OA(e.sortBy,n),o=e.sortingMethod?function(u,c){return e.sortingMethod(u,c)}:Kd(function(u){return u[s]}),l=!n&&DA(e,t,i,r),d=l&&Kd(l);return function(u,c){var h=d&&d(u,c)||o(u,c);return a==="desc"?-h:h}}function DA(e,t,i,r){var n=t.values,a=Ur(i.values,e.sortBySummaryField),s=r==="rows",o=s?t.columns:t.rows,l=s?t.grandTotalRowIndex:t.grandTotalColumnIndex,d=e.sortBySummaryPath||[],u=d.length?kA(o,d):l;if(n&&n.length&&a>=0&&P(u))return function(c){var h=s?c.index:u,f=s?u:c.index,g=((n[h]||[[]])[f]||[])[a];return P(g)?g:null}}function OA(e,t){var i="text";return e==="none"?i="index":(t||e!=="displayText")&&(i="value"),i}function kA(e,t){var i=null,r=(t||[]).join(".");return r.length&&at(e,function(n){var a=n[0],s=Lt(n).join("."),o=et(n,function(l){return l.text}).reverse().join(".");if(r===s||a.key&&o===r)return i=n[0].index,!1}),i}var LA={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848};function Bv(){return LA[vt.locale()]}var PA=Oe(),BA=Ee.inherit(function(){var e='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis"><RequestType>{2}</RequestType><Restrictions><RestrictionList><CATALOG_NAME>{0}</CATALOG_NAME><CUBE_NAME>{1}</CUBE_NAME></RestrictionList></Restrictions><Properties><PropertyList><Catalog>{0}</Catalog>{3}</PropertyList></Properties></Discover></Body></Envelope>',t="SELECT {2} FROM {0} {1} CELL PROPERTIES VALUE, FORMAT_STRING, LANGUAGE, BACK_COLOR, FORE_COLOR, FONT_FLAGS";function i(A,W){var z=new ee,q=A.beforeSend,U={url:A.url,dataType:"text",data:W,headers:{"Content-Type":"text/xml"},xhrFields:{},method:"POST"};return he(q)&&q(U),$I(U).fail(function(){z.reject(arguments)}).done(function(J){var G=new PA.DOMParser,V;try{try{V=G.parseFromString(J,"text/xml")}catch(ie){V=void 0}if(!V||V.getElementsByTagName("parsererror").length||V.childNodes.length===0)throw new Ye.Error("E4023",J)}catch(ie){z.reject({statusText:ie.message,stack:ie.stack,responseText:J})}z.resolve(V)}),z}function r(){var A=Bv();return A!==void 0?He("<LocaleIdentifier>{0}</LocaleIdentifier>",A):""}function n(A){return(A.hierarchyName||A.dataField)+".[All]"}function a(A){var W=A.dataField+".allMembers",z=A.searchValue;return z&&(z=z.replace(/'/g,"''"),W="Filter("+W+", instr("+A.dataField+".currentmember.member_caption,'"+z+"') > 0)"),W}function s(A){var W=A.join(",");return A.length>1?He("CrossJoin({0})",W):W}function o(A,W,z,q,U,J,G,V){for(var ie=[],Z=J[G],Y,oe,_e,de=q;de<=W;de++){var ce=Z[de],me=ce.dataField,ve=Z[de-1]&&Z[de-1].hierarchyName,be=ce.hierarchyName,ke=!be||!Z[de+1]||Z[de+1].hierarchyName!==be,y=A.length+z+q;if(Y=null,de<A.length)ke&&(Y="("+me+"."+E(A[de],me)+")");else if(de<=y)if(de===0&&z===0){var te=n(Z[q]);be?Y=te+","+Z[q].dataField:Y=a(Z[q])}else be?(_e=E(U[U.length-1]),(ke||de===y)&&(ve===be?(U.length&&(oe=Z[U.length-1]),(!oe||oe.hierarchyName!==be)&&(oe=Z[de-1],_e=""),Y=(L=oe.dataField,K=_e,ne=me,ae=void 0,ae=K||L,"Descendants({"+ae+"}, "+ne+", SELF_AND_BEFORE)")):Y=a(ce))):Y=a(ce);else{var j=!be||ve!==be;j&&(Y="("+n(ce)+")")}if(Y){if(Y=He("{{0}}",Y),V){var R=(ce.hierarchyName||ce.dataField)+(ce.sortBy==="displayText"?".MEMBER_CAPTION":".MEMBER_VALUE");Y=He("Order({0}, {1}, {2})",Y,R,ce.sortOrder==="desc"?"DESC":"ASC")}ie.push(Y)}}var L,K,ne,ae;return s(ie)}function l(A,W,z,q,U,J,G,V,ie,Z){var Y=-1,oe=J[G],_e;do{Y++,_e=W.length+Y+q;var de=o(W,z,Y,q,U,J,G,ie);!ie&&!Z&&(de=He("NonEmpty({0}, {1})",de,V)),A.push(de)}while(oe[_e]&&oe[_e+1]&&oe[_e].expanded)}function d(A,W,z,q){return z=z||"[DX_Set_"+W.length+"]",q=q||"set",W.push(He("{0} {1} as {2}",q,z,A)),z}function u(A,W,z,q,U){var J=A[W],G=[],V=[],ie=[],Z=0,Y=0,oe=[],_e=He("{{0}}",z.join(","));if(J&&J.length){A.headerName===W?(V=A.path,Z=V.length):A.headerName&&A.oppositePath?(V=A.oppositePath,Z=V.length):ie=(W==="columns"?A.columnExpandedPaths:A.rowExpandedPaths)||ie,Y=Xd(A,W),l(G,[],Y,Z,V,A,W,_e,W==="rows"?A.rowTake:A.columnTake,A.totalsOnly),M(ie,function(ke,y){l(G,y,Y,Z,y,A,W,_e)});for(var de=Y;de>=V.length;de--)J[de].hierarchyName&&(U.visibleLevels[J[de].hierarchyName]=U.visibleLevels[J[de].hierarchyName]||[],U.visibleLevels[J[de].hierarchyName].push(J[de].dataField))}if(G.length){var ce=(ve=G,be=ve.join(","),ve.length>1?"Union("+be+")":be);W==="rows"&&A.rowTake&&(ce=He("Subset({0}, {1}, {2})",ce,A.rowSkip>0?A.rowSkip+1:0,A.rowSkip>0?A.rowTake:A.rowTake+1)),W==="columns"&&A.columnTake&&(ce=He("Subset({0}, {1}, {2})",ce,A.columnSkip>0?A.columnSkip+1:0,A.columnSkip>0?A.columnTake:A.columnTake+1));var me="[DX_".concat(W,"]");oe.push(d(ce,q,me)),A.totalsOnly&&oe.push(d("COUNT(".concat(me,")"),q,"[DX_".concat(W,"_count]"),"member"))}var ve,be;return W==="columns"&&z.length&&!A.skipValues&&oe.push(_e),He("{0} DIMENSION PROPERTIES PARENT_UNIQUE_NAME,HIERARCHY_UNIQUE_NAME, MEMBER_VALUE ON {1}",s(oe),W)}function c(A){var W=[];return M(A,function(z,q){var U=q.dataField,J=[],G=q.filterValues||[],V;q.hierarchyName&&Re(q.groupIndex)||(M(G,function(ie,Z){var Y=U+"."+E(Array.isArray(Z)?Z[Z.length-1]:Z,U);q.filterType==="exclude"&&(J.push(Y+".parent"),Y="Descendants("+Y+")"),J.push(Y)}),G.length&&(V=He("{{0}}",J.join(",")),q.filterType==="exclude"&&(V="Except("+a(q)+","+V+")"),W.push(V)))}),W.length?s(W):""}function h(A,W,z,q){var U="["+q+"]";return M([A,W,z],function(J,G){G&&(U=He("(SELECT {0} FROM {1})",G+"on 0",U))}),U}function f(A,W,z,q,U,J,G){var V=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},ie="",Z=(W.length?"with "+W.join(" "):"")+" ";if(A.length){var Y;if(V.totalsOnly){var oe=[];q.length&&oe.push("[DX_rows_count]"),z.length&&oe.push("[DX_columns_count]"),Y="{".concat(oe.join(","),"} on columns")}else Y=A.join(",");ie=Z+He(t,h(c(z),c(q),c(U||[]),G),J.length?He("WHERE ({0})",J.join(",")):"",Y)}return ie}function g(A,W){return et(W,function(z){return Ae(z.expression)&&d(z.expression,A,z.dataField,"member"),z.dataField})}function S(A,W,z,q){M(q,function(U,J){var G=W[z][U];(!G.hierarchyName||G.hierarchyName!==W[z][U+1].hierarchyName)&&A.push(G.dataField+"."+E(J,G.dataField))})}function C(A,W,z){var q=A.columns||[],U=A.rows||[],J=A.values&&A.values.length?A.values:[{dataField:"[Measures]"}],G=[],V=[],ie=[],Z=g(V,J);return z.measureCount=A.skipValues?1:J.length,z.visibleLevels={},A.headerName&&A.path&&S(G,A,A.headerName,A.path),A.headerName&&A.oppositePath&&S(G,A,A.headerName==="rows"?"columns":"rows",A.oppositePath),(q.length||Z.length)&&ie.push(u(A,"columns",Z,V,z)),U.length&&ie.push(u(A,"rows",Z,V,z)),f(ie,V,q,U,A.filters,G,W,A)}function T(A,W,z){M(z,function(q,U){var J=W[q];J.hierarchyName&&(W[q+1]||{}).hierarchyName===J.hierarchyName||A.push(J.dataField+"."+E(U,J.dataField))})}function D(A){return parseInt(A,10)}function b(A,W){return m(function(z,q){return(z.getElementsByTagName(q)||[])[0]}(A,W))}function m(A){return A&&(A.textContent||A.text||A.innerHTML)||""}function x(A,W,z){for(var q=[],U=[],J=0,G=[],V=A.getElementsByTagName("Cell"),ie={},Z=0;Z<V.length;Z++){var Y=V[Z],oe=Y.getElementsByTagName("Value")[0],_e=oe&&oe.getElementsByTagName("Error")||[],de=_e.length===0?m(oe):"#N/A",ce=parseFloat(de),me=de-ce+1>0,ve=D(Y.getAttribute("CellOrdinal"));_e.length&&(ie[m(_e[0].getElementsByTagName("ErrorCode")[0])]=m(_e[0].getElementsByTagName("Description")[0])),G[ve]={value:me?ce:de||null}}return M(W[1],function(){var be=[];q.push(be),M(W[0],function(){var ke=J%z;ke===0&&(U=[],be.push(U)),U.push(G[J]?G[J].value:null),J++})}),Object.keys(ie).forEach(function(be){Ye.log("W4002",ie[be])}),q}function E(A,W){return A&&(A=Ae(A)&&A.indexOf("&")!==-1?A:"["+A+"]",W&&A.indexOf(W+".")===0&&(A=A.slice(W.length+1,A.length))),A}function w(A,W,z,q){var U=A[W];return U||(U={},A[W]=U),!P(U.value)&&z&&(U.text=z.caption,U.value=z.value,U.key=W||"",U.levelName=z.levelName,U.hierarchyName=z.hierarchyName,U.parentName=z.parentName,U.index=q,U.level=z.level),U}function k(A,W){var z=[],q=A.children&&(A.children.length?A.children:Object.keys(A.children.grandTotalHash||{}).reduce((V,ie)=>V.concat(A.children.grandTotalHash[ie].children),[])),U=q&&q[0];if(U&&(W[U.hierarchyName]&&fe(U.levelName,W[U.hierarchyName])!==-1||!W[U.hierarchyName]||U.level===0)){var J=q.filter(V=>V.hierarchyName===U.hierarchyName);return J.grandTotalHash=q.grandTotalHash,J}else if(U)for(var G=0;G<q.length;G++)q[G].hierarchyName===U.hierarchyName&&z.push.apply(z,k(q[G],W));return z}function O(A,W,z,q){var U=[];M(W,function(V,ie){var Z={children:U},Y=P(z)?Math.floor(V/z):V;M(ie,function(oe,_e){Z=function(de,ce,me){var ve=me.children=me.children||[],be=ve.hash=ve.hash||{},ke=ve.grandTotalHash=ve.grandTotalHash||{};ce.parentName&&(me=w(be,ce.parentName),ve=me.children=me.children||[]);var y=w(be,ce.name,ce,de);return ce.hasValue&&!y.added&&(y.index=de,y.added=!0,ve.push(y)),(!me.value||!me.parentName)&&ce.parentName?ke[ce.parentName]=me:ke[me.name]&&delete ke[ce.parentName],y}(Y,_e,Z)})});var J={children:U};J.children=k(J,q);var G=function(V,ie){var Z;if(V.children.length===1&&V.children[0].parentName===""){Z=V.children[0].index;var Y=V.children.grandTotalHash;V.children=V.children[0].children||[],V.children.grandTotalHash=Y,V.children=k(V,ie)}else V.children.length===0&&(Z=0);return Z}(J,q);return at(J.children,function(V){var ie=V[0],Z=k(ie,q);Z.length?ie.children=Z:delete ie.children,delete ie.levelName,delete ie.hierarchyName,delete ie.added,delete ie.parentName,delete ie.level},!0),M(J.children||[],function(V,ie){A.push(ie)}),G}function B(A){var W=A.getElementsByTagName("soap:Fault"),z=A.getElementsByTagName("Fault"),q=p([].slice.call(z.length?z:W)).find("Error");if(q.length){var U=q.attr("Description"),J=new Ye.Error("E4000",U);return Ye.log("E4000",U),J}return null}function $(A,W){var z={columns:[],rows:[]},q=W.measureCount,U=function(J,G){var V=[];for(M(J.getElementsByTagName("Axis"),function(ie,Z){var Y=Z.getAttribute("name"),oe=[],_e=0;Y.indexOf("Axis")===0&&Re(D(Y.substr(4)))&&(V.push(oe),M(Z.getElementsByTagName("Tuple"),function(de,ce){var me=ce.childNodes,ve=0,be=[],ke=G?me.length:me.length-1,y=V.length===1;y&&ke--,oe.push(be);for(var te=ke;te>=0;te--){var j=me[te],R=D(b(j,"LNum"));be[te]={caption:b(j,"Caption"),value:(L=b(j,"MEMBER_VALUE"),Re(L)?parseFloat(L):L),level:R,index:_e++,hasValue:!ve&&(!!R||te===0),name:b(j,"UName"),hierarchyName:me[te].getAttribute("Hierarchy"),parentName:b(j,"PARENT_UNIQUE_NAME"),levelName:b(j,"LName")},ve+=R}var L}))});V.length<2;)V.push([[{level:0}]]);return V}(A,W.skipValues);return z.grandTotalColumnIndex=O(z.columns,U[0],q,W.visibleLevels),z.grandTotalRowIndex=O(z.rows,U[1],void 0,W.visibleLevels),z.values=x(A,U,q),z}function I(A,W,z,q){var U=[],J=W==="MEASURE",G=J?"MEASUREGROUP_NAME":W+"_DISPLAY_FOLDER";return M(A.getElementsByTagName("row"),function(V,ie){var Z=W==="LEVEL"?b(ie,"HIERARCHY_UNIQUE_NAME"):void 0,Y=b(ie,"LEVEL_NUMBER"),oe=b(ie,G);if(J&&(oe=q[oe]||oe),(Y!=="0"||b(ie,W+"_IS_VISIBLE")!=="true")&&b(ie,"DIMENSION_TYPE")!=="2"){var _e=J?"DX_MEASURES":b(ie,"DIMENSION_UNIQUE_NAME"),de=b(ie,W+"_UNIQUE_NAME");U.push({dimension:z.names[_e]||_e,groupIndex:Y?D(Y)-1:void 0,dataField:de,caption:b(ie,W+"_CAPTION"),hierarchyName:Z,groupName:Z,displayFolder:oe,isMeasure:J,isDefault:!!z.defaultHierarchies[de]})}}),U}function N(A){A=A.replace(/_x(....)_/g,function(z,q){return String.fromCharCode(parseInt(q,16))});var W=A.match(/\[.+?\]/gi);return W&&W.length&&(A=W[W.length-1]),A.replace(/\[/gi,"").replace(/\]/gi,"").replace(/\$/gi,"").replace(/\./gi," ")}function v(A,W){return W=p("<div>").text(W).html(),i(A,He('<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>{0}</Statement></Command><Properties><PropertyList><Catalog>{1}</Catalog><ShowHiddenCubes>True</ShowHiddenCubes><SspropInitAppName>Microsoft SQL Server Management Studio</SspropInitAppName><Timeout>3600</Timeout>{2}</PropertyList></Properties></Execute></Body></Envelope>',W,A.catalog,r()))}return{ctor:function(A){this._options=A},getFields:function(){var A=this._options,W=A.catalog,z=A.cube,q=r(),U=i(A,He(e,W,z,"MDSCHEMA_DIMENSIONS",q)),J=i(A,He(e,W,z,"MDSCHEMA_MEASURES",q)),G=i(A,He(e,W,z,"MDSCHEMA_HIERARCHIES",q)),V=i(A,He(e,W,z,"MDSCHEMA_LEVELS",q)),ie=new ee;return ye(U,J,G,V).then(function(Z,Y,oe,_e){i(A,He(e,W,z,"MDSCHEMA_MEASUREGROUPS",q)).done(function(de){var ce=function(te){var j={names:{},defaultHierarchies:{}};return M(p(te).find("row"),function(){var R=p(this),L=R.children("DIMENSION_TYPE").text(),K=L==="2"?"DX_MEASURES":R.children("DIMENSION_UNIQUE_NAME").text();j.names[K]=R.children("DIMENSION_CAPTION").text(),j.defaultHierarchies[R.children("DEFAULT_HIERARCHY").text()]=!0}),j}(Z),me=I(oe,"HIERARCHY",ce),ve=I(_e,"LEVEL",ce),be=function(te){var j={};return M(te.getElementsByTagName("row"),function(R,L){j[b(L,"MEASUREGROUP_NAME")]=b(L,"MEASUREGROUP_CAPTION")}),j}(de),ke=I(Y,"MEASURE",ce,be).concat(me),y={};M(ve,function(te,j){y[j.hierarchyName]=y[j.hierarchyName]||[],y[j.hierarchyName].push(j)}),M(me,function(te,j){y[j.dataField]&&y[j.dataField].length>1&&(j.groupName=j.hierarchyName=j.dataField,ke.push.apply(ke,y[j.hierarchyName]))}),ie.resolve(ke)}).fail(ie.reject)}).fail(ie.reject),ie},load:function(A){var W=new ee,z=this._options,q={skipValues:A.skipValues},U=C(A,z.cube,q),J;(A.rowSkip||A.rowTake||A.columnTake||A.columnSkip)&&(J=C(H({},A,{totalsOnly:!0,rowSkip:null,rowTake:null,columnSkip:null,columnTake:null}),z.cube,{}));var G=()=>{U?ye(v(z,U),J&&v(z,J)).done(function(V,ie){var Z=B(V)||ie&&B(ie);if(Z)W.reject(Z);else{var Y=$(V,q);ie&&function(oe,_e,de){var ce=_e.columns||[],me=_e.rows||[];ce.length,me.length;var ve=x(de,[[{}],[{},{}]],1);if(!ce.length&&me.length&&(oe.rowCount=Math.max(ve[0][0][0]-1,0)),!me.length&&ce.length&&(oe.columnCount=Math.max(ve[0][0][0]-1,0)),me.length&&ce.length&&(oe.rowCount=Math.max(ve[0][0][0]-1,0),oe.columnCount=Math.max(ve[1][0][0]-1,0)),oe.rowCount!==void 0&&_e.rowTake){oe.rows=[...Array(_e.rowSkip)].concat(oe.rows),oe.rows.length=oe.rowCount;for(var be=0;be<oe.rows.length;be++)oe.rows[be]=oe.rows[be]||{}}if(oe.columnCount!==void 0&&_e.columnTake){oe.columns=[...Array(_e.columnSkip)].concat(oe.columns),oe.columns.length=oe.columnCount;for(var ke=0;ke<oe.columns.length;ke++)oe.columns[ke]=oe.columns[ke]||{}}}(Y,A,ie),W.resolve(Y)}}).fail(W.reject):W.resolve({columns:[],rows:[],values:[],grandTotalColumnIndex:0,grandTotalRowIndex:0})};return A.delay?setTimeout(G,A.delay):G(),W},supportPaging:function(){return!0},getDrillDownItems:function(A,W){var z=new ee,q=this._options,U=function(J,G,V){var ie=J.columns||[],Z=J.rows||[],Y=J.values&&J.values.length?J.values:[{dataField:"[Measures]"}],oe=[],_e=[],de=[],ce=g(_e,Y),me=V.maxRowCount,ve=V.customColumns||[],be=ve.length>0?" return "+ve.join(","):"";T(oe,ie,V.columnPath||[]),T(oe,Z,V.rowPath||[]),(ie.length||ce.length)&&de.push([(ce[V.dataIndex]||ce[0])+" on 0"]);var ke=f(de,_e,ie,Z,J.filters,oe,G);return ke&&"drillthrough"+(me>0?" maxrows "+me:"")+ke+be}(A,q.cube,W);return U?ye(v(q,U)).done(function(J){var G=B(J);G?z.reject(G):z.resolve(function(V){for(var ie=V.getElementsByTagName("row"),Z=[],Y={},oe=0;oe<ie.length;oe++){for(var _e=ie[oe].childNodes,de={},ce=0;ce<_e.length;ce++){var me=_e[ce].tagName,ve=Y[me]=Y[me]||N(me);de[ve]=m(_e[ce])}Z.push(de)}return Z}(J))}).fail(z.reject):z.resolve([]),z},key:Q,filter:Q}}()).include(rv),vr="column",jr="row",Ct=null,Rv=function(e,t){var i=e/t;return(!P(e)||isNaN(i))&&(i=Ct),i},Jd=function(e,t){return Rv(e.value(),e.grandTotal(t).value())},Mv=function(e,t){var i=e.parent(t),r=i?i.value():e.value();return Rv(e.value(),r)},Fv=function(e){return function(t){var i=t.prev(vr,e),r=i&&i.value();return P(r)&&P(t.value())?t.value()-r:Ct}},RA=function(e){var t=Fv(e);return function(i){var r=t(i),n=i.prev(vr,e),a=n&&n.value();return r!==Ct&&a?r/a:Ct}},MA={percentOfColumnTotal:function(e){return Mv(e,jr)},percentOfRowTotal:function(e){return Mv(e,vr)},percentOfColumnGrandTotal:function(e){return Jd(e,jr)},percentOfRowGrandTotal:function(e){return Jd(e,vr)},percentOfGrandTotal:function(e){return Jd(e)}},FA=function e(t,i){if(!(!t||!t.parent(i))){var r=t.prev(i);return r||(r=e(t.parent(i),i)),r}},NA=function(e){if(!!e.runningTotal){var t=e.runningTotal===vr?jr:vr;return function(i){var r=e.allowCrossGroupCalculation?FA(i,t):i.prev(t,!1),n=i.value(!0),a=r&&r.value(!0);return P(a)&&P(n)?n=a+n:P(a)&&(n=a),n}}};function Qd(){return{fields:{},positions:{}}}function eu(e,t,i){var r={index:-1};if(!Be(t))if(i.fields[t])t=i[t];else{var n=e.columns.concat(e.rows).concat(e.values),a=Ur(n,t);t=i[t]=n[a]}if(t){var s=t.area||"data";r=i.positions[t.index]=i.positions[t.index]||{area:s,index:fe(t,e[s==="data"?"values":s+"s"])}}return r}function ta(e){return e===jr?"_rowPath":"_columnPath"}var Xr=function(e,t,i,r,n,a){this._columnPath=e,this._rowPath=t,this._fieldIndex=n,this._fieldsCache=a||Qd(),this._data=i,this._descriptions=r;var s=i.values&&i.values[t[0].index]&&i.values[t[0].index][e[0].index];s&&(s.originalCell=s.originalCell||s.slice(),s.postProcessedFlags=s.postProcessedFlags||[],this._cell=s)};Xr.prototype=H(Xr.prototype,{_getPath:function(e){return this[ta(e)]},_getDimension:function(e){return e=e===jr?"rows":"columns",this._descriptions[e]},_createCell:function(e){return new Xr(e._columnPath||this._columnPath,e._rowPath||this._rowPath,this._data,this._descriptions,this._fieldIndex)},parent:function(e){var t=this._getPath(e).slice(),i={};return t.shift(),t.length?(i[ta(e)]=t,this._createCell(i)):Ct},children:function(e){var t=this._getPath(e).slice(),i=t[0],r=[],n={};if(i.children)for(var a=0;a<i.children.length;a++)n[ta(e)]=[i.children[a]].concat(t.slice()),r.push(this._createCell(n));return r},grandTotal:function(e){var t={},i=this._rowPath,r=this._columnPath,n=this._getPath(e),a=ta(e);return e?t[a]=[n[n.length-1]]:(t._rowPath=[i[i.length-1]],t._columnPath=[r[r.length-1]]),this._createCell(t)},next:function(e,t){var i=this._getPath(e),r=i[0],n=this.parent(e),a;if(n){var s=fe(r,i[1].children);if(a=n.children(e),a[s+1])return a[s+1]}if(t&&n){do n=n.next(e,t),a=n?n.children(e):[];while(n&&!a.length);return a[0]||Ct}return Ct},prev:function(e,t){var i=this._getPath(e),r=i[0],n=this.parent(e),a;if(n){var s=fe(r,i[1].children);if(a=n.children(e),a[s-1])return a[s-1]}if(t&&n){do n=n.prev(e,t),a=n?n.children(e):[];while(n&&!a.length);return a[a.length-1]||Ct}return Ct},cell:function(){return this._cell},field:function(e){if(e==="data")return this._descriptions.values[this._fieldIndex];var t=this._getPath(e),i=this._getDimension(e),r=i[t.length-2];return r||Ct},child:function(e,t){for(var i=this.children(e),r=0;r<i.length;r++){var n=n||i[r].field(e);if(i[r].value(n)===t)return i[r]}return Ct},slice:function(e,t){var i={},r=eu(this._descriptions,e,this._fieldsCache),n=r.area,a=r.index,s=Ct;if(n===jr||n===vr){var o=this._getPath(n).slice(),l=a!==-1&&o.length-2-a;if(o[l]){[][o.length-1]=o[o.length-1];for(var d=l;d>=0;d--){if(o[d+1]){var u=o[d+1].children||[],c=d===l?t:o[d].value;o[d]=void 0;for(var h=0;h<u.length;h++)if(u[h].value===c){o[d]=u[h];break}}if(o[d]===void 0)return s}i[ta(n)]=o,s=this._createCell(i)}}return s},value:function(e,t){var i=this._cell,r=this._fieldIndex,n=e===!0||e===!1,a=n?Ct:e,s=n&&e||t;if(P(a)){var o=eu(this._descriptions,a,this._fieldsCache);if(r=o.index,o.area!=="data"){var l=this._getPath(o.area),d=r!==-1&&l.length-2-r;return l[d]&&l[d].value}}return i&&i.originalCell?s?i[r]:i.originalCell[r]:Ct},isPostProcessed(e){var t=this._fieldIndex;if(P(e)){var i=eu(this._descriptions,e,this._fieldsCache);if(t=i.index,i.area!=="data")return!1}return!!(this._cell&&this._cell.postProcessedFlags[t])}});function HA(e){var t=e.summaryDisplayMode,i=e.allowCrossGroupCalculation,r=Ct;return he(e.calculateSummaryValue)?r=e.calculateSummaryValue:t&&(t==="absoluteVariation"?r=Fv(i):t==="percentVariation"?r=RA(i):r=MA[t],r&&!e.format&&t.indexOf("percent")!==-1&&yi(e,"format","percent")),r}function Nv(e,t,i,r){var n=e.values[t][i]=e.values[t][i]||[],a=n.originalCell;!a||((n.allowResetting||!r)&&(e.values[t][i]=a.slice()),e.values[t][i].allowResetting=r)}function $A(e,t){var i=[],r=[{index:t.grandTotalColumnIndex,children:t.columns}],n=[{index:t.grandTotalRowIndex,children:t.rows}],a=e.values,s=Qd();t.values=t.values||[],at(r,o=>{o[0].isEmpty=[]},!1),at(n,function(o){var l=o[0];l.isEmpty=[],t.values[l.index]=t.values[l.index]||[],at(r,function(d){var u=d[0],c;Nv(t,l.index,u.index,!1);for(var h=0;h<a.length;h++){var f=a[h],g=i[h]=i[h]===void 0?HA(f):i[h];if(c=!1,g){var S=new Xr(d,o,t,e,h,s),C=S.cell(),T=C[h]=g(S);C.postProcessedFlags[h]=!0,c=T==null}u.isEmpty[h]===void 0&&(u.isEmpty[h]=!0),l.isEmpty[h]===void 0&&(l.isEmpty[h]=!0),c||(l.isEmpty[h]=u.isEmpty[h]=!1)}},!1)},!1),t.isEmptyGrandTotalRow=n[0].isEmpty,t.isEmptyGrandTotalColumn=r[0].isEmpty}function VA(e,t){var i=[],r=[{index:t.grandTotalColumnIndex,children:t.columns}],n=[{index:t.grandTotalRowIndex,children:t.rows}],a=e.values,s=Qd();t.values=t.values||[],at(n,function(o){var l=o[0];t.values[l.index]=t.values[l.index]||[],at(r,function(d){var u=d[0];Nv(t,l.index,u.index,!0);for(var c=0;c<a.length;c++){var h=a[c],f=i[c]=i[c]===void 0?NA(h):i[c];if(f){var g=new Xr(d,o,t,e,c,s),S=g.cell();S[c]=f(g),S.postProcessedFlags[c]=!0}}},!1)},!1)}function zA(e,t,i){var r=new Xr([],[],{},e,0);return r.value=function(n){if(P(n)){var a=Ur(t,n),s=t[a];!i[a]&&s&&!P(s.area)&&(e.values.push(s),i[a]=!0)}},r.grandTotal=function(){return this},r.children=function(){return[]},r}var tu={row:"rows",column:"columns",data:"values",filter:"filters"},iu=["area","areaIndex","sortOrder","filterType","filterValues","sortBy","sortBySummaryField","sortBySummaryPath","expanded","summaryType","summaryDisplayMode"],ru=["format","selector","customizeText","caption"],Hv=ru.concat(["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"]);function GA(e){var t=e.dataField||e.groupName||"",i=(e.summaryType||"").toLowerCase();return Ae(e.groupInterval)&&(t+="_"+e.groupInterval),i&&i!=="custom"?(i=i.replace(/^./,i[0].toUpperCase()),t.length&&(i=" ("+i+")")):i="",Jo(t)+i}function nu(e,t){var i=e._initProperties||{};M(t,function(r,n){Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])})}function au(e,t){nu(e,t),P(e.caption)||yi(e,"caption",GA(e))}function WA(e){return e.some(function(t){return t.summaryDisplayMode||t.calculateSummaryValue})}function UA(e){return e.some(function(t){return!!t.runningTotal})}function KA(e){return e.rows.length||e.columns.length||e.values.length}var $v=Ee.inherit(function(){var e=function(m,x){if(m._cacheByPath)return m._cacheByPath[x.join(".")]||null},t=function m(x,E){var w,k=-1,O;if(x)for(w=0;w<x.length;w++)O=x[w],O.index!==void 0&&(k=Math.max(k,O.index)),O.children?k=Math.max(k,m(O.children)):O.collapsedChildren&&(k=Math.max(k,m(O.collapsedChildren)));return P(E)&&(k=Math.max(k,E)),k},i=function(m,x,E,w){var k=t(E)+1,O=t(m,w)+1,B,$=[],I=!1,N=new ee;if(x.children&&x.children.length===E.length)for(var v=0;v<E.length;v++){var A=E[v];A.index!==void 0&&(x.children[v].index===void 0?(A.index=$[A.index]=O++,x.children[v]=A):$[A.index]=x.children[v].index)}else{for(I=!0,B=0;B<k;B++)$[B]=O++;x.children=E}return ye(Wi(x.children,function(W){I&&(W[0].index=$[W[0].index])})).done(function(){N.resolve($)}),N},r=function(m,x,E){var w=new ee,k=E>=0&&t(m,E)+1,O=[];return ye(Wi(m,function(B){delete B[0].collapsedChildren})).done(function(){ye(Wi(x,function(B,$){var I=B[0];if(I.index>=0){var N=e(m,Lt(B));if(N&&N.index>=0)O[I.index]=N.index;else if(k){var v=Lt(B.slice(1));N=e(m,v);var A=v.length?N&&N.children:m;A&&(A[$]=I,I.index=O[I.index]=k++)}}})).done(function(){w.resolve(O)})}),w},n=function(m,x,E,w){var k,O,B,$,I,N,v=m.values;if(x){for(k=0;k<=x.length;k++)if(B=x[k],I=E[k],P(I)||(I=m.grandTotalRowIndex),B&&P(I))for(v[I]||(v[I]=[]),O=0;O<=B.length;O++)$=B[O],N=w[O],P(N)||(N=m.grandTotalColumnIndex),P($)&&P(N)&&(v[I][N]=$)}};function a(m,x){var E=m.remoteOperations||m.paginate?wA:gA;return new E(H(Wd(m),{onChanged:null,onLoadingChanged:null,onProgressChanged:x}))}function s(m,x,E,w){var k=[],O=x&&x[E]||[],B=w&&w[E]||[];return at(m[E],function($){var I=$[0],N=Lt($);I.children&&O[N.length-1]&&!O[N.length-1].expanded&&N.length<O.length&&(!w||function(v,A,W){for(var z=0;z<W;z++)if(!v[z]||!A[z]||v[z].index!==A[z].index)return!1;return!0}(O,B,N.length))&&k.push(N.slice())},!0),k}function o(m,x,E,w){return x?M(w,function(k,O){if(E)m[O]=x[O];else{if((O==="summaryType"||O==="summaryDisplayMode")&&x[O]===void 0)return;yi(m,O,x[O])}}):nu(m,w),m}function l(m,x){var E=[];return M(m,function(w,k){E.push(o({dataField:k.dataField,name:k.name},k,!0,x))}),E}function d(m){return m.name?m.name:m.dataField+""}function u(m,x){var E=[];return M(m||[],function(w,k){d(k)===x&&E.push(k)}),E}function c(m,x){m=m||[];var E={},w;return M(x,function(k,O){w=d(O),E[w]||(E[w]=u(x,d(O)))}),M(E,function(k,O){(function(B,$){return B=B||[],M($,function(I,N){o(N,B[I],!1,iu),au(N,ru)}),$})(u(m,k),O)}),x}function h(m){m.sort(function(x,E){return x.areaIndex-E.areaIndex||x.groupIndex-E.groupIndex})}function f(m,x){var E=m.groupName||"";return(m.dataField||E)+(m.groupInterval?E+m.groupInterval:"NOGROUP")+(x?"":E)}function g(m,x,E){var w=[],k={},O={},B=tv(m);return x?(M(x,function($,I){k[f(I,E)]=I}),M(m,function($,I){var N=f(I,E),v=k[N]||O[N],A;v?(v._initProperties&&nu(v,Hv),A=H({},v,I,{_initProperties:null})):k[N]=A=I,H(A,{dataType:B[I.dataField]}),delete k[N],O[N]=v,w.push(A)}),E&&M(k,function($,I){w.push(I)})):w=m,w.push.apply(w,[]),function($){$.forEach(I=>{if(I.groupName&&I.groupInterval&&I.groupIndex===void 0){var N=$.filter(v=>v.groupName===I.groupName&&Re(v.groupIndex)).map(v=>v.groupIndex).reduce((v,A)=>Math.max(v,A),-1);I.groupIndex=N+1}})}(w),w}function S(m){var x=new ee,E=m._store,w=E&&E.getFields(m._fields),k;return ye(w).done(function(O){m._storeFields=O,k=g(m._fields,O,m._retrieveFields),x.resolve(k)}).fail(x.reject),x}function C(m,x,E){return Wi(m[E],function(w){var k=w[0];k.text=k.text||Ud(k.value,x[E][Lt(w).length-1])})}function T(m,x){return ye(C(x,m,"columns"),C(x,m,"rows"))}function D(m){var x=new ee,E={};return ye(Wi(m,function(w){var k=Lt(w).join(".");E[k]=w[0]})).done(x.resolve),m._cacheByPath=E,x}function b(m,x){var E=[];return M(m,function(){(function(w,k){var O=k==="data"||w.visible!==!1;return w.area===k&&!P(w.groupIndex)&&O})(this,x)&&E.push(this)}),E}return{ctor:function(m){m=m||{},this._eventsStrategy=new Oi(this);var x=this,E=function(w,k){var O,B;return De(w)&&w.load?O=a(w,k):(w&&!w.store&&(w={store:w}),B=w.store,B.type==="xmla"?O=new BA(B):De(B)&&B.type||B instanceof ii||Array.isArray(B)?O=a(w,k):B instanceof Ee&&(O=B)),O}(m,function(w){x._eventsStrategy.fireEvent("progressChanged",[w])});x._store=E,x._paginate=!!m.paginate,x._pageSize=m.pageSize||40,x._data={rows:[],columns:[],values:[]},x._loadingCount=0,x._isFieldsModified=!1,M(["changed","loadError","loadingChanged","progressChanged","fieldsPrepared","expandValueChanging"],function(w,k){var O="on"+k[0].toUpperCase()+k.slice(1);Object.prototype.hasOwnProperty.call(m,O)&&this.on(k,m[O])}.bind(this)),x._retrieveFields=P(m.retrieveFields)?m.retrieveFields:!0,x._fields=m.fields||[],x._descriptions=m.descriptions?H(x._createDescriptions(),m.descriptions):void 0,E||H(!0,x._data,m.store||m)},getData:function(){return this._data},getAreaFields:function(m,x){var E=[],w;return x||m==="data"?(E=b(this._fields,m),h(E)):(w=this._descriptions||{},E=w[tu[m]]||[]),E},fields:function(m){return m&&(this._fields=g(m,this._storeFields,this._retrieveFields),this._fieldsPrepared(this._fields)),this._fields},field:function(m,x){var E=this._fields,w=E&&E[Re(m)?m:Ur(E,m)],k;return w&&x&&(M(x,function(O,B){var $=fe(O,iu)<0;if(yi(w,O,B,$),O==="sortOrder"){k=w.levels||[];for(var I=0;I<k.length;I++)k[I][O]=B}}),au(w,ru),this._descriptions=this._createDescriptions(w),this._isFieldsModified=!0,this._eventsStrategy.fireEvent("fieldChanged",[w])),w},getFieldValues:function(m,x,E){var w=this,k=this._fields&&this._fields[m],O=this.store(),B=[],$={columns:B,rows:[],values:this.getAreaFields("data"),filters:x?this._fields.filter(v=>v!==k&&v.area&&v.filterValues&&v.filterValues.length):[],skipValues:!0},I,N=new ee;return E&&(I=E.searchValue,$.columnSkip=E.skip,$.columnTake=E.take),k&&O?(M(k.levels||[k],function(){B.push(H({},this,{expanded:!0,filterValues:null,sortOrder:"asc",sortBySummaryField:null,searchValue:I}))}),O.load($).done(function(v){$.columnSkip&&(v.columns=v.columns.slice($.columnSkip)),$.columnTake&&(v.columns=v.columns.slice(0,$.columnTake)),T($,v),$.columnTake||w._sort($,v),N.resolve(v.columns)}).fail(N)):N.reject(),N},reload:function(){return this.load({reload:!0})},filter:function(){var m=this._store;return m.filter.apply(m,arguments)},load:function(m){var x=this,E=new ee;m=m||{},x.beginLoading(),E.fail(function(k){x._eventsStrategy.fireEvent("loadError",[k])}).always(function(){x.endLoading()});function w(){x._delayedLoadTask=void 0,x._descriptions?x._loadCore(m,E):ye(S(x)).done(function(k){x._fieldsPrepared(k),x._loadCore(m,E)}).fail(E.reject).fail(x._loadErrorHandler)}return x.store()?x._delayedLoadTask=No(w):w(),E},createDrillDownDataSource:function(m){return this._store.createDrillDownDataSource(this._descriptions,m)},_createDescriptions:function(m){var x=this.fields(),E={rows:[],columns:[],values:[],filters:[]};M(["row","column","data","filter"],function(k,O){Uy(b(x,O),"areaIndex",m)}),M(x||[],function(k,O){var B=tu[O.area],$=E[B],I=O.groupName;I&&!Re(O.groupIndex)&&(O.levels=function(N,v){return N.filter(A=>A.groupName===v.groupName&&Re(A.groupIndex)&&A.visible!==!1).map(function(A){return H(A,{areaIndex:v.areaIndex,area:v.area,expanded:P(A.expanded)?A.expanded:v.expanded,dataField:A.dataField||v.dataField,dataType:A.dataType||v.dataType,sortBy:A.sortBy||v.sortBy,sortOrder:A.sortOrder||v.sortOrder,sortBySummaryField:A.sortBySummaryField||v.sortBySummaryField,sortBySummaryPath:A.sortBySummaryPath||v.sortBySummaryPath,visible:A.visible||v.visible,showTotals:P(A.showTotals)?A.showTotals:v.showTotals,showGrandTotals:P(A.showGrandTotals)?A.showGrandTotals:v.showGrandTotals})}).sort(function(A,W){return A.groupIndex-W.groupIndex})}(x,O)),!(!$||I&&Re(O.groupIndex)||O.visible===!1&&O.area!=="data"&&O.area!=="filter")&&(O.levels&&$!==E.filters&&$!==E.values?($.push.apply($,O.levels),O.filterValues&&O.filterValues.length&&E.filters.push(O)):$.push(O))}),M(E,function(k,O){h(O)});var w={};return M(E.values,function(k,O){var B=O.calculateSummaryValue;if(he(B)){var $=zA(E,x,w);B($)}}),E},_fieldsPrepared:function(m){this._fields=m,M(m,function(w,k){k.index=w,au(k,Hv)});var x=l(m,["caption"]);this._eventsStrategy.fireEvent("fieldsPrepared",[m]);for(var E=0;E<m.length;E++)m[E].caption!==x[E].caption&&yi(m[E],"caption",m[E].caption,!0);this._descriptions=this._createDescriptions()},isLoading:function(){return this._loadingCount>0},state:function(m,x){var E=this;if(arguments.length)m=H({rowExpandedPaths:[],columnExpandedPaths:[]},m),E._descriptions?(E._fields=c(m.fields,E._fields),E._descriptions=E._createDescriptions(),!x&&E.load(m)):(E.beginLoading(),ye(S(E)).done(function(w){E._fields=c(m.fields,w),E._fieldsPrepared(w),!x&&E.load(m)}).always(function(){E.endLoading()}));else return{fields:l(E._fields,iu),columnExpandedPaths:s(E._data,E._descriptions,"columns",E._lastLoadOptions),rowExpandedPaths:s(E._data,E._descriptions,"rows",E._lastLoadOptions)}},beginLoading:function(){this._changeLoadingCount(1)},endLoading:function(){this._changeLoadingCount(-1)},_changeLoadingCount:function(m){var x=this.isLoading();this._loadingCount+=m;var E=this.isLoading();x^E&&this._eventsStrategy.fireEvent("loadingChanged",[E])},_hasPagingValues:function(m,x,E){var w=x+"Take",k=x+"Skip",O=this._data.values,B=this._data[x+"s"],$=x==="row"?"column":"row",I=[];if(m.path&&m.area===x){var N=e(B,m.path);if(B=N&&N.children,!B)return!1}if(m.oppositePath&&m.area===$){var v=e(B,m.oppositePath);if(B=v&&v.children,!B)return!1}for(var A=m[k];A<m[k]+m[w];A++)B[A]&&I.push(B[A].index);return I.every(W=>{if(W!==void 0)return x==="row"?(O[W]||[])[E]:(O[E]||[])[W]})},_processPagingCacheByArea:function(m,x,E){var w=E+"Take",k=E+"Skip",O=this._data[E+"s"],B=E==="row"?"column":"row",$;if(m[w]){if(m.path&&m.area===E){var I=e(O,m.path);O=I&&I.children||[]}if(m.oppositePath&&m.area===B){var N=e(O,m.oppositePath);O=N&&N.children||[]}do if($=O[m[k]],$&&$.index!==void 0)if(this._hasPagingValues(m,B,$.index))m[k]++,m[w]--;else break;while($&&$.index!==void 0&&m[w]);if(m[w]){var v=Math.floor(m[k]/x)*x,A=Math.ceil((m[k]+m[w])/x)*x;m[k]=v,m[w]=A-v}}},_processPagingCache:function(m){var x=this._pageSize;if(!(x<0))for(var E=0;E<m.length;E++)this._processPagingCacheByArea(m[E],x,"row"),this._processPagingCacheByArea(m[E],x,"column")},_loadCore:function(m,x){var E=this,w=this._store,k=this._descriptions,O=m.reload||this.paginate()&&E._isFieldsModified,B=this.paginate(),$=tu[m.area];if(m=m||{},w){H(m,k),m.columnExpandedPaths=m.columnExpandedPaths||s(this._data,m,"columns",E._lastLoadOptions),m.rowExpandedPaths=m.rowExpandedPaths||s(this._data,m,"rows",E._lastLoadOptions),B&&(m.pageSize=this._pageSize),$&&(m.headerName=$),E.beginLoading(),x.always(function(){E.endLoading()});var I=[m];if(E._eventsStrategy.fireEvent("customizeStoreLoadOptions",[I,O]),O||E._processPagingCache(I),I=I.filter(v=>!(v.rows.length&&v.rowTake===0)&&!(v.columns.length&&v.columnTake===0)),!I.length){E._update(x);return}var N=I.map(v=>w.load(v));ye.apply(null,N).done(function(){for(var v=arguments,A=0;A<v.length;A++){var W=I[A],z=v[A],q=A===v.length-1;W.path?E.applyPartialDataSource(W.area,W.path,z,q?x:!1,W.oppositePath):B&&!O&&KA(E._data)?E.mergePartialDataSource(z,q?x:!1):(H(E._data,z),E._lastLoadOptions=W,E._update(q?x:!1))}}).fail(x.reject)}else E._update(x)},_sort:function(m,x,E){var w=this._store;w&&!this._paginate&&IA(m,x,E)},paginate:function(){return this._paginate&&this._store&&this._store.supportPaging()},isEmpty:function(){var m=this.getAreaFields("data").filter(E=>E.visible!==!1),x=this.getData();return!m.length||!x.values.length},_update:function(m){var x=this,E=x._descriptions,w=x._data,k=E.values,O=WA(k);return ye(T(E,w),D(w.rows),D(w.columns)).done(function(){O&&(x._sort(E,w,O),!x.isEmpty()&&$A(E,w)),x._sort(E,w),!x.isEmpty()&&UA(k)&&VA(E,w),x._data=w,m!==!1&&ye(m).done(function(){x._isFieldsModified=!1,x._eventsStrategy.fireEvent("changed"),P(x._data.grandTotalRowIndex)&&(w.grandTotalRowIndex=x._data.grandTotalRowIndex),P(x._data.grandTotalColumnIndex)&&(w.grandTotalColumnIndex=x._data.grandTotalColumnIndex)}),m&&m.resolve(x._data)}),m},store:function(){return this._store},collapseHeaderItem:function(m,x){var E=m==="column"?this._data.columns:this._data.rows,w=e(E,x),k=this.getAreaFields(m)[x.length-1];return w&&w.children?(this._eventsStrategy.fireEvent("expandValueChanging",[{area:m,path:x,expanded:!1}]),k&&(k.expanded=!1),w.collapsedChildren=w.children,delete w.children,this._update(),this.paginate()&&this.load(),!0):!1},collapseAll:function(m){var x=!1,E=this.field(m)||{},w=[fe(E,this.getAreaFields(E.area))];E.expanded=!1,E&&E.levels&&(w=[],E.levels.forEach(k=>{w.push(fe(k,this.getAreaFields(E.area))),k.expanded=!1})),at(this._data[E.area+"s"],function(k){var O=k[0],B=Lt(k);O&&O.children&&w.indexOf(B.length-1)!==-1&&(O.collapsedChildren=O.children,delete O.children,x=!0)},!0),x&&this._update()},expandAll:function(m){var x=this.field(m);x&&x.area&&(x.expanded=!0,x&&x.levels&&x.levels.forEach(E=>{E.expanded=!0}),this.load())},expandHeaderItem:function(m,x){var E=m==="column"?this._data.columns:this._data.rows,w=e(E,x);if(w&&!w.children){var k=!!w.collapsedChildren,O={area:m,path:x,expanded:!0,needExpandData:!k};return this._eventsStrategy.fireEvent("expandValueChanging",[O]),k?(w.children=w.collapsedChildren,delete w.collapsedChildren,this._update()):this.store()&&this.load(O),k}return!1},mergePartialDataSource:function(m,x){var E=this,w=E._data,k,O;m&&m.values&&(m.rows=m.rows||[],m.columns=m.columns||[],k=r(w.rows,m.rows,w.grandTotalColumnIndex),O=r(w.columns,m.columns,w.grandTotalColumnIndex),ye(k,O).done(function(B,$){(B.length||$.length)&&n(w,m.values,B,$),E._update(x)}))},applyPartialDataSource:function(m,x,E,w,k){var O=this,B=O._data,$=m==="column"?B.columns:B.rows,I,N=m==="column"?B.rows:B.columns,v,A,W;E&&E.values&&(E.rows=E.rows||[],E.columns=E.columns||[],I=e($,x),v=k&&e(N,k),I&&(m==="column"?(W=i($,I,E.columns,B.grandTotalColumnIndex),v?A=i(N,v,E.rows,B.grandTotalRowIndex):A=r(B.rows,E.rows,B.grandTotalRowIndex)):(A=i($,I,E.rows,B.grandTotalRowIndex),v?W=i(N,v,E.columns,B.grandTotalColumnIndex):W=r(B.columns,E.columns,B.grandTotalColumnIndex)),ye(A,W).done(function(z,q){(m==="row"&&z.length||m==="column"&&q.length)&&n(B,E.values,z,q),O._update(w)})))},on(m,x){return this._eventsStrategy.on(m,x),this},off(m,x){return this._eventsStrategy.off(m,x),this},dispose:function(){var m=this._delayedLoadTask;this._eventsStrategy.dispose(),m&&m.abort(),this._isDisposed=!0},isDisposed:function(){return!!this._isDisposed}}}()),su=Math,Gs="GT",Vv="T",ia="D",jA="#N/A",XA=300,ra=function(e,t,i){e[t]||(e[t]=function(){var r=this._dataSource;return r?r[t].apply(r,arguments):i})},qA=Ee.inherit(function(){function e(o,l,d){return o===jA?d:Ud(o,l)}var t=function(){var o=function(u,c){var h=c.lastIndex-c.index||1,f=function(g,S,C,T){var D={type:g.type,text:g.text};return g.path&&(D.path=g.path),g.width&&(D.width=g.width),P(g.wordWrapEnabled)&&(D.wordWrapEnabled=g.wordWrapEnabled),g.isLast&&(D.isLast=!0),g.sorted&&(D.sorted=!0),g.isMetric&&(D.dataIndex=g.dataIndex),P(g.expanded)&&(D.expanded=g.expanded),S>1&&(D[C?"colspan":"rowspan"]=S),g.depthSize&&g.depthSize>1&&(D[C?"rowspan":"colspan"]=g.depthSize),g.index>=0&&(D.dataSourceIndex=g.index),T&&g.children&&g.children.length&&!g.children[0].isMetric&&(D.width=null,D.isWhiteSpace=!0),D}(c.headerItem,h,c.isHorizontal,c.isTree);return function(g,S,C,T,D){for(var b=D?T:C;!g[b];)g.push([]);D?g[b].push(S):g[b].unshift(S)}(u,f,c.index,c.depth,c.isHorizontal),!c.headerItem.children||c.headerItem.children.length===0?c.lastIndex+1:c.lastIndex},l=function(u,c,h,f,g){var S=h.length,C=function(b,m){var x=m&&m.length||0,E=[],w=new ee,k;return ye(Wi(b,function(O,B){var $=O[0],I=Lt(O);k=d(E,I.length,B),k.type=ia,k.value=$.value,k.path=I,k.text=$.text,k.index=$.index,k.displayText=$.displayText,k.key=$.key,k.isEmpty=$.isEmpty,I.length<x&&(!$.children||$.children.length!==0)&&(k.expanded=!!$.children)})).done(function(){w.resolve(d(E,0,0).children||[])}),w}(u,c),T=g.dataFields,D=new ee;return ye(C).done(function(b){g.notifyProgress(.5),g.showGrandTotals&&b[g.showTotalsPrior?"unshift":"push"]({type:Gs,isEmpty:g.isEmptyGrandTotal});var m=g.showTotals===!1||T.length>0&&T.length===g.hiddenTotals.length,x=T.length>0&&g.hiddenValues.length===T.length;x&&m&&(f=1),(!m||g.layout==="tree")&&function(E,w,k,O){k=k||O,at(E,function(B,$){var I=B[0],N=(B[1]?B[1].children:E)||[],v=w[B.length-1];I.type===ia&&I.expanded&&(v.showTotals!==!1||O)&&($!==-1&&N.splice(k?$:$+1,0,H({},I,{children:null,type:Vv,expanded:k?!0:null,isAdditionalTotal:!0})),k&&(I.expanded=null))})}(b,c,g.showTotalsPrior,g.layout==="tree"),ye(Wi(b,function(E){var w=E[0];(!w.children||w.children.length===0)&&(w.depthSize=f-E.length+1)})).done(function(){S>1&&function(E,w,k){at(E,function(O){var B=O[0],$;if(!B.children||B.children.length===0)for(B.children=[],$=0;$<w.length;$++){var I=B.type===Gs,N=B.type===Vv,v=B.type===ia,A=w[$].visible===!1||I&&fe($,k.hiddenGrandTotals)!==-1||N&&fe($,k.hiddenTotals)!==-1||v&&fe($,k.hiddenValues)!==-1;A||B.children.push({caption:w[$].caption,path:B.path,type:B.type,value:$,index:B.index,dataIndex:$,isMetric:!0,isEmpty:B.isEmpty&&B.isEmpty[$]})}})}(b,h,g),!g.showEmpty&&function(E){at([{children:E}],function(w,k){var O=w[0],B=(w[1]?w[1].children:E)||[],$=O.isEmpty;$&&$.length&&($=O.isEmpty.filter(function(I){return I}).length===$.length),O&&!O.children&&$&&(B.splice(k,1),function I(N,v){var A=N[v+1];!N[v].children.length&&A&&A.children&&(A.children.splice(fe(N[v],A.children),1),I(N,v+1))}(w,1))})}(b),g.notifyProgress(.75),ye(Wi(b,function(E){var w=E[0],k=w.isMetric,O=c[E.length-1]||{};if(w.type===ia&&!k&&(w.width=O.width),x===!0&&w.type===ia){var B=(E[1]?E[1].children:b)||[];B.splice(fe(w,B),1);return}k?w.wordWrapEnabled=h[w.dataIndex].wordWrapEnabled:w.wordWrapEnabled=O.wordWrapEnabled,w.isLast=!w.children||!w.children.length,w.isLast&&M(g.sortBySummaryPaths,function($,I){if(P(w.dataIndex)||(I=I.slice(0),I.pop()),function(N,v){var A,W=N[0],z=Ae(v[0]),q=W.dataIndex>=0?N[1]:W;return z&&v[0].indexOf("&[")!==-1&&q.key||!q.key?A=Lt(N):A=et(N,function(U){return U.dataIndex>=0?U.value:U.text}).reverse(),W.type===Gs&&(A=A.slice(1)),A.join("/")===v.join("/")}(E,I))return w.sorted=!0,!1}),w.text=function($,I,N){var v=$.text;return P($.displayText)?v=$.displayText:P($.caption)?v=$.caption:$.type===Gs&&(v=N.texts.grandTotal),$.isAdditionalTotal&&(v=He(N.texts.total||"",v)),v}(w,0,g)})).done(function(){b.length||b.push({}),g.notifyProgress(1),D.resolve(b)})})}),D};function d(u,c,h){var f=u[c]=u[c]||[],g=f[h]={};if(u[c+1]){g.children=u[c+1];for(var S=c+1;S<u.length;S++)u[S]=void 0;u.length=c+1}return g}return function(u,c,h,f,g){var S=[],C=function(D){var b=0;return at(D,function(m){b=su.max(b,m.length)}),b}(u)||1,T=new ee;return l(u,c,h,C,g).done(function(D){(function(b,m,x,E,w){var k=0,O,B,$=[0];at(m,function(I){var N=I[0];for(B=N.isMetric?x:I.length-1;$.length-1<B;)$.push($[$.length-1]);O=$[B]||0,k=o(b,{headerItem:N,index:O,lastIndex:k,depth:B,isHorizontal:E,isTree:w}),$.length=B,$.push(k)})})(S,D,C,f,g.layout==="tree"),g.notifyProgress(1),T.resolve(S)}),T}}();function i(o,l){var d=[];return M(o,function(u,c){var h=Ur(l,c.sortBySummaryField);h>=0&&d.push((c.sortBySummaryPath||[]).concat([h]))}),d}function r(o,l){for(var d=0,u=[],c=0;c<o.length;c++)for(var h=0;h<o[c].length;h++){var f=(o[c][h].rowspan||1)-1,g=c+f;if(u[c]&&(d-=u[c],u[c]=0),l(o[c][h],g,c,h,d)===!1)break;u[c+(o[c][h].rowspan||1)]=(u[c+(o[c][h].rowspan||1)]||0)+1,d++}}function n(o,l){var d=0,u=[];return at(o,function(c){var h=c[0],f=Lt(c);if(!(h.children&&l.showTotals===!1)){var g=H(!0,{},h,{visibleIndex:d++,path:f});P(g.index)?u[g.index]=g:u.push(g)}}),u}function a(o,l,d){return new QI(l,H({hasKnownLastPage:function(){return!0},pageCount:function(){return su.ceil(this.totalItemsCount()/this.pageSize())},updateLoading:function(){},itemsCount:function(){return this.pageIndex()<this.pageCount()-1?this.pageSize():this.totalItemsCount()%this.pageSize()},items:function(){return[]},viewportItems:function(){return[]},onChanged:function(){},isLoading:function(){return o.isLoading()},changingDuration:function(){var u=o._dataSource;return u.paginate()?XA:o._changingDuration||0}},d))}var s={ctor:function(o){var l=this,d=l._fireChanged.bind(l);o=l._options=o||{},l.dataSourceChanged=Le(),l._dataSource=l._createDataSource(o),o.component&&o.component.option("scrolling.mode")==="virtual"&&(l._rowsScrollController=a(l,o.component,{totalItemsCount:function(){return l.totalRowCount()},pageIndex:function(u){return l.rowPageIndex(u)},pageSize:function(){return l.rowPageSize()},load:function(){return l._rowsScrollController.pageIndex()>=this.pageCount()&&l._rowsScrollController.pageIndex(this.pageCount()-1),l._rowsScrollController.handleDataChanged(function(){l._dataSource.paginate()?l._dataSource.load():d.apply(this,arguments)})}}),l._columnsScrollController=a(l,o.component,{totalItemsCount:function(){return l.totalColumnCount()},pageIndex:function(u){return l.columnPageIndex(u)},pageSize:function(){return l.columnPageSize()},load:function(){return l._columnsScrollController.pageIndex()>=this.pageCount()&&l._columnsScrollController.pageIndex(this.pageCount()-1),l._columnsScrollController.handleDataChanged(function(){l._dataSource.paginate()?l._dataSource.load():d.apply(this,arguments)})}})),l._stateStoringController=new oA(o.component).init(),l._columnsInfo=[],l._rowsInfo=[],l._cellsInfo=[],l.expandValueChanging=Le(),l.loadingChanged=Le(),l.progressChanged=Le(),l.scrollChanged=Le(),l.load(),l._update(),l.changed=Le()},_fireChanged:function(){var o=new Date;this.changed&&!this._lockChanged&&this.changed.fire(),this._changingDuration=new Date-o},_correctSkipsTakes:function(o,l,d,u,c,h){var f=d?o+d-1:o;c[u.length]=c[u.length]||0,h[u.length]=h[u.length]||0,f<l?c[u.length]++:h[u.length]++},_calculatePagingForRowExpandedPaths:function(o,l,d,u,c){var h=this._rowsInfo,f=Math.min(o.rowSkip+o.rowTake,h.length),g=o.rowExpandedPaths,S=[],C={},T,D,b;for(g.forEach((E,w)=>{C[E]=w}),T=0;T<f;T++){for(d.length=l.length=S.length+1,D=0;D<h[T].length;D++){var m=h[T][D];if(m.type==="D"){this._correctSkipsTakes(T,o.rowSkip,m.rowspan,S,l,d),b=m.path||b;var x=b&&b.length>1?C[b.slice(0,-1)]:-1;x>=0&&(u[x]=l[S.length]||0,c[x]=d[S.length]||0),m.rowspan&&S.push(m.rowspan)}}S=S.map(E=>E-1).filter(E=>E>0)}},_calculatePagingForColumnExpandedPaths:function(o,l,d,u,c){var h={},f={};Hs(this._columnsInfo,function(g,S){if(g.type==="D"&&g.path&&g.dataIndex===void 0){var C=g.colspan||1,T=g.path.slice(0,-1).toString();h[T]=h[T]||0,f[T]=f[T]||0,S+C<=o.columnSkip?h[T]++:S<o.columnSkip+o.columnTake&&f[T]++}}),l[0]=h[[]],d[0]=f[[]],o.columnExpandedPaths.forEach(function(g,S){var C=h[g],T=f[g];C!==void 0&&(u[S]=C),T!==void 0&&(c[S]=T)})},_processPagingForExpandedPaths:function(o,l,d,u){var c=o[l+"ExpandedPaths"],h=c.map(()=>0),f=c.map(()=>u?o.pageSize:0),g=[],S=[];u||(l==="row"?this._calculatePagingForRowExpandedPaths(o,g,S,h,f):this._calculatePagingForColumnExpandedPaths(o,g,S,h,f)),this._savePagingForExpandedPaths(o,l,d,g[0],S[0],h,f)},_savePagingForExpandedPaths:function(o,l,d,u,c,h,f){var g=o[l+"ExpandedPaths"];o[l+"ExpandedPaths"]=[],o[l+"Skip"]=u!==void 0?u:o[l+"Skip"],o[l+"Take"]=c!==void 0?c:o[l+"Take"];for(var S=0;S<g.length;S++)if(f[S]){var C=o.area&&o.area!==l;d.push(H({area:l,headerName:l+"s"},o,{[l+"Skip"]:h[S],[l+"Take"]:f[S],[C?"oppositePath":"path"]:g[S]}))}},_handleCustomizeStoreLoadOptions:function(o,l){var d=o[0],u=this._rowsScrollController;if(this._dataSource.paginate()&&u){var c=u.pageSize();d.headerName==="rows"?(d.rowSkip=0,d.rowTake=c,d.rowExpandedPaths=[]):(d.rowSkip=u.beginPageIndex()*c,d.rowTake=(u.endPageIndex()-u.beginPageIndex()+1)*c,this._processPagingForExpandedPaths(d,"row",o,l))}var h=this._columnsScrollController;if(this._dataSource.paginate()&&h){var f=h.pageSize();o.forEach((g,S)=>{g.headerName==="columns"?(g.columnSkip=0,g.columnTake=f,g.columnExpandedPaths=[]):(g.columnSkip=h.beginPageIndex()*f,g.columnTake=(h.endPageIndex()-h.beginPageIndex()+1)*f,this._processPagingForExpandedPaths(g,"column",o,l))})}},load:function(){var o=this,l=this._stateStoringController;l.isEnabled()&&!l.isLoaded()?l.load().always(function(d){d?o._dataSource.state(d):o._dataSource.load()}):o._dataSource.load()},calculateVirtualContentParams:function(o){var l=this._rowsScrollController,d=this._columnsScrollController;if(l&&d)return l.viewportItemSize(o.virtualRowHeight),l.viewportSize(o.viewportHeight/l.viewportItemSize()),l.setContentItemSizes(o.itemHeights),d.viewportItemSize(o.virtualColumnWidth),d.viewportSize(o.viewportWidth/d.viewportItemSize()),d.setContentItemSizes(o.itemWidths),Lr(function(){d.loadIfNeed(),l.loadIfNeed()}),this.scrollChanged.fire({left:d.getViewportPosition(),top:l.getViewportPosition()}),{contentTop:l.getContentOffset(),contentLeft:d.getContentOffset(),width:d.getVirtualContentSize(),height:l.getVirtualContentSize()}},setViewportPosition:function(o,l){this._rowsScrollController.setViewportPosition(l||0),this._columnsScrollController.setViewportPosition(o||0)},subscribeToWindowScrollEvents:function(o){this._rowsScrollController&&this._rowsScrollController.subscribeToWindowScrollEvents(o)},updateWindowScrollPosition:function(o){this._rowsScrollController&&this._rowsScrollController.scrollTo(o)},updateViewOptions:function(o){H(this._options,o),this._update()},_handleExpandValueChanging:function(o){this.expandValueChanging.fire(o)},_handleLoadingChanged:function(o){this.loadingChanged.fire(o)},_handleProgressChanged:function(o){this.progressChanged.fire(o)},_handleFieldsPrepared:function(o){this._options.onFieldsPrepared&&this._options.onFieldsPrepared(o)},_createDataSource:function(o){var l=this,d=o.dataSource,u;return l._isSharedDataSource=d instanceof $v,l._isSharedDataSource?u=d:u=new $v(d),l._expandValueChangingHandler=l._handleExpandValueChanging.bind(l),l._loadingChangedHandler=l._handleLoadingChanged.bind(l),l._fieldsPreparedHandler=l._handleFieldsPrepared.bind(l),l._customizeStoreLoadOptionsHandler=l._handleCustomizeStoreLoadOptions.bind(l),l._changedHandler=function(){l._update(),l.dataSourceChanged.fire()},l._progressChangedHandler=function(c){l._handleProgressChanged(.8*c)},u.on("changed",l._changedHandler),u.on("expandValueChanging",l._expandValueChangingHandler),u.on("loadingChanged",l._loadingChangedHandler),u.on("progressChanged",l._progressChangedHandler),u.on("fieldsPrepared",l._fieldsPreparedHandler),u.on("customizeStoreLoadOptions",l._customizeStoreLoadOptionsHandler),u},getDataSource:function(){return this._dataSource},isLoading:function(){return this._dataSource.isLoading()},beginLoading:function(){this._dataSource.beginLoading()},endLoading:function(){this._dataSource.endLoading()},_update:function(){var o=this,l=o._dataSource,d=o._options,u=l.getAreaFields("column"),c=l.getAreaFields("row"),h=l.getAreaFields("data"),f=d.dataFieldArea==="row"?h:[],g=d.dataFieldArea!=="row"?h:[],S=l.getData(),C=function(w){var k=[];return M(w,function(O,B){B.showTotals===!1&&k.push(O)}),k}(h),T=function(w){var k=[];return w.forEach(function(O,B){(O.showValues===void 0&&O.showTotals===!1||O.showValues===!1)&&k.push(B)}),k}(h),D=function(w,k){var O=[];return M(w,function(B,$){$.showGrandTotals===!1&&O.push(B)}),k.length===0&&O.length===w.length&&(O=[]),O}(h,u),b=h.length>0?D.length!==h.length:!0,m={isEmptyGrandTotal:S.isEmptyGrandTotalRow,texts:d.texts||{},hiddenTotals:C,hiddenValues:T,hiddenGrandTotals:[],showTotals:d.showRowTotals,showGrandTotals:d.showRowGrandTotals!==!1&&b,sortBySummaryPaths:i(u,h),showTotalsPrior:d.showTotalsPrior==="rows"||d.showTotalsPrior==="both",showEmpty:!d.hideEmptySummaryCells,layout:d.rowHeaderLayout,fields:c,dataFields:h,progress:0},x={isEmptyGrandTotal:S.isEmptyGrandTotalColumn,texts:d.texts||{},hiddenTotals:C,hiddenValues:T,hiddenGrandTotals:D,showTotals:d.showColumnTotals,showTotalsPrior:d.showTotalsPrior==="columns"||d.showTotalsPrior==="both",showGrandTotals:d.showColumnGrandTotals!==!1&&b,sortBySummaryPaths:i(c,h),showEmpty:!d.hideEmptySummaryCells,fields:u,dataFields:h,progress:0},E=function(w){this.progress=w,o._handleProgressChanged(.8+.1*m.progress+.1*x.progress)};m.notifyProgress=E,x.notifyProgress=E,P(S.grandTotalRowIndex)||(S.grandTotalRowIndex=n(S.rows,m).length),P(S.grandTotalColumnIndex)||(S.grandTotalColumnIndex=n(S.columns,x).length),l._changeLoadingCount(1),ye(t(S.columns,u,g,!0,x),t(S.rows,c,f,!1,m)).always(function(){l._changeLoadingCount(-1)}).done(function(w,k){o._columnsInfo=w,o._rowsInfo=k,o._rowsScrollController&&o._columnsScrollController&&o.changed&&!o._dataSource.paginate()&&(o._rowsScrollController.reset(!0),o._columnsScrollController.reset(!0),o._lockChanged=!0,o._rowsScrollController.load(),o._columnsScrollController.load(),o._lockChanged=!1)}).done(function(){o._fireChanged(),o._stateStoringController.isEnabled()&&!o._dataSource.isLoading()&&(o._stateStoringController.state(o._dataSource.state()),o._stateStoringController.save())})},getRowsInfo:function(o){var l=this._rowsInfo,d=this._rowsScrollController,u;if(d&&!o){var c=d.beginPageIndex()*this.rowPageSize(),h=d.endPageIndex()*this.rowPageSize()+this.rowPageSize(),f=[],g=1;return r(l,function(S,C,T,D,b){var m=C>=c&&T<h,x=T<c?0:T-c,E=S;if(m)f[x]=f[x]||[],u=T<c?S.rowspan-(c-T)||1:S.rowspan,c+x+u>h&&(u=h-(x+c)||1),u!==S.rowspan&&(E=H({},E,{rowspan:u})),f[x].push(E),g=su.max(g,b+1);else if(void 0>h)return!1}),r(f,function(S,C,T,D,b){var m=S.colspan||1;b+m>g&&(f[T][D]=H({},S,{colspan:g-b||1}))}),f}return l},getColumnsInfo:function(o){var l=this._columnsInfo,d=this._columnsScrollController;if(d&&!o){var u=d.beginPageIndex()*this.columnPageSize(),c=d.endPageIndex()*this.columnPageSize()+this.columnPageSize();l=eA(l,u,c)}return l},totalRowCount:function(){return this._rowsInfo.length},rowPageIndex:function(o){return o!==void 0&&(this._rowPageIndex=o),this._rowPageIndex||0},totalColumnCount:function(){var o=0;if(this._columnsInfo&&this._columnsInfo.length)for(var l=0;l<this._columnsInfo[0].length;l++)o+=this._columnsInfo[0][l].colspan||1;return o},rowPageSize:function(o){return o!==void 0&&(this._rowPageSize=o),this._rowPageSize||20},columnPageSize:function(o){return o!==void 0&&(this._columnPageSize=o),this._columnPageSize||20},columnPageIndex:function(o){return o!==void 0&&(this._columnPageIndex=o),this._columnPageIndex||0},getCellsInfo:function(o){var l=this.getRowsInfo(o),d=this.getColumnsInfo(o),u=this._dataSource.getData(),c=this._options.texts||{};return function(h,f,g,S,C,T){var D=[],b=C==="row",m=g.values;return m.length&&r(h,function(x,E){var w=D[E]=[],k=m[x.dataSourceIndex>=0?x.dataSourceIndex:g.grandTotalRowIndex]||[];x.isLast&&Hs(f,function(O,B){var $=(b?x.dataIndex:O.dataIndex)||0,I=S[$];if(O.isLast&&I&&I.visible!==!1){var N=k[O.dataSourceIndex>=0?O.dataSourceIndex:g.grandTotalColumnIndex];Array.isArray(N)||(N=[N]);var v=N[$];w[B]={text:e(v,I,T),value:v,format:I.format,dataType:I.dataType,columnType:O.type,rowType:x.type,rowPath:x.path||[],columnPath:O.path||[],dataIndex:$},I.width&&(w[B].width=I.width)}})}),D}(l,d,u,this._dataSource.getAreaFields("data"),this._options.dataFieldArea,c.dataNotAvailable)},dispose:function(){this._isSharedDataSource?(this._dataSource.off("changed",this._changedHandler),this._dataSource.off("expandValueChanging",this._expandValueChangingHandler),this._dataSource.off("loadingChanged",this._loadingChangedHandler),this._dataSource.off("progressChanged",this._progressChangedHandler),this._dataSource.off("fieldsPrepared",this._fieldsPreparedHandler),this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler)):this._dataSource.dispose(),this._columnsScrollController&&this._columnsScrollController.dispose(),this._rowsScrollController&&this._rowsScrollController.dispose(),this._stateStoringController.dispose(),this.expandValueChanging.empty(),this.changed.empty(),this.loadingChanged.empty(),this.progressChanged.empty(),this.scrollChanged.empty(),this.dataSourceChanged.empty()}};return ra(s,"applyPartialDataSource"),ra(s,"collapseHeaderItem"),ra(s,"expandHeaderItem"),ra(s,"getData"),ra(s,"isEmpty"),s}()),YA="dx-expand",ZA=function(e){var t=0,i=e.offsetWidth;if(e.getBoundingClientRect){var r=rt(e);t=r.width,t||(t=r.right-r.left),t<=i-1&&(t=i)}return t>0?t:i};function zv(e,t,i,r){var n=0,a=0,s=i/2;return e+r-(t+i)>1?(e>=t+i+s&&(a=parseInt((e-(t+i))/s,10)),n=t+i+s*a):e<t?(e<=t-s&&(a=parseInt((e-(t-s))/s,10)),n=t-(i-s*a)):n=t,n}var ou=Ee.inherit({_getRowElement:function(e){return this._tableElement&&this._tableElement.length>0?this._tableElement[0].rows[e]:null},_createGroupElement:function(){return p("<div>")},_createTableElement:function(){return p("<table>")},_getCellText:function(e,t){var i=e.isWhiteSpace?"&nbsp":e.text||"&nbsp";return t&&(i.indexOf("<")!==-1||i.indexOf(">")!==-1)&&(i=p("<div>").text(i).html()),i},_getRowClassNames:function(){},_applyCustomStyles:function(e){e.cell.width&&e.cssArray.push("min-width:"+e.cell.width+"px"),e.cell.sorted&&e.classArray.push("dx-pivotgrid-sorted")},_getMainElementMarkup:function(){return"<tbody>"},_getCloseMainElementMarkup:function(){return"</tbody>"},_renderTableContent:function(e,t){var i=t.length,r,n,a,s,o,l=this.option("rtlEnabled"),d=[],u=this.option("encodeHtml"),c;for(e.data("area",this._getAreaName()),e.data("data",t),e.css("width",""),d.push(this._getMainElementMarkup()),a=0;a<i;a++){r=t[a];var h=[];for(c=[],d.push("<tr "),s=0;s<r.length;s++){if(n=r[s],this._getRowClassNames(a,n,c),h.push("<td "),n){n.rowspan&&h.push("rowspan='"+(n.rowspan||1)+"'"),n.colspan&&h.push("colspan='"+(n.colspan||1)+"'");var f={cellElement:void 0,cell:n,cellsCount:r.length,cellIndex:s,rowElement:void 0,rowIndex:a,rowsCount:i,rtlEnabled:l,classArray:[],cssArray:[]};this._applyCustomStyles(f),f.cssArray.length&&(h.push("style='"),h.push(f.cssArray.join(";")),h.push("'")),f.classArray.length&&(h.push("class='"),h.push(f.classArray.join(" ")),h.push("'")),h.push(">"),P(n.expanded)&&h.push("<div class='dx-expand-icon-container'><span class='"+YA+"'></span></div>"),o=this._getCellText(n,u)}else o="";h.push("<span "),P(n.wordWrapEnabled)&&h.push("style='white-space:",n.wordWrapEnabled?"normal":"nowrap",";'"),h.push(">"+o+"</span>"),n.sorted&&h.push("<span class='dx-icon-sorted'></span>"),h.push("</td>")}c.length&&(d.push("class='"),d.push(c.join(" ")),d.push("'")),d.push(">"),d.push(h.join("")),d.push("</tr>")}d.push(this._getCloseMainElementMarkup()),e.append(d.join("")),this._triggerOnCellPrepared(e,t)},_triggerOnCellPrepared:function(e,t){var i=e.find("tr"),r=this._getAreaName(),n=this.option("onCellPrepared"),a=this.option("_customStyleHandler"),s=this.component._eventsStrategy.hasEvent("cellPrepared"),o,l,d,u=this.component._defaultActionArgs(),c,h,f,g;if(n||s)for(f=0;f<t.length;f++)for(c=t[f],o=i.eq(f),g=0;g<c.length;g++)h=c[g],l=o.children().eq(g),d={area:r,rowIndex:f,columnIndex:g,cellElement:Ie(l),cell:h},a&&a(H(d,u)),s?this.component._trigger("onCellPrepared",d):n(H(d,u))},_getRowHeight:function(e){var t=this._getRowElement(e),i=0,r=t.offsetHeight;if(t&&t.lastChild){if(t.getBoundingClientRect){var n=rt(t);i=n.height,i<=r-1&&(i=r)}return i>0?i:r}return 0},_setRowHeight:function(e,t){var i=this._getRowElement(e);i&&(i.style.height=t+"px")},ctor:function(e){this.component=e},option:function(){return this.component.option.apply(this.component,arguments)},getRowsLength:function(){return this._tableElement&&this._tableElement.length>0?this._tableElement[0].rows.length:0},getRowsHeight:function(){var e=[],t=this.getRowsLength(),i;for(i=0;i<t;i++)e.push(this._getRowHeight(i));return e},setRowsHeight:function(e){var t=0,i=e.length,r;for(r=0;r<i;r++)t+=e[r],this._setRowHeight(r,e[r]);this._tableHeight=t,this._tableElement[0].style.height=t+"px"},getColumnsWidth:function(){var e=this.getRowsLength(),t,i,r,n,a=[],s=[],o=function(l,d,u,c,h){var f,g;for(f=0;f<c;f++)for(g=0;g<h;g++)l[d+f]=l[d+f]||[],l[d+f][u+g]=!0};if(e)for(t=0;t<e;t++)for(a[t]=a[t]||[],i=this._getRowElement(t),r=0;r<i.cells.length;r++){for(n=0;a[t][n];n++);o(a,t,n,i.cells[r].rowSpan,i.cells[r].colSpan),i.cells[r].colSpan===1&&(s[n]=s[n]||ZA(i.cells[r]))}return s},setColumnsWidth:function(e){var t,i=this._tableElement[0],r="",n=this.getColumnsCount(),a=[];for(t=0;t<n;t++)a.push(e[t]||0);for(t=n;t<e.length&&e;t++)a[n-1]+=e[t];for(t=0;t<n;t++)r+='<col style="width: '+a[t]+'px">';this._colgroupElement.html(r),this._tableWidth=a.reduce((s,o)=>s+o,0),i.style.width=this._tableWidth+"px",i.style.tableLayout="fixed"},resetColumnsWidth:function(){this._colgroupElement.find("col").width("auto"),this._tableElement.css({width:"",tableLayout:""})},groupWidth:function(e){return e===void 0?this._groupElement.width():e>=0?(this._groupWidth=e,this._groupElement[0].style.width=e+"px"):this._groupElement[0].style.width=e},groupHeight:function(e){if(e===void 0)return this._groupElement.height();this._groupHeight=null,e>=0?(this._groupHeight=e,this._groupElement[0].style.height=e+"px"):this._groupElement[0].style.height=e},groupElement:function(){return this._groupElement},tableElement:function(){return this._tableElement},element:function(){return this._rootElement},headElement:function(){return this._tableElement.find("thead")},_setTableCss:function(e){this.option("rtlEnabled")&&(e.right=e.left,delete e.left),this.tableElement().css(e)},setVirtualContentParams:function(e){this._virtualContent.css({width:e.width,height:e.height}),this.groupElement().addClass("dx-virtual-mode")},disableVirtualMode:function(){this.groupElement().removeClass("dx-virtual-mode")},_renderVirtualContent:function(){!this._virtualContent&&this.option("scrolling.mode")==="virtual"&&(this._virtualContent=p("<div>").addClass("dx-virtual-content").insertBefore(this._tableElement))},reset:function(){var e=this._tableElement[0];if(this._fakeTable&&this._fakeTable.detach(),this._fakeTable=null,this.disableVirtualMode(),this.groupWidth("100%"),this.groupHeight("auto"),this.resetColumnsWidth(),e){for(var t=0;t<e.rows.length;t++)e.rows[t].style.height="";e.style.height="",e.style.width="100%"}},_updateFakeTableVisibility:function(){var e=this.tableElement()[0],t=this.option("rtlEnabled")?"right":"left",i=this._fakeTable[0];e.style.top===i.style.top&&i.style[t]===e.style[t]?this._fakeTable.addClass("dx-hidden"):this._fakeTable.removeClass("dx-hidden")},_moveFakeTableHorizontally:function(e){var t=this.option("rtlEnabled"),i=t?"right":"left",r=parseFloat(this.tableElement()[0].style[i]),n=zv(e,r,this._tableWidth,this._groupWidth);parseFloat(this._fakeTable[0].style[i])!==n&&(this._fakeTable[0].style[i]=n+"px")},_moveFakeTableTop:function(e){var t=parseFloat(this.tableElement()[0].style.top),i=zv(e,t,this._tableHeight,this._groupHeight);parseFloat(this._fakeTable[0].style.top)!==i&&(this._fakeTable[0].style.top=i+"px")},_moveFakeTable:function(){this._updateFakeTableVisibility()},_createFakeTable:function(){this._fakeTable||(this._fakeTable=this.tableElement().clone().addClass("dx-pivot-grid-fake-table").appendTo(this._virtualContent))},render:function(e,t){if(this._tableElement){try{this._tableElement[0].innerHTML=""}catch(i){this._tableElement.empty()}this._tableElement.attr("style","")}else this._groupElement=this._createGroupElement(),this._tableElement=this._createTableElement(),this._tableElement.appendTo(this._groupElement),this._groupElement.appendTo(e),this._rootElement=e;this._colgroupElement=p("<colgroup>").appendTo(this._tableElement),this._renderTableContent(this._tableElement,t),this._renderVirtualContent()},_getScrollable:function(){return this.groupElement().data("dxScrollable")},_getMaxLeftOffset:e=>e._container().get(0).scrollWidth-e._container().get(0).clientWidth,on:function(e,t){var i=this,r=i._getScrollable();return r&&r.on(e,function(n){i.option("rtlEnabled")&&P(n.scrollOffset.left)&&(n.scrollOffset.left=i._getMaxLeftOffset(r)-n.scrollOffset.left),t(n)}),this},off:function(e){var t=this._getScrollable();return t&&t.off(e),this},scrollTo:function(e){var t=this._getScrollable(),i=e;t&&(this.option("rtlEnabled")&&(this._getAreaName()==="column"?i=this._getMaxLeftOffset(t)-e:this._getAreaName()==="data"&&(i={x:this._getMaxLeftOffset(t)-e.x,y:e.y})),t.scrollTo(i),this._virtualContent&&(this._createFakeTable(),this._moveFakeTable(e)))},updateScrollable:function(){var e=this._getScrollable();if(e)return e.update()},getColumnsCount:function(){var e=0,t=this._getRowElement(0),i;if(t){i=t.cells;for(var r=0,n=i.length;r<n;++r)e+=i[r].colSpan}return e},getData:function(){var e=this._tableElement;return e?e.data("data"):[]}}),JA="dx-pivotgrid-area",QA="dx-pivotgrid-area-data",eD="dx-total",tD="dx-grandtotal",iD="dx-row-total",rD=ou.inherit({_getAreaName:function(){return"data"},_createGroupElement:function(){return p("<div>").addClass(JA).addClass(QA)},_applyCustomStyles:function(e){var t=e.cell,i=e.classArray;(t.rowType==="T"||t.columnType==="T")&&i.push(eD),(t.rowType==="GT"||t.columnType==="GT")&&i.push(tD),(t.rowType==="T"||t.rowType==="GT")&&i.push(iD),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px"),this.callBase(e)},_moveFakeTable:function(e){this._moveFakeTableHorizontally(e.x),this._moveFakeTableTop(e.y),this.callBase()},processScroll:function(e,t,i,r){var n="both";i&&!r?n="horizontal":!i&&r&&(n="vertical"),this._groupElement.css("borderTopWidth",0).dxScrollable({rtlEnabled:t,useNative:!!e,useSimulatedScrollbar:!e,direction:n,bounceEnabled:!1,updateManually:!0})},reset:function(){this.callBase(),this._virtualContent&&this._virtualContent.parent().css("height","auto")},setVirtualContentParams:function(e){this.callBase(e),this._virtualContent.parent().css("height",e.height),this._setTableCss({top:e.top,left:e.left})}}),nD="dx-pivotgrid-area",aD="dx-pivotgrid-horizontal-headers",sD="dx-pivotgrid-vertical-headers",oD="dx-total",lD="dx-grandtotal",dD="dx-row-total",uD="dx-pivotgrid-expanded",cD="dx-pivotgrid-collapsed",hD="dx-last-cell",fD="dx-vertical-scroll",Gv="dx-expand-border";function Wv(e,t){if(t){var i=e.data().data,r=t.parentNode.rowIndex,n=t.cellIndex;return i[r]&&i[r][n]&&i[r][n].path}}var Uv=ou.inherit({_getAreaName:function(){return"column"},_getAreaClassName:function(){return aD},_createGroupElement:function(){return p("<div>").addClass(this._getAreaClassName()).addClass(nD)},_applyCustomStyles:function(e){var t=e.cssArray,i=e.cell,r=e.rowsCount,n=e.classArray;e.cellIndex===e.cellsCount-1&&t.push((e.rtlEnabled?"border-left:":"border-right:")+"0px"),(i.rowspan===r-e.rowIndex||e.rowIndex+1===r)&&t.push("border-bottom-width:0px"),(i.type==="T"||i.type==="GT")&&n.push(dD),e.cell.type==="T"&&n.push(oD),e.cell.type==="GT"&&n.push(lD),P(i.expanded)&&n.push(i.expanded?uD:cD),this.callBase(e)},_getMainElementMarkup:function(){return"<thead class='"+this._getAreaClassName()+"'>"},_getCloseMainElementMarkup:function(){return"</thead>"},setVirtualContentParams:function(e){this.callBase(e),this._setTableCss({left:e.left,top:0}),this._virtualContentWidth=e.width},hasScroll:function(){var e=this._virtualContent?this._virtualContentWidth:this._tableWidth;return this._groupWidth&&e?e-this._groupWidth>=1:!1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"horizontal",updateManually:!0})},processScrollBarSpacing:function(e){e=e&&this.option("useBetterScroller")?8:e;var t=this.option("rtlEnabled")?"right":"left";this._groupWidth&&this.groupWidth(this._groupWidth-e),this._scrollBarWidth&&this._groupElement.next().remove(),this._groupElement.toggleClass(fD,e>0),this._groupElement.css("float",t).width(this._groupHeight),this._scrollBarWidth=e},ctor:function(e){this.callBase(e),this._scrollBarWidth=0},getScrollPath:function(e){var t=this.tableElement(),i;return e-=parseInt(t[0].style.left,10)||0,M(t.find("td"),function(r,n){if(n.colSpan===1&&n.offsetLeft<=e&&n.offsetWidth+n.offsetLeft>e)return i=n,!1}),Wv(t,i)},_moveFakeTable:function(e){this._moveFakeTableHorizontally(e),this.callBase()}}),pD=Uv.inherit({_getAreaClassName:function(){return sD},_applyCustomStyles:function(e){this.callBase(e),e.cellIndex===e.cellsCount-1&&e.classArray.push(hD),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px"),e.cell.isWhiteSpace&&e.classArray.push("dx-white-space-column")},_getAreaName:function(){return"row"},setVirtualContentParams:function(e){this.callBase(e),this._setTableCss({top:e.top,left:0}),this._virtualContentHeight=e.height},hasScroll:function(){var e=this._virtualContent?this._virtualContentHeight:this._tableHeight;return this._groupHeight&&e?e-this._groupHeight>=1:!1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"vertical",updateManually:!0})},processScrollBarSpacing:function(e){e=e&&this.option("useBetterScroller")?8:e,this._groupHeight&&this.groupHeight(this._groupHeight-e),this._scrollBarWidth&&this._groupElement.next().remove(),e&&this._groupElement.after(p("<div>").width("100%").height(e-1)),this._scrollBarWidth=e},getScrollPath:function(e){var t=this.tableElement(),i;return e-=parseInt(t[0].style.top,10)||0,M(t.find("tr"),function(r,n){var a=n.childNodes[n.childNodes.length-1];if(a&&a.rowSpan===1&&a.offsetTop<=e&&a.offsetHeight+a.offsetTop>e)return i=a,!1}),Wv(t,i)},_moveFakeTable:function(e){this._moveFakeTableTop(e),this.callBase()},_getRowClassNames:function(e,t,i){e!==0&t.expanded&&fe(Gv,i)===-1&&i.push(Gv)},_getMainElementMarkup:function(){return"<tbody class='"+this._getAreaClassName()+"'>"},_getCloseMainElementMarkup:function(){return"</tbody>"},updateColspans:function(e){var t=this.tableElement()[0].rows,i=0,r=[];if(!(this.getColumnsCount()-e>0))for(var n=0;n<t.length;n++)for(var a=0;a<t[n].cells.length;a++){var s=t[n].cells[a],o=s.rowSpan;r[n]&&(i-=r[n],r[n]=0);var l=e-(i+s.colSpan);a===t[n].cells.length-1&&l>0&&(s.colSpan=s.colSpan+l),r[n+o]=(r[n+o]||0)+s.colSpan,i+=s.colSpan}}}),Kv="dx-inkripple",jv="dx-inkripple-wave",Xv="dx-inkripple-showing",qv="dx-inkripple-hiding",_D=2,vD=4e3,lu=300,gD=1e3,Yv=0,mD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:t,waveSizeCoefficient:i,isCentered:r,wavesNumber:n}=e;return{waveSizeCoefficient:i||_D,isCentered:r||!1,wavesNumber:n||1,durations:ED(t!=null?t:!0)}},na=function(e){var t=mD(e);return{showWave:CD.bind(this,t),hideWave:bD.bind(this,t)}},xD=function(e){var t=e.children("."+Kv);return t.length===0&&(t=p("<div>").addClass(Kv).appendTo(e)),t},Zv=function(e,t){for(var i=xD(p(e)),r=i.children("."+jv).toArray(),n=r.length;n<t;n++){var a=p("<div>").appendTo(i).addClass(jv);r.push(a[0])}return p(r)},yD=function(e,t){var i=p(t.element),r=i.outerWidth(),n=i.outerHeight(),a=parseInt(Math.sqrt(r*r+n*n)),s=Math.min(vD,parseInt(a*e.waveSizeCoefficient)),o,l;if(e.isCentered)o=(r-s)/2,l=(n-s)/2;else{var d=t.event,u=i.offset(),c=d.pageX-u.left,h=d.pageY-u.top;o=c-s/2,l=h-s/2}return{left:o,top:l,height:s,width:s}};function CD(e,t){var i=Zv(t.element,e.wavesNumber).eq(t.wave||Yv);e.hidingTimeout&&clearTimeout(e.hidingTimeout),Jv(i),i.css(yD(e,t)),e.showingTimeout=setTimeout(SD.bind(this,e,i),0)}function SD(e,t){var i=e.durations.showingScale+"ms";t.addClass(Xv).css("transitionDuration",i)}function ED(e){return{showingScale:e?gD:lu,hidingScale:lu,hidingOpacity:lu}}function Jv(e){e.removeClass(qv).css("transitionDuration","")}function bD(e,t){e.showingTimeout&&clearTimeout(e.showingTimeout);var i=Zv(t.element,t.wavesNumber).eq(t.wave||Yv),r=e.durations,n=r.hidingScale+"ms, "+r.hidingOpacity+"ms";i.addClass(qv).removeClass(Xv).css("transitionDuration",n);var a=Math.max(r.hidingScale,r.hidingOpacity);e.hidingTimeout=setTimeout(Jv.bind(this,i),a)}var Ze={valid:"valid",invalid:"invalid",pending:"pending"};class Ui{constructor(){this.NAME="base"}defaultMessage(t){return xe.getFormatter("validation-".concat(this.NAME))(t)}defaultFormattedMessage(t){return xe.getFormatter("validation-".concat(this.NAME,"-formatted"))(t)}_isValueEmpty(t){return!aa.required.validate(t,{})}validate(t,i){var r=Array.isArray(t)?t:[t],n=!0;return r.length?r.every(a=>(n=this._validate(a,i),n)):n=this._validate(null,i),n}}class TD extends Ui{constructor(){super();this.NAME="required"}_validate(t,i){return!P(t)||t===!1?!1:(t=String(t),(i.trim||!P(i.trim))&&(t=t.trim()),t!=="")}}class wD extends Ui{constructor(){super();this.NAME="numeric"}_validate(t,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(t)?!0:i.useCultureSettings&&Ae(t)?!isNaN(xt.parse(t)):Re(t)}}class ID extends Ui{constructor(){super();this.NAME="range"}_validate(t,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(t))return!0;var r=aa.numeric.validate(t,i),n=P(t)&&t!=="",a=r?parseFloat(t):n&&t.valueOf(),s=i.min,o=i.max;if(!(r||Pt(t))&&!n)return!1;if(P(s))return P(o)?a>=s&&a<=o:a>=s;if(P(o))return a<=o;throw Me.Error("E0101")}}class AD extends Ui{constructor(){super();this.NAME="stringLength"}_validate(t,i){var r;return t=String((r=t)!==null&&r!==void 0?r:""),(i.trim||!P(i.trim))&&(t=t.trim()),i.ignoreEmptyValue&&this._isValueEmpty(t)?!0:aa.range.validate(t.length,H({},i))}}class Qv extends Ui{constructor(){super();this.NAME="custom"}validate(t,i){if(i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var r=i.validator,n=r&&he(r.option)&&r.option("dataGetter"),a=he(n)&&n(),s={value:t,validator:r,rule:i};return a&&H(s,a),i.validationCallback(s)}}class DD extends Qv{constructor(){super();this.NAME="async"}validate(t,i){if(P(i.reevaluate)||H(i,{reevaluate:!0}),i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var r=i.validator,n=r&&he(r.option)&&r.option("dataGetter"),a=he(n)&&n(),s={value:t,validator:r,rule:i};a&&H(s,a);var o=i.validationCallback(s);if(!La(o))throw Me.Error("E0103");return this._getWrappedPromise(At(o).promise())}_getWrappedPromise(t){var i=new ee;return t.then(function(r){i.resolve(r)},function(r){var n={isValid:!1};P(r)&&(Ae(r)?n.message=r:Be(r)&&P(r.message)&&Ae(r.message)&&(n.message=r.message)),i.resolve(n)}),i.promise()}}class OD extends Ui{constructor(){super();this.NAME="compare"}_validate(t,i){if(!i.comparisonTarget)throw Me.Error("E0102");if(i.ignoreEmptyValue&&this._isValueEmpty(t))return!0;H(i,{reevaluate:!0});var r=i.comparisonTarget(),n=i.comparisonType||"==";switch(n){case"==":return t==r;case"!=":return t!=r;case"===":return t===r;case"!==":return t!==r;case">":return t>r;case">=":return t>=r;case"<":return t<r;case"<=":return t<=r}}}class kD extends Ui{constructor(){super();this.NAME="pattern"}_validate(t,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(t))return!0;var r=i.pattern;return Ae(r)&&(r=new RegExp(r)),r.test(t)}}class LD extends Ui{constructor(){super();this.NAME="email"}_validate(t,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(t)?!0:aa.pattern.validate(t,H({},i,{pattern:/^[\d\w._-]+@[\d\w._-]+\.[\w]+$/i}))}}var aa={required:new TD,numeric:new wD,range:new ID,stringLength:new AD,custom:new Qv,async:new DD,compare:new OD,pattern:new kD,email:new LD},PD=Ee.inherit({ctor(e){this.group=e,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new Oi(this)},validate(){var e={isValid:!0,brokenRules:[],validators:[],status:Ze.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),M(this.validators,(t,i)=>{var r=i.validate();e.isValid=e.isValid&&r.isValid,r.brokenRules&&(e.brokenRules=e.brokenRules.concat(r.brokenRules)),e.validators.push(i),r.status===Ze.pending&&this._addPendingValidator(i),this._subscribeToChangeEvents(i)}),this._pendingValidators.length?e.status=Ze.pending:(e.status=e.isValid?Ze.valid:Ze.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),H({},this._validationInfo.result)},_subscribeToChangeEvents(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){M(this.validators,(e,t)=>{this._unsubscribeFromChangeEvents(t)})},_updateValidationInfo(e){this._validationInfo.result=e,e.status===Ze.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new ee,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(e){var t=er(this._pendingValidators,function(i){return i===e})[0];t||this._pendingValidators.push(e)},_removePendingValidator(e){var t=fe(e,this._pendingValidators);t>=0&&this._pendingValidators.splice(t,1)},_orderBrokenRules(e){var t=[];return M(this.validators,function(i,r){var n=er(e,function(a){return a.validator===r});n.length&&(t=t.concat(n))}),t},_updateBrokenRules(e){if(!!this._validationInfo.result){var t=this._validationInfo.result.brokenRules,i=er(t,function(r){return r.validator!==e.validator});e.brokenRules&&(t=i.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(t)}},_onValidatorStatusChanged(e){if(e.status===Ze.pending){this._addPendingValidator(e.validator);return}this._resolveIfComplete(e)},_resolveIfComplete(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?Ze.valid:Ze.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===Ze.valid;var t=H({},this._validationInfo.result,{complete:null}),i=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(t),i&&setTimeout(()=>{i.resolve(t)})}},_raiseValidatedEvent(e){this._eventsStrategy.fireEvent("validated",[e])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(e){var t=fe(e,this.validators);t>-1&&(this.validators.splice(t,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))},registerValidator(e){fe(e,this.validators)<0&&(this.validators.push(e),this._synchronizeValidationInfo())},reset(){M(this.validators,function(e,t){t.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}}),ni={groups:[],getGroupConfig(e){var t=er(this.groups,function(i){return i.group===e});if(t.length)return t[0]},findGroup(e,t){var i=e.parents(".dx-validationgroup").first();return i.length?i.dxValidationGroup("instance"):t},initGroups(){this.groups=[],this.addGroup()},addGroup(e){var t=this.getGroupConfig(e);return t||(t=new PD(e),this.groups.push(t)),t},removeGroup(e){var t=this.getGroupConfig(e),i=fe(t,this.groups);return i>-1&&this.groups.splice(i,1),t},_setDefaultMessage(e){var{rule:t,validator:i,name:r}=e;P(t.message)||(i.defaultFormattedMessage&&P(r)?t.message=i.defaultFormattedMessage(r):t.message=i.defaultMessage())},_addBrokenRule(e){var{result:t,rule:i}=e;t.brokenRule||(t.brokenRule=i),t.brokenRules||(t.brokenRules=[]),t.brokenRules.push(i)},validate(e,t,i){var r,n={name:i,value:e,brokenRule:null,brokenRules:null,isValid:!0,validationRules:t,pendingRules:null,status:Ze.valid,complete:null},a=t==null||(r=t[0])===null||r===void 0?void 0:r.validator,s=[];return M(t||[],(o,l)=>{var d=aa[l.type],u;if(d){if(P(l.isValid)&&l.value===e&&!l.reevaluate)return l.isValid?!0:(n.isValid=!1,this._addBrokenRule({result:n,rule:l}),!1);if(l.value=e,l.type==="async")return s.push({rule:l,ruleValidator:d}),!0;if(u=d.validate(e,l),l.isValid=u,u||(n.isValid=!1,this._setDefaultMessage({rule:l,validator:d,name:i}),this._addBrokenRule({result:n,rule:l})),!l.isValid)return!1}else throw Me.Error("E0100")}),n.isValid&&!n.brokenRules&&s.length&&(n=this._validateAsyncRules({value:e,items:s,result:n,name:i})),this._synchronizeGroupValidationInfo(a,n),n.status=n.pendingRules?Ze.pending:n.isValid?Ze.valid:Ze.invalid,n},_synchronizeGroupValidationInfo(e,t){var i;if(!!e){var r=ni.getGroupConfig(e._validationGroup);r._updateBrokenRules.call(r,{validator:e,brokenRules:(i=t.brokenRules)!==null&&i!==void 0?i:[]})}},_validateAsyncRules(e){var{result:t,value:i,items:r,name:n}=e,a=[];return M(r,(s,o)=>{var l=o.ruleValidator.validate(i,o.rule);if(!La(l))this._updateRuleConfig({rule:o.rule,ruleResult:this._getPatchedRuleResult(l),validator:o.ruleValidator,name:n});else{t.pendingRules||(t.pendingRules=[]),t.pendingRules.push(o.rule);var d=l.then(u=>{var c=this._getPatchedRuleResult(u);return this._updateRuleConfig({rule:o.rule,ruleResult:c,validator:o.ruleValidator,name:n}),c});a.push(d)}}),a.length&&(t.complete=lr.all(a).then(s=>this._getAsyncRulesResult({result:t,values:s}))),t},_updateRuleConfig(e){var{rule:t,ruleResult:i,validator:r,name:n}=e;t.isValid=i.isValid,i.isValid||(P(i.message)&&Ae(i.message)&&i.message.length?t.message=i.message:this._setDefaultMessage({rule:t,validator:r,name:n}))},_getPatchedRuleResult(e){var t;return Be(e)?(t=H({},e),P(t.isValid)||(t.isValid=!0)):t={isValid:ka(e)?e:!0},t},_getAsyncRulesResult(e){var{values:t,result:i}=e;return M(t,(r,n)=>{if(n.isValid===!1){i.isValid=n.isValid;var a=i.pendingRules[r];this._addBrokenRule({result:i,rule:a})}}),i.pendingRules=null,i.complete=null,i.status=i.isValid?Ze.valid:Ze.invalid,i},registerValidatorInGroup(e,t){var i=ni.addGroup(e);i.registerValidator.call(i,t)},_shouldRemoveGroup(e,t){var i=e===void 0,r=e&&e.NAME==="dxValidationGroup";return!i&&!r&&!t.length},removeRegisteredValidator(e,t){var i=ni.getGroupConfig(e);if(i){i.removeRegisteredValidator.call(i,t);var r=i.validators;this._shouldRemoveGroup(e,r)&&this.removeGroup(e)}},initValidationOptions(e){var t={};return e&&["isValid","validationStatus","validationError","validationErrors"].forEach(i=>{i in e&&H(t,this.synchronizeValidationOptions({name:i,value:e[i]},e))}),t},synchronizeValidationOptions(e,t){var{name:i,value:r}=e;switch(i){case"validationStatus":var n=r===Ze.valid||r===Ze.pending;return t.isValid!==n?{isValid:n}:{};case"isValid":var{validationStatus:a}=t,s=a;return r&&a===Ze.invalid?s=Ze.valid:!r&&a!==Ze.invalid&&(s=Ze.invalid),s!==a?{validationStatus:s}:{};case"validationErrors":var o=!r||!r.length?null:r[0];return t.validationError!==o?{validationError:o}:{};case"validationError":var{validationErrors:l}=t;if(!r&&l)return{validationErrors:null};if(r&&!l)return{validationErrors:[r]};if(r&&l&&r!==l[0])return l[0]=r,{validationErrors:l.slice()}}return{}},validateGroup(e){var t=ni.getGroupConfig(e);if(!t)throw Me.Error("E0110");return t.validate()},resetGroup(e){var t=ni.getGroupConfig(e);if(!t)throw Me.Error("E0110");return t.reset()}};ni.initGroups();var sa="dx-icon",BD="dx-svg-icon",eg=e=>!e||typeof e!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(e)?"svg":/data:.*base64|\.|[^<\s]\//.test(e)?"image":/^[\w-_]+$/.test(e)?"dxIcon":/^\s?([\w-_]\s?)+$/.test(e)?"fontIcon":!1,Ws=e=>{switch(eg(e)){case"image":return p("<img>").attr("src",e).addClass(sa);case"fontIcon":return p("<i>").addClass("".concat(sa," ").concat(e));case"dxIcon":return p("<i>").addClass("".concat(sa," ").concat(sa,"-").concat(e));case"svg":return p("<i>").addClass("".concat(sa," ").concat(BD)).append(e);default:return null}},RD="content";class Ut extends ei{constructor(){super(...arguments);this._feedbackHideTimeout=100}_$content(){return this.$element().find(".dx-button-content")}_$submitInput(){return this.$element().find(".dx-button-submit-input")}_attachActiveEvents(t,i){var r=this._eventBindingTarget(),n=this._activeStateUnit;as.off(r,{namespace:"inkRipple",selector:n}),as.on(r,new gt(t),new gt(i,{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:n,namespace:"inkRipple"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Se.real().deviceType==="desktop"&&!Se.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>mt(dr()),options:{useInkRipple:!0}}])}_executeClickAction(t){this._clickAction({validationGroup:this._validationGroupConfig,event:t})}_findGroup(){var t=this.$element(),i=this._modelByElement(t),{validationGroup:r}=this.option();return r||ni.findGroup(t,i)}_getContentData(){var{icon:t,text:i,type:r,_templateData:n}=this.option();return H({icon:r==="back"&&!t?"back":t,text:i},n)}_getDefaultOptions(){return H(super._getDefaultOptions(),{hoverStateEnabled:!0,onClick:null,type:"normal",text:"",icon:"",iconPosition:"left",validationGroup:void 0,activeStateEnabled:!0,template:"content",useSubmitBehavior:!1,useInkRipple:!1,_templateData:{},stylingMode:"contained"})}_getSubmitAction(){var t=!0,i="valid";return this._createAction(r=>{var{event:n}=r;if(t){var a=this._validationGroupConfig;if(a){var{status:s,complete:o}=a.validate();i=s,s==="pending"&&(t=!1,this.option("disabled",!0),o.then(l=>{var{status:d}=l;this.option("disabled",!1),i=d,i==="valid"&&this._submitInput().click(),t=!0}))}}i!=="valid"&&n.preventDefault(),n.stopPropagation()})}_initMarkup(){this.$element().addClass("dx-button"),this._renderType(),this._renderStylingMode(),this._renderInkRipple(),this._renderClick(),this._updateAriaLabel(),super._initMarkup(),this._updateContent(),this.setAria("role","button")}_getAnonymousTemplateName(){return RD}_initTemplates(){this._templateManager.addDefaultTemplates({content:new rs(t=>{var{model:i={},container:r}=t,{text:n,icon:a}=i,{iconPosition:s}=this.option(),o=Ws(a),l=n&&p("<span>").text(n).addClass("dx-button-text"),d=p(r);d.append(l),s==="left"?d.prepend(o):(o.addClass("dx-icon-right"),d.append(o))})}),super._initTemplates()}_optionChanged(t){var{name:i}=t;switch(i){case"onClick":this._updateClick();break;case"icon":case"text":this._updateContent(),this._updateAriaLabel();break;case"type":this._updateType(),this._updateContent();break;case"_templateData":break;case"template":case"iconPosition":this._updateContent();break;case"stylingMode":this._updateStylingMode();break;case"useSubmitBehavior":this._updateSubmitInput();break;case"useInkRipple":this._invalidate();break;default:super._optionChanged(t)}}_renderClick(){var t=this.$element();Vf.off(t,{namespace:this.NAME}),Vf.on(t,i=>this._executeClickAction(i),{namespace:this.NAME}),this._updateClick()}_renderInkRipple(){var{text:t,icon:i,type:r,useInkRipple:n}=this.option();if(n){var a=!t&&i||r==="back",s=na(a?{waveSizeCoefficient:1,useHoldAnimation:!1,isCentered:!0}:{}),o=(l,d)=>{var{activeStateEnabled:u,useInkRipple:c}=this.option();if(c&&u&&!this._disposed){var h={element:this._$content(),event:l};d?s.showWave(h):s.hideWave(h)}};this._attachActiveEvents(l=>{var{event:d}=l;return o(d,!0)},l=>{var{event:d}=l;return o(d)})}}_renderStylingMode(){var t=this.$element(),{stylingMode:i}=this.option();["contained","text","outlined"].indexOf(i)===-1&&(i=this._getDefaultOptions().stylingMode),t.addClass("dx-button-mode-".concat(i))}_renderSubmitInput(){var{useSubmitBehavior:t}=this.option();if(t){var i=this._getSubmitAction(),r=this._$content();p("<input>").attr("type","submit").attr("tabindex",-1).addClass("dx-button-submit-input").appendTo(r),KS.on(this._$submitInput(),n=>i({event:n}))}}_renderType(){var{type:t}=this.option(),i=this.$element();t&&i.addClass("dx-button-".concat(t))}_submitInput(){return this._$submitInput().get(0)}_supportedKeys(){var t=i=>{i.preventDefault(),this._executeClickAction(i)};return H(super._supportedKeys(),{space:t,enter:t})}_updateAriaLabel(){var t=this._getAriaTarget(),{icon:i,text:r}=this.option();r||(eg(i)==="image"&&(i=i.indexOf("base64")===-1?i.replace(/.+\/([^.]+)\..+$/,"$1"):"Base64"),r=i||""),t.attr("aria-label",r||null)}_updateClick(){this._clickAction=this._createActionByOption("onClick",{excludeValidators:["readOnly"],afterExecute:()=>{var{useSubmitBehavior:t}=this.option();t&&setTimeout(()=>this._submitInput().click())}})}_updateContent(){var t=this.$element(),i=this._$content(),r=this._getContentData(),{template:n,iconPosition:a}=this.option(),{icon:s,text:o}=r;i.length?i.empty():i=p("<div>").addClass("dx-button-content").appendTo(t),t.toggleClass("dx-button-has-icon",!!s).toggleClass("dx-button-icon-right",!!s&&a!=="left").toggleClass("dx-button-has-text",!!o);var l=p(this._getTemplateByOption("template").render({model:r,container:Ie(i),transclude:this._templateManager.anonymousTemplateName===n}));l.hasClass("dx-template-wrapper")&&(l.addClass("dx-button-content"),i.replaceWith(l)),this._updateSubmitInput()}_updateSubmitInput(){var{useSubmitBehavior:t}=this.option(),i=this._$submitInput();!t&&i.length?i.remove():t&&!i.length&&this._renderSubmitInput()}_updateStylingMode(){var t=this.$element();["contained","text","outlined"].map(i=>"dx-button-mode-".concat(i)).forEach(i=>{t.removeClass(i)}),this._renderStylingMode()}_updateType(){var t=this.$element();["back","danger","default","normal","success"].map(i=>"dx-button-".concat(i)).forEach(i=>{t.removeClass(i)}),this._renderType()}get _validationGroupConfig(){return ni.getGroupConfig(this._findGroup())}}Ge("dxButton",Ut);var tg="_dataSourceOptions",ig="_dataSourceChangedHandler",rg="_dataSourceLoadErrorHandler",ng="_dataSourceLoadingChangedHandler",ag="_dataSourceFromUrlLoadMode",sg="_getSpecificDataSourceOption",og="_normalizeDataSource",MD={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var e=sg in this?this[sg]():this.option("dataSource"),t,i;this._disposeDataSource(),e&&(e instanceof _r?(this._isSharedDataSource=!0,this._dataSource=e):(t=tg in this?this[tg]():{},i=this._dataSourceType?this._dataSourceType():_r,e=Wd(e,{fromUrlLoadMode:ag in this&&this[ag]()}),this._dataSource=new i(H(!0,{},t,e))),og in this&&(this._dataSource=this[og](this._dataSource)),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){ig in this&&this._addDataSourceChangeHandler(),rg in this&&this._addDataSourceLoadErrorHandler(),ng in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(e){this._ready&&this._ready(!e)}.bind(this))},_addDataSourceChangeHandler:function(){var e=this._dataSource;this._proxiedDataSourceChangedHandler=function(t){this[ig](e.items(),t)}.bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[rg].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[ng].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var e=this._dataSource;e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load()}},_loadSingle:function(e,t){return e=e==="this"?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,t)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},FD="dx-state-invisible",ND="dx-state-disabled",HD="dx-item-content-placeholder",$D=function(e,t,i){var r=function(a){n!==a&&(i(a,n),n=a)},n;return{dispose:e(t,r),force:function(){r(t())}}},Us=Ee.inherit({ctor:function(e,t,i){this._$element=e,this._options=t,this._rawData=i,Ph(e,this,this._dispose),this._render()},_render:function(){var e=p("<div>").addClass(HD);this._$element.append(e),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(e,t){var i=this._rawData,r=this._options.fieldGetter(e),n=$D(this._options.watchMethod(),function(){return r(i)},function(a,s){this._dirty=!0,t(a,s)}.bind(this));this._watchers.push(n)},setDataField:function(){if(this._dirty=!1,M(this._watchers,function(e,t){t.force()}),this._dirty)return!0},_renderDisabled:function(e,t){this._$element.toggleClass(ND,!!e),this._updateOwnerFocus(e)},_updateOwnerFocus:function(e){var t=this._options.owner;t&&e&&t._resetItemFocus(this._$element)},_renderVisible:function(e,t){this._$element.toggleClass(FD,e!==void 0&&!e)},_dispose:function(){M(this._watchers,function(e,t){t.dispose()})}});Us.getInstance=function(e){return Bh(e,this)};var lg=Math.abs,du="dxhold",VD=750,dg=5,zD=es.inherit({start:function(e){this._startEventData=Ue(e),this._startTimer(e)},_startTimer:function(e){var t="timeout"in this?this.timeout:VD;this._holdTimer=setTimeout(function(){this._requestAccept(e),this._fireEvent(du,e,{target:e.target}),this._forgetAccept()}.bind(this),t)},move:function(e){this._touchWasMoved(e)&&this._cancel(e)},_touchWasMoved:function(e){var t=Bi(this._startEventData,Ue(e));return lg(t.x)>dg||lg(t.y)>dg},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});Nr({emitter:zD,bubble:!0,events:[du]});var uu={name:du},cu="dxContexMenu",GD=se("contextmenu",cu),WD=se(uu.name,cu),hu="dxcontextmenu",UD=Ee.inherit({setup:function(e){var t=p(e);F.on(t,GD,this._contextMenuHandler.bind(this)),(wn||Se.isSimulator())&&F.on(t,WD,this._holdHandler.bind(this))},_holdHandler:function(e){Pi(e)&&!Se.isSimulator()||this._fireContextMenu(e)},_contextMenuHandler:function(e){this._fireContextMenu(e)},_fireContextMenu:function(e){return Ri({type:hu,originalEvent:e})},teardown:function(e){F.off(e,"."+cu)}});Bt(hu,new UD);var ug=hu,KD=function(e,t,i,r,n){var a,s=((o,l,d)=>l(()=>o,d))(e,t,function(o){if(a&&a(),_n(o)){n(o);return}a=function(l,d,u,c,h){var f={},g=u.slice(),S=u.map(function(C){var T=c[C];return d(T?()=>T(l):()=>l[C],function(D){if(f[C]=D,g.length){var b=g.indexOf(C);b>=0&&g.splice(b,1)}g.length||h(f)})});return function(){S.forEach(C=>C())}}(o,t,i,r,n)});return function(){a&&a(),s&&s()}};class oa extends ar{constructor(t,i,r,n){super();this._render=t,this._fields=i,this._fieldsMap=n||{},this._watchMethod=r}_renderCore(t){var i=p(t.container),r=KD(t.model,this._watchMethod,this._fields,this._fieldsMap,n=>{i.empty(),this._render(i,n,t.model)});return F.on(i,Fr,r),i.contents()}}var jD="dx-collection",Ks="dx-item",cg="-content",hg="dx-item-content-placeholder",XD="dxItemData",qD="dxItemIndex",YD="tmpl-",ZD="dxItem",JD="dx-item-selected",QD="dx-item-response-wait",eO="dx-empty-collection",fg="dx-template-wrapper",tO=/^([^.]+\[\d+\]\.)+([\w.]+)$/,iO="item",fu="up",pu="down",pg="left",_g="right",rO="pageup",nO="pagedown",vg="last",gg="first",mg=ei.inherit({_activeStateUnit:"."+Ks,_supportedKeys:function(){var e=function(i){var r=p(this.option("focusedElement"));!r.length||this._itemClickHandler(H({},i,{target:r.get(0),currentTarget:r.get(0)}))},t=function(i,r){Tn(r)||(r.preventDefault(),r.stopPropagation(),this._moveFocus(i,r))};return H(this.callBase(),{space:function(i){i.preventDefault(),e.call(this,i)},enter:e,leftArrow:t.bind(this,pg),rightArrow:t.bind(this,_g),upArrow:t.bind(this,fu),downArrow:t.bind(this,pu),pageUp:t.bind(this,fu),pageDown:t.bind(this,pu),home:t.bind(this,gg),end:t.bind(this,vg)})},_getDefaultOptions:function(){return H(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:xe.format("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(e){return e?e.disabled:void 0},visibleExpr:function(e){return e?e.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var e=this.option("displayExpr");this._displayGetter=e?ct(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return iO},_initDefaultItemTemplate:function(){var e=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new oa(function(t,i){De(i)?this._prepareDefaultItemTemplate(i,t):(e&&he(e.text)&&(i=e.text(i)),t.text(String($t(i,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(e,t){P(e.text)&&t.text(e.text),P(e.html)&&t.html(e.html)},_initItemsFromMarkup:function(){var e=Lf(this.$element(),ZD);if(!(!e.length||this.option("items").length)){var t=e.map(i=>{var{element:r,options:n}=i,a=/\S/.test(r.innerHTML)&&!n.template;return a?n.template=this._prepareItemTemplate(r):p(r).remove(),n});this.option("items",t)}},_prepareItemTemplate:function(e){var t=YD+new Dr,i=p(e).detach().clone().removeAttr("data-options").addClass(fg);return this._saveTemplate(t,i),t},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(e){if(this.callBase.apply(this,arguments),fe(e.target,this._focusTarget())!==-1){var t=p(this.option("focusedElement"));if(t.length)this._setFocusedItem(t);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",Ie(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var e=p(this.option("focusedElement"));this._updateFocusedItemState(e,!1)},_getActiveItem:function(e){var t=p(this.option("focusedElement"));if(t.length)return t;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,r=this._getActiveElement(),n=r.length-1;return i<0&&(i=e?n:0),r.eq(i)},_moveFocus:function(e){var t=this._getAvailableItems(),i;switch(e){case rO:case fu:i=this._prevItem(t);break;case nO:case pu:i=this._nextItem(t);break;case _g:i=this.option("rtlEnabled")?this._prevItem(t):this._nextItem(t);break;case pg:i=this.option("rtlEnabled")?this._nextItem(t):this._prevItem(t);break;case gg:i=t.first();break;case vg:i=t.last();break;default:return!1}i.length!==0&&this.option("focusedElement",Ie(i))},_getVisibleItems:function(e){return e=e||this._itemElements(),e.filter(":visible")},_getAvailableItems:function(e){return this._getVisibleItems(e).not(".dx-state-disabled")},_prevItem:function(e){var t=this._getActiveItem(),i=e.index(t),r=e.last(),n=p(e[i-1]),a=this.option("loopItemFocus");return n.length===0&&a&&(n=r),n},_nextItem:function(e){var t=this._getActiveItem(!0),i=e.index(t),r=e.first(),n=p(e[i+1]),a=this.option("loopItemFocus");return n.length===0&&a&&(n=r),n},_selectFocusedItem:function(e){this.selectItem(e)},_updateFocusedItemState:function(e,t,i){var r=p(e);r.length&&(this._refreshActiveDescendant(),this._refreshItemId(r,i),this._toggleFocusClass(t,r)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(e){this.setAria("activedescendant",P(this.option("focusedElement"))?this.getFocusedItemId():null,e)},_refreshItemId:function(e,t){!t&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e)},_setFocusedItem:function(e){!e||!e.length||(this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(e))},_findItemElementByItem:function(e){var t=p(),i=this;return this.itemElements().each(function(){var r=p(this);if(r.data(i._itemDataKey())===e)return t=r,!1}),t},_getIndexByItem:function(e){return this.option("items").indexOf(e)},_itemOptionChanged:function(e,t,i,r){var n=this._findItemElementByItem(e);if(!!n.length){this.constructor.ItemClass.getInstance(n).setDataField(t,i)||this._refreshItem(n,e);var a=t==="disabled"&&i;a&&this._resetItemFocus(n)}},_resetItemFocus(e){e.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(e){var t=this._getItemData(e),i=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,t,null,e)},_updateParentActiveDescendant:Q,_optionChanged:function(e){if(e.name==="items"){var t=e.fullName.match(tO);if(t&&t.length){var i=t[t.length-1],r=e.fullName.replace("."+i,""),n=this.option(r);this._itemOptionChanged(n,i,e.value,e.previousValue);return}}switch(e.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(e.previousValue,!1,!0),this._setFocusedItem(p(e.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(e)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){var e=this._dataSource;return this._expectNextPageLoading(),e.pageIndex(1+e.pageIndex()),e.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&t&&this._shouldAppendItems()?(this._renderedItemsCount=t.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=t.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){p(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return Ks},_itemContentClass:function(){return this._itemClass()+cg},_selectedItemClass:function(){return JD},_itemResponseWaitClass:function(){return QD},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return XD},_itemIndexKey:function(){return qD},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(jD),this._prepareContent()},_prepareContent:Pr(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var e=this._itemSelector(),t=se(it,this.NAME),i=se(tt.down,this.NAME),r=this,n=new gt(function(a){var s=a.event;r._itemPointerDownHandler(s)});F.off(this._itemContainer(),t,e),F.off(this._itemContainer(),i,e),F.on(this._itemContainer(),t,e,function(a){this._itemClickHandler(a)}.bind(this)),F.on(this._itemContainer(),i,e,function(a){n.execute({element:p(a.target),event:a})})},_itemClickHandler:function(e,t,i){this._itemDXEventHandler(e,"onItemClick",t,i)},_itemPointerDownHandler:function(e){!this.option("focusStateEnabled")||(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!e.isDefaultPrevented()){var t=p(e.target),i=t.closest(this._itemElements()),r=this._closestFocusable(t);i.length&&r&&fe(r.get(0),this._focusTarget())!==-1&&this.option("focusedElement",Ie(i))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(e){if(e.is(ja))return e;for(e=e.parent();e.length&&!re.isDocument(e.get(0));){if(e.is(ja))return e;e=e.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),i=se(uu.name,this.NAME);F.off(e,i,t),F.on(e,i,t,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0},_attachContextMenuEvent:function(){var e=this._itemContainer(),t=this._itemSelector(),i=se(ug,this.NAME);F.off(e,i,t),F.on(e,i,t,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0},_renderContentImpl:function(){var e=this.option("items")||[];this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e)},_renderItems:function(e){e.length&&M(e,function(t,i){this._renderItem(this._renderedItemsCount+t,i)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(e,t,i,r){i=i||this._itemContainer();var n=this._renderItemFrame(e,t,i,r);this._setElementData(n,t,e),n.attr(this.option("_itemAttributes")),this._attachItemClickEvent(t,n);var a=this._getItemContent(n),s=this._renderItemContent({index:e,itemData:t,container:Ie(a),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),o=this;return ye(s).done(function(l){o._postprocessRenderItem({itemElement:n,itemContent:l,itemData:t,itemIndex:e}),o._executeItemRenderAction(e,t,Ie(n))}),n},_getItemContent:function(e){var t=e.find("."+hg);return t.removeClass(hg),t},_attachItemClickEvent:function(e,t){!e||!e.onClick||F.on(t,it,function(i){this._itemEventHandlerByHandler(t,e.onClick,{event:i})}.bind(this))},_renderItemContent:function(e){var t=this._getItemTemplateName(e),i=this._getTemplate(t);this._addItemContentClasses(e);var r=p(this._createItemByTemplate(i,e));return r.hasClass(fg)?this._renderItemContentByNode(e,r):e.container},_renderItemContentByNode:function(e,t){return p(e.container).replaceWith(t),e.container=Ie(t),this._addItemContentClasses(e),t},_addItemContentClasses:function(e){var t=[Ks+cg,e.contentClass];p(e.container).addClass(t.join(" "))},_appendItemToContainer:function(e,t,i){t.appendTo(e)},_renderItemFrame:function(e,t,i,r){var n=p("<div>");if(new this.constructor.ItemClass(n,this._itemOptions(),t||{}),r&&r.length?r.replaceWith(n):this._appendItemToContainer.call(this,i,n,e),this.option("useItemTextAsTitle")){var a=this._displayGetter?this._displayGetter(t):t;n.attr("title",a)}return n},_itemOptions:function(){var e=this;return{watchMethod:function(){return e.option("integrationOptions.watchMethod")},owner:e,fieldGetter:function(t){var i=e.option(t+"Expr"),r=ct(i);return r}}},_postprocessRenderItem:Q,_executeItemRenderAction:function(e,t,i){this._getItemRenderAction()({itemElement:i,itemIndex:e,itemData:t})},_setElementData:function(e,t,i){e.addClass([Ks,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(e){var t=e.itemData,i=e.templateProperty||this.option("itemTemplateProperty"),r=t&&t[i];return r||e.defaultTemplateName},_createItemByTemplate:function(e,t){return e.render({model:t.itemData,container:t.container,index:t.index})},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(e){e=e||this.option("items");var t=this.option("noDataText"),i=!t||e&&e.length||this._isDataSourceLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||p("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()).html(t),this.setAria("label",t)),this.$element().toggleClass(eO,!i)},_itemDXEventHandler:function(e,t,i,r){this._itemEventHandler(e.target,t,H(i,{event:e}),r)},_itemEventHandler:function(e,t,i,r){var n=this._createActionByOption(t,H({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(e,n,i)},_itemEventHandlerByHandler:function(e,t,i,r){var n=this._createAction(t,H({validatingTargetName:"itemElement"},r));return this._itemEventHandlerImpl(e,n,i)},_itemEventHandlerImpl:function(e,t,i){var r=this._closestItemElement(p(e)),n=H({},i);return t(H(i,this._extendActionArgs(r),n))},_extendActionArgs:function(e){return{itemElement:Ie(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}},_closestItemElement:function(e){return p(e).closest(this._itemSelector())},_getItemData:function(e){return p(e).data(this._itemDataKey())},_getSummaryItemsWidth:function(e,t){var i=0;return e&&M(e,function(r,n){i+=p(n).outerWidth(t||!1)}),i},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new Dr),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(MD);mg.ItemClass=Us;var wt=Ee.abstract,aO=Ee.inherit({ctor:function(e){this._collectionWidget=e},getIndexByItemData:wt,getItemDataByIndex:wt,getKeysByItems:wt,getItemsByKeys:wt,itemsGetter:wt,getKeyByIndex:function(e){var t=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(t)])[0]},_equalKeys:function(e,t){return this._collectionWidget._isKeySpecified()?fi(e,t):e===t},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:wt,getNormalizedIndex:function(e){return this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._isNode(e)?this._getNormalizedItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))},getIndex:function(e){return this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this._isNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this.getIndexByItemData(e)},getItemElement:function(e){if(this._isNormalizedItemIndex(e))return this._getItemByNormalizedIndex(e);if(this._isItemIndex(e))return this._getItemByNormalizedIndex(this._normalizeItemIndex(e));if(this._isNode(e))return p(e);var t=this._normalizeItemIndex(this.getIndexByItemData(e));return this._getItemByNormalizedIndex(t)},_isNode:e=>re.isNode(e&&ci(e)?e.get(0):e),deleteItemAtIndex:wt,itemPlacementFunc:function(e,t){return this._itemsFromSameParent(e,t)&&e<t?"after":"before"},moveItemAtIndexToIndex:wt,_isNormalizedItemIndex:function(e){return typeof e=="number"&&Math.round(e)===e},_isItemIndex:wt,_getNormalizedItemIndex:wt,_normalizeItemIndex:wt,_denormalizeItemIndex:wt,_getItemByNormalizedIndex:wt,_itemsFromSameParent:wt}),_u=aO.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(e){var t=this._collectionWidget.keyOf.bind(this._collectionWidget);return t?this.getIndexByKey(t(e)):fe(e,this._getPlainItems())},getItemDataByIndex:function(e){return this._getPlainItems()[e]},deleteItemAtIndex:function(e){this._getPlainItems().splice(e,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(e){var t=this._collectionWidget.keyOf.bind(this._collectionWidget),i=e;if(t){i=[];for(var r=0;r<e.length;r++)i.push(t(e[r]))}return i},getIndexByKey:function(e){var t=this._cache,i=t&&t.keys||this.getKeysByItems(this._getPlainItems());if(t&&!t.keys&&(t.keys=i),typeof e=="object"){for(var r=0,n=i.length;r<n;r++)if(this._equalKeys(e,i[r]))return r}else return i.indexOf(e);return-1},getItemsByKeys:function(e,t){return(t||e).slice()},moveItemAtIndexToIndex:function(e,t){var i=this._getPlainItems(),r=i[e];i.splice(e,1),i.splice(t,0,r)},_isItemIndex:function(e){return typeof e=="number"&&Math.round(e)===e},_getNormalizedItemIndex:function(e){return this._collectionWidget._itemElements().index(e)},_normalizeItemIndex:function(e){return e},_denormalizeItemIndex:function(e){return e},_getItemByNormalizedIndex:function(e){return e>-1?this._collectionWidget._itemElements().eq(e):null},_itemsFromSameParent:function(){return!0}}),xg=Ee.inherit({ctor:function(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:Q,_setOption:function(e,t){this.options[e]=t},onSelectionChanged:function(){var e=this.options.addedItemKeys,t=this.options.removedItemKeys,i=this.options.addedItems,r=this.options.removedItems,n=this.options.selectedItems,a=this.options.selectedItemKeys,s=this.options.onSelectionChanged||Q;this._clearItemKeys(),s({selectedItems:n,selectedItemKeys:a,addedItemKeys:e,removedItemKeys:t,addedItems:i,removedItems:r})},equalKeys:function(e,t){return this.options.equalByReference&&Be(e)&&Be(t)?e===t:fi(e,t)},getSelectableItems:function(e){return e.filter(function(t){return!t.disabled})},_clearSelection:function(e,t,i,r){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,i,r)},_loadFilteredData:function(e,t,i,r){var n=encodeURI(JSON.stringify(e)).length,a=this.options.maxFilterLengthInRequest&&n>this.options.maxFilterLengthInRequest,s=new ee,o={filter:a?void 0:e,select:a?this.options.dataFields():i||this.options.dataFields()};return e&&e.length===0?s.resolve([]):this.options.load(o).done(function(l){var d=De(l)?l.data:l;t&&!r?d=d.filter(t):a&&(d=ri(d).filter(e).toArray()),s.resolve(d)}).fail(s.reject.bind(s)),s},updateSelectedItemKeyHash:function(e){for(var t=0;t<e.length;t++){var i=xn(e[t]);if(!Be(i)){this.options.keyHashIndices[i]=this.options.keyHashIndices[i]||[];var r=this.options.keyHashIndices[i];r.push(t)}}},_isAnyItemSelected:function(e){for(var t=0;t<e.length;t++)if(this.options.isItemSelected(e[t]))return;return!1},_getFullSelectAllState:function(){var e=this.options.plainItems(),t=this.options.filter(),i=this.options.selectedItems;t&&(i=ri(i).filter(t).toArray());var r=i.length;if(!r)return this._isAnyItemSelected(e);if(r>=this.options.totalCount()-this.options.disabledItemKeys.length)return!0},_getVisibleSelectAllState:function(){for(var e=this.getSelectableItems(this.options.plainItems()),t=!1,i=!1,r=0;r<e.length;r++){var n=e[r],a=this.options.getItemData(n),s=this.options.keyOf(a);this.options.isSelectableItem(n)&&(this.isItemKeySelected(s)?t=!0:i=!0)}return t?i?void 0:!0:!1}}),sO=xg.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var e=new ee,t=this,i=this.options.key(),r=Ae(i)?[i]:i;return this._loadFilteredData(this.options.selectionFilter,null,r).done(function(n){var a=n.map(function(s){return t.options.keyOf(s)});e.resolve(a)}).fail(e.reject),e.promise()},selectedItemKeys:function(e,t,i,r){if(r){var n=this.options.filter(),a=!n||JSON.stringify(n)===JSON.stringify(this.options.selectionFilter)&&i;a?this._setOption("selectionFilter",i?[]:null):this._addSelectionFilter(i,n,r)}else{t||this._setOption("selectionFilter",[]);for(var s=0;s<e.length;s++)i?this.removeSelectedItem(e[s]):this.addSelectedItem(e[s])}return this.onSelectionChanged(),new ee().resolve()},setSelectedItems:function(e){this._setOption("selectionFilter",null);for(var t=0;t<e.length;t++)this.addSelectedItem(e[t])},isItemDataSelected:function(e){return this.isItemKeySelected(e)},isItemKeySelected:function(e){var t=this.options.selectionFilter;return t?!!ri([e]).filter(t).toArray().length:!0},_getKeyExpr:function(){var e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e},_normalizeKey:function(e){var t=this.options.key();return Array.isArray(t)&&t.length===1?e[t[0]]:e},_getFilterByKey:function(e){var t=this._getKeyExpr(),i=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){i=[];for(var r=0;r<t.length;r++)i.push([t[r],"=",e[t[r]]]),r!==t.length-1&&i.push("and")}return i},addSelectedItem:function(e){var t=this._getFilterByKey(e);this._addSelectionFilter(!1,t)},removeSelectedItem:function(e){var t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)},validate:function(){var e=this.options.key;if(e&&e()===void 0)throw Ne.Error("E1042","Deferred selection")},_findSubFilter:function(e,t){if(!e)return-1;for(var i=JSON.stringify(t),r=0;r<e.length;r++){var n=e[r];if(n&&JSON.stringify(n)===i)return r}return-1},_isLastSubFilter:function(e,t){return e&&t?this._findSubFilter(e,t)===e.length-1||this._findSubFilter([e],t)===0:!1},_addFilterOperator:function(e,t){return e.length>1&&Ae(e[1])&&e[1]!==t&&(e=[e]),e.length&&e.push(t),e},_denormalizeFilter:function(e){return e&&Ae(e[0])&&(e=[e]),e},_addSelectionFilter:function(e,t,i){var r=e?["!",t]:t,n=e?"and":"or",a=!0,s=this.options.selectionFilter||[];if(s=this._denormalizeFilter(s),s&&s.length){this._removeSameFilter(s,t,e,i);var o=this._removeSameFilter(s,t,!e),l=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(s,o);a=t.length&&!l,a&&(s=this._addFilterOperator(s,n))}a&&s.push(r),s=this._normalizeFilter(s),this._setOption("selectionFilter",!e&&!s.length?null:s)},_normalizeFilter:function(e){return e&&e.length===1&&(e=e[0]),e},_removeFilterByIndex:function(e,t,i){var r=e[1];t>0?e.splice(t-1,2):e.splice(t,2),i&&r==="and"&&e.splice(0,e.length)},_isSimpleKeyFilter:function(e,t){return e.length===3&&e[0]===t&&e[1]==="="},_isKeyFilter:function(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);var t=this._getKeyExpr();if(Array.isArray(t)){if(e.length!==2*t.length-1)return!1;for(var i=0;i<t.length;i++)if(i>0&&e[2*i-1]!=="and"||!this._isSimpleKeyFilter(e[2*i],t[i]))return!1;return!0}return this._isSimpleKeyFilter(e,t)},_hasKeyFiltersOnlyStartingFromIndex:function(e,t){if(t>=0){for(var i=t;i<e.length;i++)if(typeof e[i]!="string"&&!this._isKeyFilter(e[i]))return!1;return!0}return!1},_removeSameFilter:function(e,t,i,r){if(t=i?["!",t]:t,JSON.stringify(t)===JSON.stringify(e))return e.splice(0,e.length),0;var n=this._findSubFilter(e,t);if(n>=0)return this._removeFilterByIndex(e,n,r),n;for(var a=0;a<e.length;a++)if(Array.isArray(e[a])&&e[a].length>2){var s=this._removeSameFilter(e[a],t,!1,r);if(s>=0)return e[a].length?e[a].length===1&&(e[a]=e[a][0]):this._removeFilterByIndex(e,a,r),s}return-1},getSelectAllState:function(){var e=this.options.filter(),t=this.options.selectionFilter;if(!t)return!0;if(!t.length)return!1;if(!(!e||!e.length)){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,e))return!0;if(this._isLastSubFilter(t,["!",e]))return!1}}}),js=function(e,t){var i=t(e);if(Be(i))try{return JSON.stringify(i)}catch(r){return i}return i},oO=function(e,t,i,r){var n=js(e,r);return t[i[n]]},lO=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},dO=function(e,t,i,r){var n={},a={},s=0,o=0,l=[];e.forEach(function(D,b){var m=js(D,i);n[m]=b}),t.forEach(function(D,b){var m=js(D,i);a[m]=b});for(var d=Math.max(e.length,t.length),u=0;u<d+s;u++){var c=t[u],h=u-s+o,f=e[h],g=!c||f&&!oO(f,t,a,i);if(g)f&&(l.push({type:"remove",key:i(f),index:u,oldItem:f}),o++,u--);else{var S=js(c,i),C=n[S],T=e[C];if(!T)s++,l.push({type:"insert",data:c,index:u});else if(C===h)r(T,c)||l.push({type:"update",data:c,key:i(c),index:u,oldItem:T});else return}}return l},uO=function(e,t){this.getLocalFilter=function(a,s,o,l){return s=s===void 0?fi:s,r.bind(this,s,a,o,l)},this.getExpr=function(a){if(!!a){var s;return e.forEach(function(o,l){s=s||[];var d;l>0&&s.push(t?"and":"or"),Ae(a)?d=n(a,o):d=function(u,c){for(var h=[],f=0,g=u.length;f<g;f++){var S=u[f],C=c&&c[S],T=n(S,C);if(!T)break;f>0&&h.push(t?"or":"and"),h.push(T)}return h}(a,o),s.push(d)}),s&&s.length===1&&(s=s[0]),s}},this.getCombinedFilter=function(a,s){var o=this.getExpr(a),l=o;return t&&s&&(o?(l=[],l.push(o),l.push(s)):l=s),l};var i;function r(a,s,o,l,d){var u=s(d),c,h;if(!o&&(c=xn(u),!Be(c))){var f=function(g){if(!i){i={};for(var S=0;S<g.length;S++)i[xn(g[S])]=!0}return i}(function(g,S,C){return Array.isArray(C)?g.map(T=>S(T)):g}(e,s,l));return f[c]?!t:!!t}for(h=0;h<e.length;h++)if(a(e[h],u))return!t;return!!t}function n(a,s){if(s!==void 0)return[a,t?"<>":"=",s]}},cO=xg.inherit({ctor:function(e){this.callBase(e),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(e,t){var i=this.options.keyOf,r,n,a;if(!!i){var s=t&&e.length>1&&!this.options.equalByReference;for(s&&(r={}),a=0;a<e.length;a++){var o=e[a],l=i(o);t?(n=this.removeSelectedItem(l,r),r&&n>=0&&(r[n]=!0)):this.addSelectedItem(l,o)}s&&this._batchRemoveSelectedItems(r)}},_batchRemoveSelectedItems:function(e){var t=this.options.selectedItemKeys.slice(0),i=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var r=0;r<t.length;r++)e[r]||(this.options.selectedItemKeys.push(t[r]),this.options.selectedItems.push(i[r]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(e,t,i){var r=new ee,n=this.options.key();if(!e.length&&!i)return r.resolve([]),r;var a=this.options.filter();if(i&&t&&!a)return r.resolve(this.getSelectedItems()),r;var s=new uO(e,i),o=s.getCombinedFilter(n,a),l=[];t&&(l=o?ri(this.options.selectedItems).filter(o).toArray():this.options.selectedItems.slice(0));var d=l.length?l:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),u=s.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,n);return d=d.filter(u),l.length||!i&&d.length===e.length?r.resolve(d):r=this._loadFilteredData(o,u,null,i),r},_replaceSelectionUpdate:function(e){var t=[],i=this.options.keyOf;if(!!i){for(var r=0;r<e.length;r++){var n=e[r],a=i(n);t.push(a)}this.setSelectedItems(t,e)}},_warnOnIncorrectKeys:function(e){for(var t=this.options.allowNullValue,i=0;i<e.length;i++){var r=e[i];(!t||r!==null)&&!this.isItemKeySelected(r)&&Ne.log("W1002",r)}},_isMultiSelectEnabled:function(){var e=this.options.mode;return e==="all"||e==="multiple"},_requestInProgress:function(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"},_concatRequestsItems:function(e,t,i,r){var n,a=t?e:[];return r?n=r:n=sh(e,this.options.selectedItemKeys),{addedItems:i.added.concat(n),removedItems:i.removed.concat(a),keys:e}},_collectLastRequestData:function(e,t,i,r){var n=t&&i,a={added:[],removed:[]},s=this._isMultiSelectEnabled(),o=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(n?(this._lastLoadDeferred.reject(),o={}):lO(e,this.options.selectedItemKeys)||(a.added=o.addedItems,a.removed=o.removedItems,t||this._lastLoadDeferred.reject())),o=this._concatRequestsItems(e,t,a,this._shouldMergeWithLastRequest?void 0:r)),o},_updateKeysByLastRequestData:function(e,t,i){var r=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!t&&!i){var n,a;r=sh(e.concat((n=this._lastRequestData)===null||n===void 0?void 0:n.addedItems),(a=this._lastRequestData)===null||a===void 0?void 0:a.removedItems),r=Wy(r)}return r},_loadSelectedItems:function(e,t,i,r){var n=this,a=new ee;return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,i,r),ye(n._lastLoadDeferred).always(function(){var s=n._updateKeysByLastRequestData(e,t,i);n._shouldMergeWithLastRequest=!1,n._loadSelectedItemsCore(s,t,i).done(a.resolve).fail(a.reject)}),n._lastLoadDeferred=a,a},selectedItemKeys:function(e,t,i,r,n){var a=this,s=a._loadSelectedItems(e,i,r,n);return s.done(function(o){t?a._preserveSelectionUpdate(o,i):a._replaceSelectionUpdate(o),a.onSelectionChanged()}),s},addSelectedItem:function(e,t){if(P(t)&&!this.options.ignoreDisabledItems&&t.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}var i=this._getKeyHash(e);this._indexOfSelectedItemKey(i)===-1&&(!Be(i)&&this.options.keyHashIndices&&(this.options.keyHashIndices[i]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))},_getSelectedIndexByKey:function(e,t){for(var i=this.options.selectedItemKeys,r=0;r<i.length;r++)if((!t||!t[r])&&this.equalKeys(i[r],e))return r;return-1},_getSelectedIndexByHash:function(e,t){var i=this.options.keyHashIndices[e];return i&&i.length>1&&t&&(i=i.filter(function(r){return!t[r]})),i&&i[0]>=0?i[0]:-1},_indexOfSelectedItemKey:function(e,t){var i;return this.options.equalByReference?i=this.options.selectedItemKeys.indexOf(e):Be(e)?i=this._getSelectedIndexByKey(e,t):i=this._getSelectedIndexByHash(e,t),i},_shiftSelectedKeyIndices:function(e){for(var t=e;t<this.options.selectedItemKeys.length;t++){var i=this.options.selectedItemKeys[t],r=xn(i),n=this.options.keyHashIndices[r];if(!!n)for(var a=0;a<n.length;a++)n[a]>e&&n[a]--}},removeSelectedItem:function(e,t){var i=this._getKeyHash(e),r=!!t,n=this._indexOfSelectedItemKey(i,t);if(n<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[n]),r)||(this.options.selectedItemKeys.splice(n,1),this.options.selectedItems.splice(n,1),Be(i)||!this.options.keyHashIndices))return n;var a=this.options.keyHashIndices[i];return a&&(a.shift(),a.length||delete this.options.keyHashIndices[i],this._shiftSelectedKeyIndices(n)),n},_updateAddedItemKeys:function(e,t){for(var i=0;i<e.length;i++)this.isItemKeySelected(e[i])||(this.options.addedItemKeys.push(e[i]),this.options.addedItems.push(t[i]))},_updateRemovedItemKeys:function(e,t,i){for(var r=0;r<t.length;r++)this.isItemKeySelected(t[r])||(this.options.removedItemKeys.push(t[r]),this.options.removedItems.push(i[r]))},_isItemSelectionInProgress:function(e,t){var i=t&&this._lastRequestData&&this._requestInProgress();if(i){var r;return((r=this._lastRequestData.addedItems)===null||r===void 0?void 0:r.indexOf(e))!==-1}else return!1},_getKeyHash:function(e){return this.options.equalByReference?e:xn(e)},setSelectedItems:function(e,t){this._updateAddedItemKeys(e,t);var i=this.options.selectedItemKeys,r=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,i,r)},isItemDataSelected:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.options.keyOf(e);return this.isItemKeySelected(i,t)},isItemKeySelected:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this._isItemSelectionInProgress(e,t.checkPending);if(!i){var r=this._getKeyHash(e),n=this._indexOfSelectedItemKey(r);i=n!==-1}return i},getSelectAllState:function(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}}),hO=Ee.inherit({ctor:function(e){this.options=H(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new sO(this.options):new cO(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:Q,key:Q,keyOf:function(e){return e},load:function(){return new ee().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:Q,filter:Q}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(e){if(e===void 0)return this.options.selectionFilter;var t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()},setSelection:function(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)},select:function(e){return this.selectedItemKeys(e,!0)},deselect:function(e){return this.selectedItemKeys(e,!0,!0)},selectedItemKeys:function(e,t,i,r,n){var a;return e=(a=e)!==null&&a!==void 0?a:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,i,r,n)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(e,t){this._selectionStrategy.addSelectedItem(t,e)},_removeSelectedItem:function(e){this._selectionStrategy.removeSelectedItem(e)},_setSelectedItems:function(e,t){this._selectionStrategy.setSelectedItems(e,t)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(e,t){var i,r=this.options.plainItems(),n=r[e];if(!this.isSelectable()||!this.isDataItem(n))return!1;var a=this.options.getItemData(n),s=this.options.keyOf(a);if(t=t||{},t.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)i=this.changeItemSelectionWhenShiftKeyPressed(e,r);else if(t.control){this._resetItemSelectionWhenShiftKeyPressed();var o=this._selectionStrategy.isItemDataSelected(a);this.options.mode==="single"&&this.clearSelectedItems(),o?this._removeSelectedItem(s):this._addSelectedItem(a,s),i=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var l=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],s);(this.options.selectedItemKeys.length!==1||!l)&&(this._setSelectedItems([s],[a]),i=!0)}if(i)return this._focusedItemIndex=e,this.onSelectionChanged(),!0},isDataItem:function(e){return this.options.isSelectableItem(e)},isSelectable:function(){return this.options.mode==="single"||this.options.mode==="multiple"},isItemDataSelected:function(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})},isItemSelected:function(e,t){return this._selectionStrategy.isItemKeySelected(e,t)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyPressed:function(e,t){var i=!1,r,n,a=this.options.keyOf,s=t[this._focusedItemIndex],o=this.options.getItemData(s),l=a(o),d=s&&this.isItemDataSelected(o);P(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var u,c;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(r=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,n=this._focusedItemIndex;n!==this._shiftFocusedItemIndex;n+=r)this.isDataItem(t[n])&&(c=a(this.options.getItemData(t[n])),this._removeSelectedItem(c),i=!0);if(e!==this._shiftFocusedItemIndex)for(r=e<this._shiftFocusedItemIndex?1:-1,n=e;n!==this._shiftFocusedItemIndex;n+=r)this.isDataItem(t[n])&&(u=this.options.getItemData(t[n]),c=a(u),this._addSelectedItem(u,c),i=!0);return this.isDataItem(s)&&!d&&(this._addSelectedItem(o,l),i=!0),i},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(e){for(var t=this._selectionStrategy.getSelectableItems(this.options.plainItems()),i=0;i<t.length;i++){var r=t[i];if(this.isDataItem(r)){var n=this.options.getItemData(r),a=this.options.keyOf(n),s=this.isItemSelected(a);!s&&!e&&this._addSelectedItem(n,a),s&&e&&this._removeSelectedItem(a)}}return this.onSelectionChanged(),new ee().resolve()},getSelectAllState:function(e){return this._selectionStrategy.getSelectAllState(e)}}),vu="dxItemDeleting",Xs=-1,Kt=function(e){return e!==Xs},qs=mg.inherit({_setOptionsByReference:function(){this.callBase(),H(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return H(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:Xs,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(e,t){this._userOptions=t||{},this.callBase(e,t)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=ct(this.option("keyExpr"))},_getKeysByItems:function(e){return this._editStrategy.getKeysByItems(e)},_getItemsByKeys:function(e,t){return this._editStrategy.getItemsByKeys(e,t)},_getKeyByIndex:function(e){return this._editStrategy.getKeyByIndex(e)},_getIndexByKey:function(e){return this._editStrategy.getIndexByKey(e)},_getIndexByItemData:function(e){return this._editStrategy.getIndexByItemData(e)},_isKeySpecified:function(){return!!(this._dataSource&&this._dataSource.key())},_getCombinedFilter:function(){return this._dataSource&&this._dataSource.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataSource&&this._dataSource.key()},keyOf:function(e){var t=e,i=this._dataSource&&this._dataSource.store();return this.option("keyExpr")?t=this._keyGetter(e):i&&(t=i.keyOf(e)),t},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var e=this,t=e._editStrategy.itemsGetter;this._selection=new hO({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(i){(i.addedItemKeys.length||i.removedItemKeys.length)&&(e.option("selectedItems",e._getItemsByKeys(i.selectedItemKeys,i.selectedItems)),e._updateSelectedItems(i))},filter:e._getCombinedFilter.bind(e),totalCount:function(){var i=e.option("items"),r=e._dataSource;return r&&r.totalCount()>=0?r.totalCount():i.length},key:e.key.bind(e),keyOf:e.keyOf.bind(e),load:function(i){if(e._dataSource){var r=e._dataSource.loadOptions();i.customQueryParams=r.customQueryParams,i.userData=e._dataSource._userData}var n=e._dataSource&&e._dataSource.store();return n?n.load(i).done(function(a){if(!e._disposed){var s=Rs(a).data;e._dataSource._applyMapFunction(s)}}):new ee().resolve(this.plainItems())},dataFields:function(){return e._dataSource&&e._dataSource.select()},plainItems:t.bind(e._editStrategy)})},_initEditStrategy:function(){var e=_u;this._editStrategy=new e(this)},_getSelectedItemIndices:function(e){var t=this,i=[];return e=e||this._selection.getSelectedItemKeys(),t._editStrategy.beginCache(),M(e,function(r,n){var a=t._getIndexByKey(n);Kt(a)&&i.push(a)}),t._editStrategy.endCache(),i},_initMarkup:function(){this._rendering=!0,(!this._dataSource||!this._dataSource.isLoading())&&this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(e){e=e||this._chooseSelectOption();var t,i,r,n;switch(e){case"selectedIndex":t=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),P(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedItem",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(n=this.option("selectedItems")||[],i=n.length?this._editStrategy.getIndexByItemData(n[0]):Xs,this.option("selectionRequired")&&!Kt(i))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",n[0]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(n));break;case"selectedItem":if(t=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(t),this.option("selectionRequired")&&!Kt(i))return this._syncSelectionOptions("selectedIndex");P(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",Xs));break;case"selectedItemKeys":if(r=this.option("selectedItemKeys"),this.option("selectionRequired")){var a=this._getIndexByKey(r[0]);if(!Kt(a))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(r)}return new ee().resolve().promise()},_chooseSelectOption:function(){var e="selectedIndex",t=function(i){var r=this.option(i),n=P(r)&&r.length;return n||i in this._userOptions}.bind(this);return t("selectedItems")?e="selectedItems":t("selectedItem")?e="selectedItem":t("selectedItemKeys")&&(e="selectedItemKeys"),e},_compareKeys:function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var e=this.option("selectedItems");if(e.length>1||!e.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var t=this._selection.getSelectedItems(),i=e[0]===void 0?t[0]:e[0];return i===void 0&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionWithoutOptionChange("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(e))}else{var r=this._getKeysByItems(this.option("selectedItems")),n=this._selection.getSelectedItemKeys();this._compareKeys(n,r)||this._selection.setSelection(r)}return new ee().resolve().promise()},_itemClickHandler:function(e){this._createAction(function(t){this._itemSelectHandler(t.event)}.bind(this),{validatingTargetName:"itemElement"})({itemElement:p(e.currentTarget),event:e}),this.callBase.apply(this,arguments)},_itemSelectHandler:function(e){if(!!this.option("selectionByClick")){var t=e.currentTarget;this.isItemSelected(t)?this.unselectItem(e.currentTarget):this.selectItem(e.currentTarget)}},_selectedItemElement:function(e){return this._itemElements().eq(e)},_postprocessRenderItem:function(e){if(this.option("selectionMode")!=="none"){var t=p(e.itemElement),i=this._editStrategy.getNormalizedIndex(t),r=this._isItemSelected(i);this._processSelectableItem(t,r)}},_processSelectableItem:function(e,t){e.toggleClass(this._selectedItemClass(),t),this._setAriaSelected(e,String(t))},_updateSelectedItems:function(e){var t=this,i=e.addedItemKeys,r=e.removedItemKeys;if(t._rendered&&(i.length||r.length)){var n=t._selectionChangePromise;if(!t._rendering){var a=[],s,o=[];t._editStrategy.beginCache();for(var l=0;l<i.length;l++)s=t._getIndexByKey(i[l]),a.push(s),t._addSelection(s);for(var d=0;d<r.length;d++)s=t._getIndexByKey(r[d]),o.push(s),t._removeSelection(s);t._editStrategy.endCache(),t._updateSelection(a,o)}ye(n).done(function(){t._fireSelectionChangeEvent(e.addedItems,e.removedItems)})}},_fireSelectionChangeEvent:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})},_updateSelection:Q,_setAriaSelected:function(e,t){this.setAria("selected",t,e)},_removeSelection:function(e){var t=this._editStrategy.getItemElement(e);Kt(e)&&(this._processSelectableItem(t,!1),F.triggerHandler(t,"stateChanged",!1))},_addSelection:function(e){var t=this._editStrategy.getItemElement(e);Kt(e)&&(this._processSelectableItem(t,!0),F.triggerHandler(t,"stateChanged",!0))},_isItemSelected:function(e){var t=this._getKeyByIndex(e);return this._selection.isItemSelected(t,{checkPending:!0})},_optionChanged:function(e){switch(e.name){case"selectionMode":this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),this.callBase(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(e)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(e){if(e.data(vu))return new ee().resolve().promise();e.data(vu,!0);var t=new ee,i={cancel:!1},r=this._itemEventHandler(e,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return ye(r).always(function(n){var a=!r,s=!a&&r.state()==="resolved",o=!!arguments.length,l=a||s&&!o||s&&n;ye(At(i.cancel)).always(function(){e.data(vu,!1)}).done(function(d){l&&!d?t.resolve():t.reject()}).fail(t.reject)}.bind(this)),t.promise()},_deleteItemFromDS:function(e){if(!this._dataSource)return new ee().resolve().promise();var t=new ee,i=this.option("disabled"),r=this._dataSource.store();if(this.option("disabled",!0),!r.remove)throw Ne.Error("E1011");return r.remove(r.keyOf(this._getItemData(e))).done(function(n){n!==void 0?t.resolve():t.reject()}).fail(function(){t.reject()}),t.always(function(){this.option("disabled",i)}.bind(this)),t},_tryRefreshLastPage:function(){var e=new ee;return this._isLastPage()||this.option("grouped")?e.resolve():this._refreshLastPage().done(function(){e.resolve()}),e.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(e){var t=this._getKeyByIndex(e);this._selection.deselect([t])},_updateIndicesAfterIndex:function(e){for(var t=this._itemElements(),i=e+1;i<t.length;i++)p(t[i]).data(this._itemIndexKey(),i-1)},_simulateOptionChange:function(e){var t=this.option(e);t instanceof _r||this._optionChangedAction({name:e,fullName:e,value:t})},isItemSelected:function(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))},selectItem:function(e){if(this.option("selectionMode")!=="none"){var t=this._editStrategy.getNormalizedIndex(e);if(!!Kt(t)){var i=this._getKeyByIndex(t);if(!this._selection.isItemSelected(i))if(this.option("selectionMode")==="single")this._selection.setSelection([i]);else{var r=this.option("selectedItemKeys")||[];this._selection.setSelection([...r,i],[i])}}}},unselectItem:function(e){var t=this._editStrategy.getNormalizedIndex(e);if(!!Kt(t)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var r=this._getKeyByIndex(t);!this._selection.isItemSelected(r,{checkPending:!0})||this._selection.deselect([r])}}},_deleteItemElementByIndex:function(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)},_afterItemElementDeleted:function(e,t){var i=this._dataSource?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(e,"onItemDeleted",t,{beforeExecute:function(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(e){var t=this,i=new ee,r=this._editStrategy.getItemElement(e),n=this._editStrategy.getNormalizedIndex(e),a=this._itemResponseWaitClass();return Kt(n)?this._waitDeletingPrepare(r).done(function(){r.addClass(a);var s=t._extendActionArgs(r);t._deleteItemFromDS(r).done(function(){t._deleteItemElementByIndex(n),t._afterItemElementDeleted(r,s),t._tryRefreshLastPage().done(function(){i.resolveWith(t)})}).fail(function(){r.removeClass(a),i.rejectWith(t)})}).fail(function(){i.rejectWith(t)}):i.rejectWith(t),i.promise()},reorderItem:function(e,t){var i=new ee,r=this,n=this._editStrategy,a=n.getItemElement(e),s=n.getItemElement(t),o=n.getNormalizedIndex(e),l=n.getNormalizedIndex(t),d=this._dataSource?"dataSource":"items",u=Kt(o)&&Kt(l)&&o!==l;return u?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){s[n.itemPlacementFunc(o,l)](a),n.moveItemAtIndexToIndex(o,l),this._updateIndicesAfterIndex(o),r.option("selectedItems",r._getItemsByKeys(r._selection.getSelectedItemKeys(),r._selection.getSelectedItems())),d==="items"&&r._simulateOptionChange(d),r._itemEventHandler(a,"onItemReordered",{fromIndex:n.getIndex(o),toIndex:n.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),fO=qs.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(e){var t=new ee,i=new ee;this._deferredItems[e.index]=i;var r=this.callBase.call(this,e);return i.done(()=>{t.resolve(r)}),t.promise()},_createItemByTemplate(e,t){return e.render({model:t.itemData,container:t.container,index:t.index,onRendered:()=>{this._deferredItems[t.index].resolve()}})},_postProcessRenderItems:Q,_renderItemsAsync(){var e=new ee;return ye.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),e.resolve()}),e.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),pO="dx-toolbar",gu="dx-toolbar-before",_O="dx-toolbar-center",yg="dx-toolbar-after",vO="dx-toolbar-mini",gO="dx-toolbar-item",Cg="dx-toolbar-label",mO="dx-toolbar-button",xO="dx-toolbar-items-container",yO="dx-toolbar-group",Sg="dx-toolbar-compact",Ys="."+Cg,Eg="dx-toolbar-multiline",CO="text",SO="default",EO="dxToolbarItemDataKey",bO=fO.inherit({compactMode:!1,ctor:function(e,t){this._userOptions=t||{},this.callBase(e,t),"height"in this._userOptions&&Me.log("W0001",this.NAME,"height","20.1","Functionality associated with this option is not intended for the Toolbar widget.")},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter(e=>e!=="disabled")},_initTemplates:function(){this.callBase();var e=new oa(function(t,i,r){De(i)?(i.text&&t.text(i.text).wrapInner("<div>"),i.html&&t.html(i.html),i.widget==="dxButton"&&(this.option("useFlatButtons")&&(i.options=i.options||{},i.options.stylingMode=i.options.stylingMode||CO),this.option("useDefaultButtons")&&(i.options=i.options||{},i.options.type=i.options.type||SO))):t.text(String(i)),this._getTemplate("dx-polymorph-widget").render({container:t,model:r,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})},_getDefaultOptions:function(){return H(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1,multiline:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return mt()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(["."+gu,"."+_O,"."+yg].join(","))},_itemClass:function(){return gO},_itemDataKey:function(){return EO},_buttonClass:function(){return mO},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var e=this.$element();return new lr(t=>{var i=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>(()=>{var r=!0;return e.parents().each((n,a)=>{if(Je.isAnimating(p(a)))return r=!1,!1}),r&&t(),r})()||i(),15)};i()})},_render:function(){this.callBase(),this._renderItemsAsync(),mt()&&lr.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass(pO).toggleClass(Eg,this.option("multiline")),this._$toolbarItemsContainer=p("<div>").addClass(xO).appendTo(this.$element())},_renderSections:function(){var e=this._$toolbarItemsContainer,t=this;M(["before","center","after"],function(){var i="dx-toolbar-"+this,r=e.find("."+i);r.length||(t["_$"+this+"Section"]=r=p("<div>").addClass(i).appendTo(e))})},_checkWebFontForLabelsLoaded:function(){var e=this.$element().find(Ys),t=[];return e.each((i,r)=>{var n=p(r).text(),a=p(r).css("fontWeight");t.push(_E(n,a))}),lr.all(t)},_arrangeItems:function(e){e=e||this.$element().width(),this._$centerSection.css({margin:"0 auto",float:"none"});var t=rt(this._$beforeSection.get(0)),i=rt(this._$afterSection.get(0));this._alignCenterSection(t,i,e);var r=this._$toolbarItemsContainer.find(Ys).eq(0),n=r.parent();if(!!r.length){var a=t.width?t.width:r.position().left,s=n.hasClass(gu)?0:a,o=n.hasClass(yg)?0:i.width,l=0;n.children().not(Ys).each(function(){l+=p(this).outerWidth()});var d=e-l,u=Math.max(d-s-o,0);if(n.hasClass(gu))this._alignSection(this._$beforeSection,u);else{var c=r.outerWidth()-r.width();r.css("maxWidth",u-c)}}},_alignCenterSection:function(e,t,i){this._alignSection(this._$centerSection,i-e.width-t.width);var r=this.option("rtlEnabled"),n=r?t:e,a=r?e:t,s=rt(this._$centerSection.get(0));(n.right>s.left||s.right>a.left)&&this._$centerSection.css({marginLeft:n.width,marginRight:a.width,float:n.width>a.width?"none":"right"})},_alignSection:function(e,t){var i=e.find(Ys),r=i.toArray();t-=this._getCurrentLabelsPaddings(r);var n=this._getCurrentLabelsWidth(r),a=Math.abs(n-t);t<n?(r=r.reverse(),this._alignSectionLabels(r,a,!1)):this._alignSectionLabels(r,a,!0)},_alignSectionLabels:function(e,t,i){for(var r=function(d){return rt(d).width},n=0;n<e.length;n++){var a=p(e[n]),s=Math.ceil(r(e[n])),o=void 0;i&&a.css("maxWidth","inherit");var l=Math.ceil(i?r(e[n]):s);if(l<t)o=i?l:0,t-=l;else{o=i?s+t:s-t,a.css("maxWidth",o);break}a.css("maxWidth",o)}},_applyCompactMode:function(){var e=this.$element();e.removeClass(Sg),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>e.width()&&e.addClass(Sg)},_getCurrentLabelsWidth:function(e){var t=0;return e.forEach(function(i,r){t+=p(i).outerWidth()}),t},_getCurrentLabelsPaddings:function(e){var t=0;return e.forEach(function(i,r){t+=p(i).outerWidth()-p(i).width()}),t},_renderItem:function(e,t,i,r){var n=t.location||"center",a=i||this["_$"+n+"Section"],s=!!(t.text||t.html),o=this.callBase(e,t,a,r);return o.toggleClass(this._buttonClass(),!s).toggleClass(Cg,s).addClass(t.cssClass),o},_renderGroupedItems:function(){var e=this;M(this.option("items"),function(t,i){var r=i.items,n=p("<div>").addClass(yO),a=i.location||"center";!r||!r.length||(M(r,function(s,o){e._renderItem(s,o,n,null)}),e._$toolbarItemsContainer.find(".dx-toolbar-"+a).append(n))})},_renderItems:function(e){var t=this.option("grouped")&&e.length&&e[0].items;t?this._renderGroupedItems():this.callBase(e)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var e=this._getToolbarItems();this.$element().toggleClass(vO,e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()},_renderEmptyMessage:Q,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(e){e&&this._arrangeItems()},_isVisible:function(){return this.$element().width()>0&&this.$element().height()>0},_getIndexByItem:function(e){return fe(e,this._getToolbarItems())},_itemOptionChanged:function(e,t,i){this.callBase.apply(this,[e,t,i]),this._arrangeItems()},_optionChanged:function(e){var t=e.name;switch(t){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"multiline":this.$element().toggleClass(Eg,e.value);break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});Ge("dxToolbarBase",bO);var mu=Oe(),xu="dx-popup",TO="dx-popup-wrapper",wO="dx-popup-fullscreen",IO="dx-popup-fullscreen-width",AO="dx-popup-normal",DO="dx-popup-content",OO="dx-popup-draggable",bg="dx-popup-title",kO="dx-closebutton",Tg="dx-popup-bottom",LO="dx-has-close-button",PO="dx-template-wrapper",BO="dx-popup-flex-height",RO="dx-popup-inherit-height",wg=["cancel","clear","done"],MO="default",FO="normal",NO="text",HO="contained",$O=Fe.msie&&parseInt(Fe.version)===11,VO=Fe.safari&&Dn(Fe.version,[11])<0,Ki={static:"",inherit:RO,flex:BO},zO=e=>{var t=Se.current(),i=t.platform,r="bottom",n="before";if(i==="ios")switch(e){case"cancel":r="top";break;case"clear":r="top",n="after";break;case"done":n="after"}else if(i==="android"&&t.version&&parseInt(t.version[0])>4)switch(e){case"cancel":case"done":n="after"}return{toolbar:r,location:n}},qr=zi.inherit({_getDefaultOptions:function(){return H(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var e=dr();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(t){return Se.real().deviceType==="desktop"&&t.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return Se.real().deviceType==="desktop"&&!Se.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return mt(e)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){this.callBase(),this.$element().addClass(xu),this.$wrapper().addClass(TO),this._$popupContent=this._$content.wrapInner(p("<div>").addClass(DO)).children().eq(0)},_render:function(){var e=this.option("fullScreen");this._toggleFullScreenClass(e),this.callBase()},_toggleFullScreenClass:function(e){this.$overlayContent().toggleClass(wO,e).toggleClass(AO,!e)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new sr,bottom:new sr})},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderBottom()},_renderTitle:function(){var e=this._getToolbarItems("top"),t=this.option("title"),i=this.option("showTitle");if(i&&!!t&&e.unshift({location:Se.current().ios?"center":"before",text:t}),i||e.length>0){this._$title&&this._$title.remove();var r=p("<div>").addClass(bg).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",e,r).addClass(bg),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(LO,this._hasCloseButton())}else this._$title&&this._$title.detach()},_renderTemplateByType:function(e,t,i,r){var n=this._getTemplateByOption(e),a=n instanceof sr;if(a){var s=H({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),o=H(r,{items:t,rtlEnabled:this.option("rtlEnabled"),useDefaultButtons:this.option("useDefaultToolbarButtons"),useFlatButtons:this.option("useFlatToolbarButtons"),integrationOptions:s});this._getTemplate("dx-polymorph-widget").render({container:i,model:{widget:"dxToolbarBase",options:o}});var l=i.children("div");return i.replaceWith(l),l}else{var d=p(n.render({container:Ie(i)}));return d.hasClass(PO)&&(i.replaceWith(d),i=d),i}},_executeTitleRenderAction:function(e){this._getTitleRenderAction()({titleElement:Ie(e)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(e,t,i)=>{var r=p("<div>").addClass(kO);this._createComponent(r,Ut,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),p(i).append(r)}},_getToolbarItems:function(e){var t=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var r=Se.current().platform,n=0;return M(t,(a,s)=>{var o=P(s.shortcut),l=o?zO(s.shortcut):s;if(o&&r==="ios"&&n<2&&(l.toolbar="top",n++),l.toolbar=s.toolbar||l.toolbar||"top",l&&l.toolbar===e){o&&H(l,{location:s.location},this._getToolbarItemByAlias(s));var d=r==="generic";s.shortcut==="done"&&d||s.shortcut==="cancel"&&!d?i.unshift(l):i.push(l)}}),e==="top"&&this._hasCloseButton()&&i.push(this._getCloseButton()),i},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:e=>e.toLowerCase()==="done"?"OK":za(e,!0),_getToolbarItemByAlias:function(e){var t=this,i=e.shortcut;if(fe(i,wg)<0)return!1;var r=H({text:xe.format(this._getLocalizationKey(i)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:t.option("useDefaultToolbarButtons")?MO:FO,stylingMode:t.option("useFlatToolbarButtons")?NO:HO},e.options||{}),n=xu+"-"+i;return this._toolbarItemClasses.push(n),{template:function(a,s,o){var l=p("<div>").addClass(n).appendTo(o);t._createComponent(l,Ut,r)}}},_createToolbarItemAction:function(e){return this._createAction(e,{afterExecute:function(t){t.component.hide()}})},_renderBottom:function(){var e=this._getToolbarItems("bottom");if(e.length){this._$bottom&&this._$bottom.remove();var t=p("<div>").addClass(Tg).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",e,t,{compactMode:!0}).addClass(Tg),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleClasses:function(){var e=wg;M(e,(t,i)=>{var r=xu+"-"+i;fe(r,this._toolbarItemClasses)>=0?(this.$wrapper().addClass(r+"-visible"),this._$bottom.addClass(r)):(this.$wrapper().removeClass(r+"-visible"),this._$bottom.removeClass(r))})},_getContainer:function(){return this.option("fullScreen")?p(mu):this.callBase()},_getDragTarget:function(){return this.topToolbar()},_renderGeometryImpl:function(e){e||this._resetContentHeight(),this.callBase(...arguments),this._setContentHeight()},_resetContentHeight:function(){this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){this.callBase(),this.$overlayContent().toggleClass(OO,this.option("dragEnabled"))},_renderResize:function(){this.callBase(),this._resizable.option("onResize",function(){this._setContentHeight(),this._actions.onResize(arguments)}.bind(this))},_setContentHeight:function(){(this.option("forceApplyBindings")||Q)();var e=this.$overlayContent().get(0),t=this._chooseHeightStrategy(e);this.$content().css(this._getHeightCssStyles(t,e)),this._setHeightClasses(this.$overlayContent(),t)},_heightStrategyChangeOffset:function(e,t){return e===Ki.flex?-t:0},_chooseHeightStrategy:function(e){var t=e.style.width==="auto"||e.style.width==="",i=Ki.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(t||VO?$O||(i=Ki.inherit):i=Ki.flex),i},_getHeightCssStyles:function(e,t){var i={},r=this._getOptionValue("maxHeight",t),n=this._getOptionValue("minHeight",t),a=this._splitPopupHeight(),s=a.header+a.footer+a.contentVerticalOffsets+a.popupVerticalOffsets+this._heightStrategyChangeOffset(e,a.popupVerticalPaddings);if(e===Ki.static){if(!this._isAutoHeight()||r||n){var o=this.option("fullScreen")?Math.min(rt(t).height,Oe().innerHeight):rt(t).height,l=o-s;i={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var d=p(this._getContainer()).get(0),u=xC(r,-s,d),c=yC(n,-s,d);i={height:"auto",minHeight:c,maxHeight:u}}return i},_setHeightClasses:function(e,t){var i="";for(var r in Ki)Ki[r]!==t&&(i+=" "+Ki[r]);e.removeClass(i).addClass(t)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var e=this.topToolbar(),t=this.bottomToolbar();return{header:bh(e&&e.get(0)),footer:bh(t&&t.get(0)),contentVerticalOffsets:rl(this.$overlayContent().get(0),!0),popupVerticalOffsets:rl(this.$content().get(0),!0),popupVerticalPaddings:rl(this.$content().get(0),!1)}},_shouldFixBodyPosition:function(){return this.callBase()||this.option("fullScreen")},_toggleSafariFullScreen:function(e){var t=this._shouldFixBodyPosition()&&e&&!this._isShown;t?this._bodyScrollTop=e?mu.pageYOffset:void 0:this._toggleSafariScrolling(!e)},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(...arguments),Te()&&this._renderFullscreenWidthClass()},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(IO,this.$overlayContent().outerWidth()===p(mu).width())},refreshPosition:function(){this._renderPosition()},_renderPosition:function(){if(this.option("fullScreen"))ht(this.$overlayContent(),{top:0,left:0});else return(this.option("forceApplyBindings")||Q)(),this.callBase(...arguments)},_optionChanged:function(e){switch(e.name){case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Fi(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Fi(this.$overlayContent());break;case"onTitleRendered":this._createTitleRenderAction(e.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var t=!e.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),t&&(this._renderGeometry(),Fi(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"autoResizeEnabled":this._renderGeometry(),Fi(this.$overlayContent());break;case"fullScreen":this._toggleFullScreenClass(e.value),this._toggleSafariFullScreen(e.value),this._renderGeometry(),Fi(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;default:this.callBase(e)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return Ie(this.$content())},$overlayContent:function(){return this._$content}});Ge("dxPopup",qr);var{ios:GO,mac:WO}=Se.real(),UO=Fe.msie||GO||WO,KO=function(e){var t;try{t={start:e.selectionStart,end:e.selectionEnd}}catch(i){t={start:0,end:0}}return t},jO=function(e,t){if(!!re.getBody().contains(e))try{e.selectionStart=t.start,e.selectionEnd=t.end}catch(i){}},Ig=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e=p(e).get(0),!P(t))return KO(e);!i&&UO&&re.getActiveElement()!==e||jO(e,t)};function XO(){var{android:e,version:t}=Se.real();return e&&t[0]>4}function qO(){return"onbeforeinput"in re.createElement("input")||XO()}var Yr=" ",Ag=Ee.inherit({ctor:function(e){this._value=Yr,H(this,e)},next:function(e){if(!arguments.length)return this._next;this._next=e},text:Q,value:Q,rawValue:Q,handle:Q,_prepareHandlingArgs:function(e,t){var i,r,n;t=t||{};var a=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[a]=(i=t.str)!==null&&i!==void 0?i:e[a],e.start=(r=t.start)!==null&&r!==void 0?r:e.start,e.length=(n=t.length)!==null&&n!==void 0?n:e.length,e.index=e.index+1,e},reset:Q,clear:Q,first:function(e){return e=e||0,this.next().first(e+1)},isAccepted:function(){return!1},adjustedCaret:function(e,t,i){return t?this._adjustedForward(e,0,i):this._adjustedBackward(e,0,i)},_adjustedForward:Q,_adjustedBackward:Q,isValid:Q}),YO=Ag.inherit({next:Q,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),Dg=Ag.inherit({text:function(){return(this._value!==Yr?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(e){var t=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!t||!t.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));var i=t[0],r=t.substring(1);return this._tryAcceptChar(i,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:r,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:r,length:e.length-1}))},clear:function(e){this._tryAcceptChar(Yr,e),this.next().clear(this._prepareHandlingArgs(e))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(e,t){if(this._accepted(!1),!!this._isAllowed(e,t)){var i=e===Yr?this.maskChar:e;t.fullText=t.fullText.substring(0,t.index)+i+t.fullText.substring(t.index+1),this._accepted(!0),this._value=e}},_accepted:function(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e},first:function(e){return this._value===Yr?e||0:this.callBase(e)},_isAllowed:function(e,t){return e===Yr?!0:this._isValid(e,t)},_isValid:function(e,t){var i=this.allowedChars;return i instanceof RegExp?i.test(e):he(i)?i(e,t.index,t.fullText):Array.isArray(i)?fe(e,i)>-1:i===e},isAccepted:function(e){return e===0?this._accepted():this.next().isAccepted(e-1)},_adjustedForward:function(e,t,i){return t>=e?t:this.next()._adjustedForward(e,t+1,i)||t+1},_adjustedBackward:function(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1},isValid:function(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}}),Og=Dg.inherit({value:function(){return this.next().value()},handle:function(e){var t=Object.prototype.hasOwnProperty.call(e,"value"),i=t?e.value:e.text;if(!i.length||!e.length)return 0;if(e.start||t)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));var r=i[0],n=i.substring(1);this._tryAcceptChar(r);var a=this._isAllowed(r)?this._prepareHandlingArgs(e,{str:n,length:e.length-1}):e;return this.next().handle(a)+1},clear:function(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))},_tryAcceptChar:function(e){this._accepted(this._isValid(e))},_isValid:function(e){return e===this.maskChar},first:function(e){return e=e||0,this.next().first(e+1)},_adjustedForward:function(e,t,i){return t>=e&&i===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,i)},_adjustedBackward:function(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)},isValid:function(e){return this.next().isValid(this._prepareHandlingArgs(e))}}),kg="dx-invalid-message",ZO="dx-invalid-message-auto",JO="dx-invalid-message-always",QO="dx-invalid-message-content",e1=100,Lg=zi.inherit({_getDefaultOptions(){return H(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",closeOnOutsideClick:!1,closeOnTargetScroll:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",mode:"auto",validationErrors:void 0,positionRequest:void 0,describedElement:void 0,boundary:void 0,offset:{h:0,v:0}})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this.$element().addClass(kg),this.$wrapper().addClass(kg),this._toggleModeClass(),this._updateContentId()},_updateContentId(){var e=this.option("describedElement")||this.option("container"),t=p(e).attr("aria-describedby");this.$content().addClass(QO).attr("id",t)},_renderInnerHtml(e){var t=e&&p(e),i=this.option("validationErrors")||[],r="";i.forEach(n=>{var a=r?"<br />":"";r+=a+Wc((n==null?void 0:n.message)||"")}),t==null||t.html(r)},_toggleModeClass(){var e=this.option("mode");this.$wrapper().toggleClass(ZO,e==="auto").toggleClass(JO,e==="always")},updateMaxWidth(){var e,t=this.option("target"),i=(t==null||(e=t.outerWidth)===null||e===void 0?void 0:e.call(t))||p(t).outerWidth(),r="100%";i&&(r=Math.max(i,e1)),this.option({maxWidth:r})},_updatePosition:function(){var{positionRequest:e,rtlEnabled:t,offset:i,boundary:r}=this.option(),n=ls(t),a=e==="below"?[" top"," bottom"]:[" bottom"," top"];t&&(i.h=-i.h),e!=="below"&&(i.v=-i.v),this.option("position",{offset:i,boundary:r,my:n+a[0],at:n+a[1],collision:"none flip"})},_optionChanged(e){var{name:t,value:i}=e;switch(t){case"target":this.updateMaxWidth(),this.callBase(e);break;case"boundary":this.option("position.boundary",i);break;case"mode":this._toggleModeClass(i);break;case"rtlEnabled":case"offset":case"positionRequest":this._updatePosition();break;case"validationErrors":this._renderInnerHtml(this.$content());break;default:this.callBase(e)}}});Ge("dxValidationMessage",Lg);var Pg="dx-invalid-message-auto",t1="dx-state-readonly",i1="dx-invalid",r1="dx-show-invalid-badge",Bg="dx-validation-target",n1="valid",Rg="invalid",a1="editorReadOnly",s1=["outlined","filled","underlined"],Mg={validationMessageMode:"mode",validationMessageOffset:"offset",validationBoundary:"boundary"},la=ei.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=Le(),this.callBase.apply(this,arguments)},_createElement:function(e){this.callBase(e);var t=this.$element();t&&qe(t[0],Bg,this)},_initOptions:function(e){this.callBase.apply(this,arguments),this.option(ni.initValidationOptions(e))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var e=this.$element();e.addClass(r1)},_getDefaultOptions:function(){return H(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:n1,validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),H(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState()},_raiseValueChangeAction:function(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))},_valueChangeArgs:function(e,t){return{value:e,previousValue:t,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(e){this._valueChangeEventInstance=e},_focusInHandler:function(e){var t=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&t){var i,r=(i=this._validationMessage)===null||i===void 0?void 0:i.$wrapper();r==null||r.removeClass(Pg),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>r==null?void 0:r.addClass(Pg),150)}return this.callBase(e)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var e=this.option("stylingMode"),t=this._getStylingModePrefix(),i=s1.map(s=>t+s);i.forEach(s=>this.$element().removeClass(s));var r=t+e;if(i.indexOf(r)===-1){var n=this._getDefaultOptions().stylingMode,a=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;r=t+(a||n)}this.$element().addClass(r)},_getValidationErrors:function(){var e=this.option("validationErrors");return!e&&this.option("validationError")&&(e=[this.option("validationError")]),e},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(e){this.$element().toggleClass(i1,e),this.setAria(Rg,e||void 0)},_renderValidationState:function(){var e=this.option("isValid")&&this.option("validationStatus")!==Rg,t=this._getValidationErrors(),i=this.$element();if(this._toggleValidationClasses(!e),!!Te()&&(this._disposeValidationMessage(),!e&&t)){var{validationMessageMode:r,validationMessageOffset:n,validationBoundary:a,rtlEnabled:s}=this.option();this._$validationMessage=p("<div>").appendTo(i),this.setAria("describedby","dx-"+new Dr),this._validationMessage=new Lg(this._$validationMessage,H({validationErrors:t,rtlEnabled:s,target:this._getValidationMessageTarget(),container:i,mode:r,positionRequest:"below",offset:n,boundary:a,describedElement:this._focusTarget()},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var e=this.option("readOnly");this._toggleBackspaceHandler(e),this.$element().toggleClass(t1,!!e),this.setAria("readonly",e||void 0)},_toggleBackspaceHandler:function(e){var t=this._keyboardEventBindingTarget(),i=se("keydown",a1);F.off(t,i),e&&F.on(t,i,r=>{pi(r)==="backspace"&&r.preventDefault()})},_dispose:function(){var e=this.$element()[0];qe(e,Bg,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(e){var t=this._getSubmitElement();!t||(e.length>0?t.attr("name",e):t.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(e){var t,{name:i,value:r}=e,n=Mg[i]?Mg[i]:i;(t=this._validationMessage)===null||t===void 0||t.option(n,r)},_hasActiveElement:Q,_optionChanged:function(e){var t;switch(e.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":e.value!=e.previousValue&&this.validationRequest.fire({value:e.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(e.value,e.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(e),(t=this._validationMessage)===null||t===void 0||t.updateMaxWidth();break;case"name":this._setSubmitElementName(e.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(ni.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessageOffset":this._setValidationMessageOption(e);break;case"rtlEnabled":this._setValidationMessageOption(e),this.callBase(e);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,e);break;default:this.callBase(e)}},blur:function(){this._hasActiveElement()&&Sn()},reset:function(){var e=this._getDefaultOptions();this.option("value",e.value)}});la.isEditor=e=>e instanceof la;class Fg{constructor(t,i,r){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=i,this.name=t,this.options=r||{}}_addPlaceMarker(t){this.$placeMarker=p("<div>").appendTo(t)}_addToContainer(t){var{$placeMarker:i,$container:r}=this;i?i.replaceWith(t):t.appendTo(r)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:t,options:i}=this;return i.visible||!t.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:t,$placeMarker:i}=this;t&&(t.dispose?t.dispose():t.remove(),this.instance=null),i&&i.remove()}render(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=t,this._isVisible()){var{instance:i,$element:r}=this._create();this.instance=i,this._attachEvents(i,r)}else this._addPlaceMarker(t)}update(){return this._shouldRender()&&this.render(),!!this.instance}}var o1=tt.down,l1="dx-state-invisible",d1="dx-clear-button-area",u1="dx-icon-clear",c1="dx-icon",h1="dx-show-clear-button";class f1 extends Fg{_create(){var t=p("<span>").addClass(d1).append(p("<span>").addClass(c1).addClass(u1));return this._addToContainer(t),this.update(!0),{instance:t,$element:t}}_isVisible(){var{editor:t}=this;return t._isClearButtonVisible()}_attachEvents(t,i){var{editor:r}=this,n=r.NAME;F.on(i,se(o1,n),a=>{a.preventDefault(),a.pointerType!=="mouse"&&r._clearValueHandler(a)}),F.on(i,se(it,n),a=>r._clearValueHandler(a))}_legacyRender(t,i){t.toggleClass(h1,i)}update(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!t&&super.update();var{editor:i,instance:r}=this,n=i.$element(),a=this._isVisible();r&&r.toggleClass(l1,!a),this._legacyRender(n,a)}}var Ng="dx-custom-button-hovered";class p1 extends Fg{_attachEvents(t,i){var{editor:r}=this;F.on(i,Fl,()=>{r.$element().addClass(Ng)}),F.on(i,Nl,()=>{r.$element().removeClass(Ng)}),F.on(i,it,n=>{n.stopPropagation()})}_create(){var{editor:t}=this,i=p("<div>");this._addToContainer(i);var r=t._createComponent(i,Ut,H({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(t)}));return{$element:i,instance:r}}_prepareIntegrationOptions(t){return H({},t.option("integrationOptions"),{skipTemplates:["content"]})}update(){var t=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),t}_isVisible(){var{editor:t}=this;return t.option("visible")}_isDisabled(){var t=this.options.disabled!==void 0;return t?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}var _1="dx-texteditor-buttons-container";function v1(e){(()=>{if(!e||typeof e!="object"||Array.isArray(e))throw Ne.Error("E1053")})(),(()=>{if(!("name"in e))throw Ne.Error("E1054")})(),(()=>{var{name:t}=e;if(typeof t!="string")throw Ne.Error("E1055")})(),(()=>{var{location:t}=e;"location"in e&&t!=="after"&&t!=="before"&&(e.location="after")})()}function Hg(e,t){if(e.indexOf(t)!==-1)throw Ne.Error("E1055",t);e.push(t)}function g1(e,t){return!!Fa(t,i=>i.name===e)}class m1{constructor(t,i){this.buttons=[],this.defaultButtonsInfo=i,this.editor=t}_compileButtonInfo(t){var i=[];return t.map(r=>{var n=typeof r=="string";n||v1(r);var a=n||g1(r.name,this.defaultButtonsInfo);if(a){var s=Fa(this.defaultButtonsInfo,l=>{var{name:d}=l;return d===r||d===r.name});if(!s)throw Ne.Error("E1056",this.editor.NAME,r);return Hg(i,r),s}else{var{name:o}=r;return Hg(i,o),H(r,{Ctor:p1})}})}_createButton(t){var{Ctor:i,options:r,name:n}=t,a=new i(n,this.editor,r);return this.buttons.push(a),a}_renderButtons(t,i,r){var n=null,a=t?this._compileButtonInfo(t):this.defaultButtonsInfo;return a.forEach(s=>{var{location:o="after"}=s;o===r&&this._createButton(s).render((()=>(n=n||p("<div>").addClass(_1),r==="before"?i.prepend(n):i.append(n),n))())}),n}clean(){this.buttons.forEach(t=>t.dispose()),this.buttons=[]}getButton(t){var i=Fa(this.buttons,r=>{var{name:n}=r;return n===t});return i&&i.instance}renderAfterButtons(t,i){return this._renderButtons(t,i,"after")}renderBeforeButtons(t,i){return this._renderButtons(t,i,"before")}updateButtons(t){this.buttons.forEach(i=>{(!t||t.indexOf(i.name)!==-1)&&i.update()})}}var x1="dx-texteditor",y1="dx-texteditor-input-container",$g="dx-texteditor-input",C1="."+$g,S1="dx-texteditor-container",E1="dx-texteditor-buttons-container",Vg="dx-placeholder",b1="dx-texteditor-empty",T1="dx-state-invisible",w1="dx-pending-indicator",zg="dx-validation-pending",I1="dx-valid",Zs=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],A1=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"];function Gg(e){if(P(e)&&!Array.isArray(e))throw Ne.Error("E1053")}var D1=la.inherit({ctor:function(e,t){t&&Gg(t.buttons),this._buttonCollection=new m1(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return H(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(e){return P(e)&&e!==!1?e:""},stylingMode:je().editorStylingMode||"outlined",showValidationMark:!0})},_defaultOptionsRules:function(){var e=dr();return this.callBase().concat([{device:function(){return mt(e)},options:{stylingMode:je().editorStylingMode||"underlined"}}])},_setDeprecatedOptions:function(){this.callBase(),H(this._deprecatedOptions,{onKeyPress:{since:"20.1",message:"This event is removed from the web standards and will be deprecated in modern browsers soon."}})},_getDefaultButtons:function(){return[{name:"clear",Ctor:f1}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(C1).first()},_isFocused:function(){return Xa(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+E1).eq(0)},_isControlKey:function(e){return A1.indexOf(e)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(x1),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue()},_render:function(){this._renderPlaceholder(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent(),this.callBase()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=p("<div>").addClass(S1).appendTo(this.$element()),this._$textEditorInputContainer=p("<div>").addClass(y1).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(zg);var e=this._getInputContainer(),t=p("<div>").addClass(w1).appendTo(e);this._pendingIndicator=this._createComponent(t,ti)},_disposePendingIndicator:function(){!this._pendingIndicator||(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(zg))},_renderValidationState:function(){this.callBase();var e=this.option("validationStatus")==="pending",t=this.$element();e?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),t.toggleClass(I1,!!this._showValidMark)},_renderButtonContainers:function(){var e=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(e,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(e,this._$buttonsContainer)},_cleanButtonContainers:function(){var e,t;(e=this._$beforeButtonsContainer)===null||e===void 0||e.remove(),(t=this._$afterButtonsContainer)===null||t===void 0||t.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var e=p("<input>");return this._applyInputAttributes(e,this.option("inputAttr")),e},_setSubmitElementName:function(e){var t=this.option("inputAttr.name");return this.callBase(e||t||"")},_applyInputAttributes:function(e,t){var i=H(this._getDefaultAttributes(),t);e.attr(i).addClass($g).css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var e={autocomplete:"off"},{ios:t,mac:i}=Se.real();return(t||i)&&(e.placeholder=" "),e},_updateButtons:function(e){this._buttonCollection.updateButtons(e)},_updateButtonsStyling:function(e){M(this.option("buttons"),(t,i)=>{var{options:r,name:n}=i;if(r&&!r.stylingMode&&this.option("visible")){var a=this.getButton(n);a.option&&a.option("stylingMode",e==="underlined"?"text":"contained")}})},_renderValue:function(){var e=this._renderInputValue();return e.promise()},_renderInputValue:function(e){var t;e=(t=e)!==null&&t!==void 0?t:this.option("value");var i=this.option("text"),r=this.option("displayValue"),n=this.option("displayValueFormatter");return r!==void 0&&e!==null?i=n(r):P(i)||(i=n(e)),this.option("text",i),this._input().val()!==(P(i)?i:"")?this._renderDisplayText(i):this._toggleEmptinessEventHandler(),new ee().resolve()},_renderDisplayText:function(e){this._input().val(e),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var e=this._input().get(0).validity;if(e)return e.valid}return!0},_toggleEmptiness:function(e){this.$element().toggleClass(b1,e),this._togglePlaceholder(e)},_togglePlaceholder:function(e){this.$element().find(".".concat(Vg)).eq(0).toggleClass(T1,!e)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(e){this.callBase.apply(this,arguments);var t=this._input();t.prop("disabled",e)},_toggleTabIndex:function(){var e=this._input(),t=this.option("disabled"),i=this.option("focusStateEnabled");t||!i?e.attr("tabIndex",-1):e.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var e=this._input(),t=this.option("placeholder"),i=this._$placeholder=p("<div>").attr("data-dx_placeholder",t);i.insertAfter(e),i.addClass(Vg)},_attachPlaceholderEvents:function(){var e=se(tt.up,this.NAME);F.on(this._$placeholder,e,()=>{F.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||p()},_clearValueHandler:function(e){var t=this._input();e.stopPropagation(),this._saveValueChangeEvent(e),this._clearValue(),!this._isFocused()&&F.trigger(t,"focus"),F.trigger(t,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var e=this._input();M(Zs,(t,i)=>{if(this.hasActionSubscription("on"+i)){var r=this._createActionByOption("on"+i,{excludeValidators:["readOnly"]});F.on(e,se(i.toLowerCase(),this.NAME),n=>{this._disposed||r({event:n})})}})},_refreshEvents:function(){var e=this._input();M(Zs,(t,i)=>{F.off(e,se(i.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(e){var t=this._input(),i=e.ctrlKey&&pi(e)==="enter",r=t.val()!==this.option("value");i&&r&&F.trigger(t,"change")},_renderValueChangeEvent:function(){var e=se(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),t=se(this.option("valueChangeEvent"),"".concat(this.NAME,"ValueChange")),i=se("keydown","".concat(this.NAME,"TextChange")),r=this._input();F.on(r,e,this._keyPressHandler.bind(this)),F.on(r,t,this._valueChangeEventHandler.bind(this)),F.on(r,i,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var e=".".concat(this.NAME,"ValueChange"),t=".".concat(this.NAME,"TextChange");F.off(this._input(),e),F.off(this._input(),t)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(e){return e===this._input().get(0)},_preventNestedFocusEvent:function(e){if(e.isDefaultPrevented())return!0;var t=this._isNestedTarget(e.relatedTarget);return e.type==="focusin"&&(t=t&&this._isNestedTarget(e.target)&&!this._isInput(e.target)),t&&e.preventDefault(),t},_isNestedTarget:function(e){return!!this.$element().find(e).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_focusOutHandler:function(e){this._preventNestedFocusEvent(e),this.callBase.apply(this,arguments)},_toggleFocusClass:function(e,t){this.callBase(e,this._focusClassTarget(t))},_hasFocusClass:function(e){return this.callBase(p(e||this.$element()))},_renderEmptinessEvent:function(){var e=this._input();F.on(e,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var e=this._input().val(),t=(e===""||e===null)&&this._isValueValid();this._toggleEmptiness(t)},_valueChangeEventHandler:function(e,t){this._saveValueChangeEvent(e),this.option("value",arguments.length>1?t:this._input().val()),this._saveValueChangeEvent(void 0)},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),F.off(this._input(),"keyup.onEnterKey.dxTextEditor"),F.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(e){this._disposed||pi(e)==="enter"&&this._enterKeyAction({event:e})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(re.getActiveElement())},_optionChanged:function(e){var{name:t,fullName:i,value:r}=e;if(fe(t.replace("on",""),Zs)>-1){this._refreshEvents();return}switch(t){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(e),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(e);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(e);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(t));break;case"stylingMode":this._renderStylingMode();break;case"buttons":i===t&&Gg(r),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode"));break;case"visible":this.callBase(e),r&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(e)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(e){var t=this._input();e==="search"&&(e="text");try{t.prop("type",e)}catch(i){t.prop("type","text")}},getButton(e){return this._buttonCollection.getButton(e)},focus:function(){F.trigger(this._input(),"focus")},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var e=this._getDefaultOptions();this.option("value")===e.value?(this._options.silent("text",""),this._renderValue()):this.option("value",e.value)},on:function(e,t){var i=this.callBase(e,t),r=e.charAt(0).toUpperCase()+e.substr(1);return Zs.indexOf(r)>=0&&this._refreshEvents(),i}}),yu="dxMask",O1="blur beforedeactivate",k1=" ";class Wg{constructor(t){this.editor=t,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}_getStrategyName(){return"base"}editorOption(){return this.editor.option(...arguments)}editorInput(){return this.editor._input()}editorCaret(t){if(!t)return this.editor._caret();this.editor._caret(t)}getHandler(t){var i=this["_".concat(t,"Handler")]||function(){};return i.bind(this)}attachEvents(){var t=this.editorInput();this.getHandleEventNames().forEach(i=>{var r=se(i.toLowerCase(),yu);F.on(t,r,this.getEventHandler(i))}),this._attachChangeEventHandlers()}getHandleEventNames(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}getEventHandler(t){return this["_".concat(t,"Handler")].bind(this)}detachEvents(){F.off(this.editorInput(),".".concat(yu))}_attachChangeEventHandlers(){fe("change",this.editorOption("valueChangeEvent").split(" "))!==-1&&F.on(this.editorInput(),se(O1,yu),function(t){this._suppressCaretChanging(this._changeHandler,[t]),this._changeHandler(t)}.bind(this.editor))}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var t=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(function(){this._caret({start:t,end:t})}.bind(this.editor),0)}}_focusOutHandler(t){this.editor._changeHandler(t),this.editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}_cutHandler(t){var i=this.editorCaret(),r=this.editorInput().val().substring(i.start,i.end);this.editor._maskKeyHandler(t,()=>Wh(t,r))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(function(){this.option("value",this._convertToValue(this._input().val()))}.bind(this.editor))}_clearDragTimer(){clearTimeout(this._dragTimer)}_keyDownHandler(){this._keyPressHandled=!1}_pasteHandler(t){var{editor:i}=this;this._keyPressHandled=!0;var r=this.editorCaret();i._maskKeyHandler(t,()=>{var n=Wh(t),a=i._maskRulesChain.text().substring(r.end),s=i._handleChain({text:n,start:r.start,length:n.length}),o=r.start+s;i._handleChain({text:a,start:o,length:a.length}),i._caret({start:o,end:o})})}_autoFillHandler(t){var{editor:i}=this,r=this.editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._keyPressHandled=!0,this._isAutoFill()&&(this._keyPressHandled=!0,i._maskKeyHandler(t,()=>{i._handleChain({text:r,start:0,length:r.length})}),i._validateMask())})}_isAutoFill(){var t=this.editor._input(),i=!1;if(Fe.msie&&Fe.version>11)i=t.hasClass("edge-autofilled");else if(Fe.webkit){var r=t.get(0);i=r&&r.matches(":-webkit-autofill")}return i}runWithoutEventProcessing(t){var i=this._keyPressHandled;this._keyPressHandled=!0,t(),this._keyPressHandled=i}_backspaceHandler(){}_delHandler(t){var{editor:i}=this;this._keyPressHandled=!0,i._maskKeyHandler(t,()=>!i._hasSelection()&&i._handleKey(k1))}clean(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}var L1="deleteContentBackward",P1=" ";class B1 extends Wg{_getStrategyName(){return"default"}getHandleEventNames(){return[...super.getHandleEventNames(),"keyPress"]}_keyPressHandler(t){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(t))){var{editor:i}=this;i._maskKeyHandler(t,()=>i._handleKey(UC(t)))}}_inputHandler(t){if(this._backspaceInputHandled(t.originalEvent&&t.originalEvent.inputType)&&this._handleBackspaceInput(t),t.originalEvent&&this._autoFillHandler(t),!this._keyPressHandled){this._keyPressHandled=!0;var i=this.editorInput().val(),r=this.editorCaret();if(!!r.end){r.start=r.end-1;var n=i.substring(0,r.start)+i.substring(r.end),a=i[r.start],{editor:s}=this;this.editorInput().val(n),s._caret({start:r.start,end:r.start}),s._maskKeyHandler(t,()=>s._handleKey(a))}}}_backspaceHandler(t){var{editor:i}=this;this._keyPressHandled=!0;var r=(n,a)=>{n&&(i._direction(this.DIRECTION.FORWARD),i._adjustCaret());var s=this.editorCaret();return new lr(o=>{clearTimeout(this._backspaceHandlerTimeout),this._backspaceHandlerTimeout=setTimeout(function(){a(s),o()})})};i._maskKeyHandler(t,()=>i._hasSelection()?r(!0,n=>{i._displayMask(n),i._maskRulesChain.reset()}):i._tryMoveCaretBackward()?r(!1,n=>{this.editorCaret(n)}):(i._handleKey(P1,this.DIRECTION.BACKWARD),r(!0,n=>{i._displayMask(n),i._maskRulesChain.reset()})))}_backspaceInputHandled(t){return t===L1&&!this._keyPressHandled}_handleBackspaceInput(t){var{start:i,end:r}=this.editorCaret();this.editorCaret({start:i+1,end:r+1}),this._backspaceHandler(t)}}var R1="deleteContentBackward";class M1 extends Wg{_getStrategyName(){return"inputEvents"}getHandleEventNames(){return[...super.getHandleEventNames(),"beforeInput"]}_beforeInputHandler(){this._prevCaret=this.editorCaret()}_inputHandler(t){var{originalEvent:i}=t;if(!!i){var{inputType:r,data:n}=i,a=this.editorCaret();if(r===R1){var s=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:a.start,length:s,text:this._getEmptyString(s)})}else{var o,l,d;if(!a.end)return;this._autoFillHandler(i),this.editorCaret(a);var u=((o=this._prevCaret)===null||o===void 0?void 0:o.end)-((l=this._prevCaret)===null||l===void 0?void 0:l.start),c=n+(u?this._getEmptyString(u-n.length):"");this.editor.setForwardDirection();var h=this._updateEditorMask({start:(d=this._prevCaret)===null||d===void 0?void 0:d.start,length:u||c.length,text:c});h||this.editorCaret(this._prevCaret)}}}_getEmptyString(t){return Array(t+1).join(" ")}_updateEditorMask(t){var i=t.text.length,r=this.editor._handleChain(t);if(this.editor.isForwardDirection()){var{start:n,end:a}=this.editorCaret(),s=r-i;n<=r&&r>1&&this.editorCaret({start:n+s,end:a+s}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!r}}var F1=function(){return{}},Js=Ig,Ug=" ",N1="\\",Kg="dx-texteditor-masked",Cu="forward",H1="backward",$1={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(e){return Qs(e)},l:function(e){return Qs(e)||Xg(e)},C:/\S/,c:/./,A:function(e){return Qs(e)||jg(e)},a:function(e){return Qs(e)||jg(e)||Xg(e)}};function jg(e){return/[0-9]/.test(e)}function Qs(e){var t=e.charCodeAt();return 64<t&&t<91||96<t&&t<123||t>127}function Xg(e){return e===" "}var qg=D1.inherit({_getDefaultOptions:function(){return H(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:xe.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var e=this,t={backspace:e._maskStrategy.getHandler("backspace"),del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},i=e.callBase();return M(t,function(r,n){var a=i[r];i[r]=function(s){e.option("mask")&&n.call(e,s),a&&a(s)}}),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=qO()?new M1(this):new B1(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var e=this._onMouseWheel!==Q;if(!!e){var t=this._input(),i=se(ts,this.NAME),r=this._createAction(function(n){var{event:a}=n;Xa(t)&&!Tn(a)&&(this._onMouseWheel(a),a.preventDefault(),a.stopPropagation())}.bind(this));F.off(t,i),F.on(t,i,function(n){r({event:n})})}},_onMouseWheel:Q,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=p("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(Kg),this._maskRulesChain=null,this._maskStrategy.detachEvents(),!!this.option("mask")&&(this.$element().addClass(Kg),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(e,t){Js=F1;try{e.apply(this,t)}finally{Js=Ig}},_changeHandler:function(e){var t=this._input(),i=t.val();if(i!==this._changedValue){this._changedValue=i;var r=vl(e,{type:"change"});F.trigger(t,r)}},_parseMask:function(){this._maskRules=H({},$1,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(e){var t=this.option("mask");if(e>=t.length)return new YO;var i=t[e],r=i===N1,n=r?new Og({maskChar:t[e+1]}):this._getMaskRule(i);return n.next(this._parseMaskRule(e+1+r)),n},_getMaskRule:function(e){var t;return M(this._maskRules,function(i,r){if(i===e)return t={pattern:i,allowedChars:r},!1}),P(t)?new Dg(H({maskChar:this.option("maskChar")},t)):new Og({maskChar:e})},_renderMaskedValue:function(){if(!!this._maskRulesChain){var e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var t={length:e.length};t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask()}},_replaceSelectedText:function(e,t,i){if(i===void 0)return e;var r=e.slice(0,t.start),n=e.slice(t.end),a=r+i+n;return a},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(e){e=e||this._caret(),this._renderValue(),this._caret(e)},_isValueEmpty:function(){return Mo(this._value)},_shouldShowMask:function(){var e=this.option("showMaskMode");return e==="onFocus"?Xa(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var e=this._maskRulesChain.text();this.option("text",e),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(e)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var e=this._maskRulesChain.value(),t=Mo(e)?"":this._getPreparedValue();this._$hiddenElement.val(t)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(e){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(e),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(e){return this._isControlKey(pi(e))||Tn(e)},_handleChain:function(e){var t=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),t},_normalizeChainArguments:function(e){return e=e||{},e.index=0,e.fullText=this._maskRulesChain.text(),e},_convertToValue:function(e){return this._isMaskedValueMode()?e=this._replaceMaskCharWithEmpty(e||this._textValue||""):e=e||this._value||"",e},_replaceMaskCharWithEmpty:function(e){return e.replace(new RegExp(this.option("maskChar"),"g"),Ug)},_maskKeyHandler:function(e,t){if(!this.option("readOnly")){this.setForwardDirection(),e.preventDefault(),this._handleSelection();var i=this._input().val(),r=()=>{i!==this._input().val()&&this._maskStrategy.runWithoutEventProcessing(()=>F.trigger(this._input(),"input"))},n=t();n?n.then(r):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),r())}},_handleKey:function(e,t){this._direction(t||Cu),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()},_handleSelection:function(){if(!!this._hasSelection()){var e=this._caret(),t=new Array(e.end-e.start+1).join(Ug);this._handleKeyChain(t)}},_handleKeyChain:function(e){var t=this._caret(),i=this.isForwardDirection()?t.start:t.start-1,r=this.isForwardDirection()?t.end:t.end-1,n=i===r?1:r-i;this._handleChain({text:e,start:i,length:n})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start},_adjustCaret:function(e){var t=this._maskRulesChain.adjustedCaret(this._caret().start,this.isForwardDirection(),e);this._caret({start:t,end:t})},_moveCaret:function(){var e=this._caret().start,t=e+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(t)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:i,end:i})},_caret:function(e,t){var i=this._input();if(!!i.length){if(!arguments.length)return Js(i);Js(i,e,t)}},_hasSelection:function(){var e=this._caret();return e.start!==e.end},_direction:function(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e},setForwardDirection:function(){this._direction(Cu)},setBackwardDirection:function(){this._direction(H1)},isForwardDirection:function(){return this._direction()===Cu},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(!!this._maskRulesChain){var e=Mo(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(e){if(!e){var t=this.option("value");this.option({text:t,isValid:!0}),this.validationRequest.fire({value:t,editor:this}),this._renderValue()}},_optionChanged:function(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(e)}}});Ge("dxTextEditor",qg);var V1=Oe(),z1=Br(),G1=z1.userAgent,W1=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],U1="dx-textbox",Yg="dx-searchbox",K1="dx-icon",j1="dx-icon-search",Zg=qg.inherit({ctor:function(e,t){t&&(this._showClearButton=t.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return H(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(U1),this.callBase(),this.setAria("role","textbox")},_renderContentImpl:function(){this._renderMaxLengthHandlers(),this.callBase()},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_renderMaxLengthHandlers:function(){this._isAndroidOrIE()&&(F.on(this._input(),se("keydown",this.NAME),this._onKeyDownCutOffHandler.bind(this)),F.on(this._input(),se("change",this.NAME),this._onChangeCutOffHandler.bind(this)))},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var e=this._$element;this.option("mode")==="search"?(e.addClass(Yg),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(e.removeClass(Yg),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var e=p("<div>").addClass(K1).addClass(j1);e.prependTo(this._input().parent()),this._$searchIcon=e},_optionChanged:function(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp(),this._renderMaxLengthHandlers();break;case"mask":this.callBase(e),this._toggleMaxLengthProp();break;default:this.callBase(e)}},_onKeyDownCutOffHandler:function(e){var t=this._getMaxLength();if(t&&!e.ctrlKey&&!this._hasSelection()){var i=p(e.target),r=pi(e);return this._cutOffExtraChar(i),i.val().length<t||fe(r,W1)!==-1||V1.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(e){var t=p(e.target);this.option("maxLength")&&this._cutOffExtraChar(t)},_cutOffExtraChar:function(e){var t=this._getMaxLength(),i=e.val();t&&i.length>t&&e.val(i.substr(0,t))},_getMaxLength:function(){var e=!!this.option("mask");return e?null:this.option("maxLength")},_isAndroidOrIE:function(){var e=Se.real(),t=e.version.join(".");return Fe.msie||e.platform==="android"&&t&&/^(2\.|4\.1)/.test(t)&&!/chrome/i.test(G1)}});Ge("dxTextBox",Zg);var eo={_getDefaultOptions:function(){return H(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var e=this.$element(),t=this.option("searchEnabled"),i=this._addWidgetPrefix("search"),r=this._addWidgetPrefix("with-search");if(!t){e.removeClass(r),this._removeSearchBox();return}var n=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(n):(e.addClass(r),this._$searchEditorElement=p("<div>").addClass(i).prependTo(e),this._searchEditor=this._createComponent(this._$searchEditorElement,Zg,n))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var e=this,t=e.option("searchEditorOptions"),i=xe.format("Search");return H({mode:"search",placeholder:i,tabIndex:e.option("tabIndex"),value:e.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":i},onValueChanged:function(r){var n=e.option("searchTimeout");e._valueChangeDeferred=new ee,clearTimeout(e._valueChangeTimeout),e._valueChangeDeferred.done(function(){this.option("searchValue",r.value)}.bind(e)),r.event&&r.event.type==="input"&&n?e._valueChangeTimeout=setTimeout(function(){e._valueChangeDeferred.resolve()},n):e._valueChangeDeferred.resolve()}},t)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(e,t){this.option("searchEnabled")&&this._toggleFocusClass(t,this.$element()),this.callBase(e,t)},getOperationBySearchMode:function(e){return e==="equals"?"=":e},_cleanAria:function(e){this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)},_optionChanged:function(e){switch(e.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){Ne.log("W1009");return}e.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(e.value)):this._dataSource[e.name](e.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(e)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()}},X1="dx-checkbox",q1="dx-checkbox-icon",Y1="dx-checkbox-checked",Z1="dx-checkbox-container",J1="dx-checkbox-text",Jg="dx-checkbox-has-text",Q1="dx-checkbox-indeterminate",ek=100,da=la.inherit({_supportedKeys:function(){return H(this.callBase(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})},_getDefaultOptions:function(){return H(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,text:"",useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Se.real().deviceType==="desktop"&&!Se.isSimulator()},options:{focusStateEnabled:!0}}])},_canValueBeChangedByClick:function(){return!0},_useTemplates:function(){return!1},_feedbackHideTimeout:ek,_initMarkup:function(){this._renderSubmitElement(),this._$container=p("<div>").addClass(Z1),this.setAria("role","checkbox"),this.$element().addClass(X1),this._renderValue(),this._renderIcon(),this._renderText(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().append(this._$container),this.callBase()},_render:function(){this._renderClick(),this.callBase()},_renderSubmitElement:function(){this._$submitElement=p("<input>").attr("type","hidden").appendTo(this.$element())},_getSubmitElement:function(){return this._$submitElement},_renderInkRipple:function(){this._inkRipple=na({waveSizeCoefficient:2.5,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(e,t,i,r){if(!!this._inkRipple){var n={element:e,event:t,wave:r};i?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_updateFocusState:function(e,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,e,t,0)},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,i,t,1)},_renderIcon:function(){this._$icon=p("<span>").addClass(q1).prependTo(this._$container)},_renderText:function(){var e=this.option("text");if(!e){this._$text&&(this._$text.remove(),this.$element().removeClass(Jg));return}this._$text||(this._$text=p("<span>").addClass(J1)),this._$text.text(e),this._$container.append(this._$text),this.$element().addClass(Jg)},_renderClick:function(){var e=this,t=se(it,e.NAME);e._clickAction=e._createAction(e._clickHandler),F.off(e.$element(),t),F.on(e.$element(),t,function(i){e._clickAction({event:i})})},_clickHandler:function(e){var t=e.component;t._saveValueChangeEvent(e.event),t.option("value",!t.option("value"))},_renderValue:function(){var e=this.$element(),t=this.option("value"),i=t===void 0;e.toggleClass(Y1,Boolean(t)),e.toggleClass(Q1,i),this._getSubmitElement().val(t),this.setAria("checked",i?"mixed":t||"false")},_optionChanged:function(e){switch(e.name){case"useInkRipple":this._invalidate();break;case"value":this._renderValue(),this.callBase(e);break;case"text":this._renderText(),this._renderDimensions();break;default:this.callBase(e)}},_clean:function(){delete this._inkRipple,this.callBase()}});Ge("dxCheckBox",da);var tk=Ee.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(e,t){var i=this;M(e,function(r,n){var a=P(t)?t:i._getParentId(n),s=i._convertItemToNode(n,a);i._dataStructure.push(s),i._checkForDuplicateId(s.internalFields.key),i._indexByKey[s.internalFields.key]=i._dataStructure.length-1,i._itemHasChildren(n)&&i._convertItemsToNodes(i._dataAccessors.getters.items(n),s.internalFields.key)})},_checkForDuplicateId:function(e){if(P(this._indexByKey[e]))throw Ne.Error("E1040",e)},_getParentId:function(e){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(e):void 0},_itemHasChildren:function(e){if(this._dataType!=="plain"){var t=this._dataAccessors.getters.items(e);return t&&t.length}},_getUniqueKey:function(e){var t=this._dataAccessors.getters.key,i=t(e),r=t&&(i||i===0)&&_n(i);return r?i:this.getItemsCount()},_convertItemToNode:function(e,t){this._itemsCount++,e.visible!==!1&&this._visibleItemsCount++;var i={internalFields:{disabled:this._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(e,{defaultValue:!1}),key:this._getUniqueKey(e),parentKey:P(t)?t:this._rootValue,item:this._makeObjectFromPrimitive(e),childrenKeys:[]}};return H(i,e),delete i.items,i},setChildrenKeys:function(){var e=this;M(this._dataStructure,function(t,i){if(i.internalFields.parentKey!==e._rootValue){var r=e.getParentNode(i);r&&r.internalFields.childrenKeys.push(i.internalFields.key)}})},_makeObjectFromPrimitive:function(e){if(_n(e)){var t=e;e={},this._dataAccessors.setters.key(e,t)}return e},_convertToPublicNode:function(e,t){if(!e)return null;var i={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t||null,itemData:e.internalFields.item,children:[],items:[]};return i.parent&&(i.parent.children.push(i),i.parent.items.push(i)),i},convertToPublicNodes:function(e,t){if(!e.length)return[];var i=this,r=[];return M(e,function(n,a){a=_n(a)?i._getByKey(a):a;var s=i._convertToPublicNode(a,t);s.children=i.convertToPublicNodes(a.internalFields.childrenKeys,s),r.push(s),a.internalFields.publicNode=s}),r},setDataAccessors:function(e){this._dataAccessors=e},_getByKey:function(e){return this._dataStructure[this.getIndexByKey(e)]||null},getParentNode:function(e){return this._getByKey(e.internalFields.parentKey)},getByKey:function(e,t){if(t==null)return null;var i=null,r=this,n=function(a,s){return M(a,function(o,l){var d=l.internalFields&&l.internalFields.key||r._dataAccessors.getters.key(l);if(d.toString()===s.toString())return i=l,!1}),i};return n(e,t)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var e=this;this._indexByKey={},M(this._dataStructure,function(t,i){e._checkForDuplicateId(i.internalFields.key),e._indexByKey[i.internalFields.key]=t})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},M(this._dataStructure,function(e,t){t.internalFields.childrenKeys=[]})},getIndexByKey:function(e){return this._indexByKey[e]},createPlainStructure:function(e,t,i){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=i,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}}),Zr="expanded",gr="selected",ik="disabled",rk=Ee.inherit({ctor:function(e){this.options={},H(this.options,this._defaultOptions(),e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(e,t){this.options[e]=t,e==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new tk,onNodeChanged:Q,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(gr)},_updateExpansion:function(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(Zr)},_updateNodesKeysArray:function(e){var t=this,i=[];return M(t._getDataBySelectionMode(),function(r,n){!t._isNodeVisible(n)||n.internalFields[e]&&(e===Zr||t.options.multipleSelection?i.push(n.internalFields.key):(i.length&&t.toggleSelection(i[0],!1,!0),i=[n.internalFields.key]))}),i},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(e){return e.internalFields.item.visible!==!1},_getByKey:function(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e,t)},_setChildrenSelection:function(){var e=this;M(this._dataStructure,function(t,i){if(!!i.internalFields.childrenKeys.length){var r=i.internalFields.selected;r===!0&&e._toggleChildrenSelection(i,r)}})},_setParentSelection:function(){var e=this;M(this._dataStructure,function(t,i){var r=e.options.dataConverter.getParentNode(i);r&&i.internalFields.parentKey!==e.options.rootValue&&e._iterateParents(i,function(n){var a=e._calculateSelectedState(n);e._setFieldState(n,gr,a)})})},_setParentExpansion:function(){var e=this;M(this._dataStructure,function(t,i){!i.internalFields.expanded||e._updateOneBranch(i.internalFields.key)})},_updateOneBranch:function(e){var t=this,i=this.getNodeByKey(e);t._iterateParents(i,function(r){t._setFieldState(r,Zr,!0)})},_iterateChildren:function(e,t,i,r){if(!!he(i)){var n=this,a=e.internalFields.key;r=r||[],r.indexOf(a)===-1&&(r.push(a),M(e.internalFields.childrenKeys,function(s,o){var l=n.getNodeByKey(o);i(l),l.internalFields.childrenKeys.length&&t&&n._iterateChildren(l,t,i,r)}))}},_iterateParents:function(e,t,i){if(!(e.internalFields.parentKey===this.options.rootValue||!he(t))){i=i||[];var r=e.internalFields.key;if(i.indexOf(r)===-1){i.push(r);var n=this.options.dataConverter.getParentNode(e);n&&(t(n),n.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(n,t,i))}}},_calculateSelectedState:function(e){for(var t=e.internalFields.childrenKeys.length,i=0,r=0,n=!1,a=0;a<=t-1;a++){var s=this.getNodeByKey(e.internalFields.childrenKeys[a]),o=s.internalFields.item.visible===!1,l=s.internalFields.selected;if(o){r++;continue}l?i++:l===void 0&&(i+=.5)}return i&&(n=i===t-r?!0:void 0),n},_toggleChildrenSelection:function(e,t){var i=this;this._iterateChildren(e,!0,function(r){i._isNodeVisible(r)&&i._setFieldState(r,gr,t)})},_setFieldState:function(e,t,i){e.internalFields[t]!==i&&(e.internalFields[t]=i,e.internalFields.publicNode&&(e.internalFields.publicNode[t]=i),this.options.dataAccessors.setters[t](e.internalFields.item,i),this.options.onNodeChanged(e))},_markChildren:function(e){var t=this;M(e,function(i,r){var n=t.getIndexByKey(r),a=t.getNodeByKey(r);t._dataStructure[n]=0,a.internalFields.childrenKeys.length&&t._markChildren(a.internalFields.childrenKeys)})},_removeNode:function(e){var t=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=0,this._markChildren(t.internalFields.childrenKeys);var i=this,r=0,n=H([],this._dataStructure);M(n,function(a,s){s||(i._dataStructure.splice(a-r,1),r++)})},_addNode:function(e){var t=this.options.dataConverter,i=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(i),this._initialDataStructure=this._initialDataStructure.concat(i),t._dataStructure=t._dataStructure.concat(i)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(e){var t=null;return M(this._dataStructure,function(i,r){if(r.internalFields.item===e)return t=r,!1}),t},getNodesByItems:function(e){var t=this,i=[];return M(e,function(r,n){var a=t.getNodeByItem(n);a&&i.push(a)}),i},getNodeByKey:function(e,t){return this._getByKey(t||this._getDataBySelectionMode(),e)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(e){return e.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(e){return ri(this._dataStructure).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey:function(e){return this.options.dataConverter.getIndexByKey(e)},addItem:function(e){this._addNode(e),this._updateFields()},removeItem:function(e){this._removeNode(e),this._updateFields()},toggleSelection:function(e,t,i){var r=this._isSingleModeUnselect(t),n=this._getByKey(i||r?this._initialDataStructure:this._dataStructure,e);this._setFieldState(n,gr,t),this.options.recursiveSelection&&!i&&(t?this._setChildrenSelection():this._toggleChildrenSelection(n,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(gr)},_isSingleModeUnselect:function(e){return!this.options.multipleSelection&&!e},toggleNodeDisabledState:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,ik,t)},toggleSelectAll:function(e){if(!!P(e)){var t=this,i=t._selectedNodesKeys[t._selectedNodesKeys.length-1],r=t._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;M(r,function(n,a){!t._isNodeVisible(a)||t._setFieldState(a,gr,e)}),t._selectedNodesKeys=t._updateNodesKeysArray(gr),!e&&t.options.selectionRequired&&t.toggleSelection(i,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(e,t){var i=this.getNodeByKey(e);this._setFieldState(i,Zr,t),t&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(Zr)},isFiltered:function(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length},_createCriteria:function(e,t,i){var r=[];return Array.isArray(e)?(M(e,function(n,a){r.push([a,i,t],"or")}),r.pop(),r):[e,i,t]},_filterDataStructure:function(e,t){var i=this.options.searchExpr||this.options.dataAccessors.getters.display,r=eo.getOperationBySearchMode(this.options.searchMode),n=this._createCriteria(i,e,r);return t=t||this._initialDataStructure,ri(t).filter(n).toArray()},search:function(e){var t=this,i=this._filterDataStructure(e),r=this.options.dataConverter;return function n(a,s){for(var o=a.length;s<o;){var l=a[s];if(l.internalFields.parentKey===t.options.rootValue){s++;continue}var d=r.getParentNode(l);if(!d){Ne.log("W1007",l.internalFields.parentKey,l.internalFields.key),s++;continue}if(d.internalFields.expanded||t._setFieldState(d,Zr,!0),fe(d,a)>-1){s++;continue}a.splice(s,0,d),n(a,s)}}(i,0),this.options.sort&&(i=Zn.queryByOptions(ri(i),{sort:this.options.sort}).toArray()),r._indexByKey={},M(i,function(n,a){a.internalFields.childrenKeys=[],r._indexByKey[a.internalFields.key]=n}),r._dataStructure=i,r.setChildrenKeys(),r._dataStructure}}),nk="dx-state-disabled",Qg=qs.inherit({_getDefaultOptions:function(){return H(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Se.real().deviceType==="desktop"&&!Se.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var e=this._createDataAdapterAccessors();this._dataAdapter=new rk(H({dataAccessors:{getters:e.getters,setters:e.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:Q,_initDynamicTemplates:function(){var e=this;this._templateManager.addDefaultTemplates({item:new oa(function(t,i){t.html(i.html).append(this._getIconContainer(i)).append(this._getTextContainer(i)).append(this._getPopoutContainer(i)),e._addContentClasses(i,t.parent())}.bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_getIconContainer:function(e){return e.icon?Ws(e.icon):void 0},_getTextContainer:function(e){return p("<span>").text(e.text)},_getPopoutContainer:Q,_addContentClasses:Q,_initAccessors:function(){var e=this;M(this._getAccessors(),function(t,i){e._compileAccessor(i)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(e){var t=this,i=[];return M(e.internalFields.childrenKeys,function(r,n){var a=t._dataAdapter.getNodeByKey(n);i.push(a)}),i},_hasChildren:function(e){return e&&e.internalFields.childrenKeys.length},_compileAccessor:function(e){var t="_"+e+"Getter",i="_"+e+"Setter",r=this.option(e+"Expr");if(r){if(he(r)){this[i]=function(n,a){n[r()]=a},this[t]=function(n){return n[r()]};return}}else{this[t]=Q,this[i]=Q;return}this[t]=ct(r),this[i]=Qc(r)},_createDataAdapterAccessors:function(){var e=this,t={getters:{},setters:{}};return M(this._getAccessors(),function(i,r){var n="_"+r+"Getter",a="_"+r+"Setter",s=r==="parentId"?"parentKey":r;t.getters[s]=e[n],t.setters[s]=e[a]}),t.getters.display=this._displayGetter?this._displayGetter:i=>i.text,t},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:Q,_renderItemFrame:function(e,t){var i=this.callBase.apply(this,arguments);return i.toggleClass(nk,!!this._disabledGetter(t)),i},_optionChanged:function(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(e);break;default:this.callBase(e)}}}),Su="dxdblclick",ak="dxDblClick",em=se(it,ak),tm=300,sk=Ee.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-tm},add:function(){this._handlerCount<=0&&F.on(re.getDocument(),em,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(e){var t=e.timeStamp||Date.now(),i=t-this._lastClickTimeStamp,r=i<0,n=!r&&i<tm;n?(Ri({type:Su,target:Gh(this._firstClickTarget,e.target),originalEvent:e}),this._forgetLastClick()):(this._firstClickTarget=e.target,this._lastClickTimeStamp=t)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),F.off(re.getDocument(),em))}});Bt(Su,new sk);var ok=Ee.abstract,to=Se.real(),Eu="dxscrollinit",bu="dxscrollstart",Tu="dxscroll",wu="dxscrollend",Iu="dxscrollstop",Au="dxscrollcancel",im=Ee.inherit(function(){var e=se("scroll","dxScrollEmitter");return{ctor:function(t){this._element=t,this._locked=!1;var i=this;this._proxiedScroll=function(r){i._scroll(r)},F.on(this._element,e,this._proxiedScroll)},_scroll:ok,check:function(t,i){this._locked&&i()},dispose:function(){F.off(this._element,e,this._proxiedScroll)}}}()),rm=im.inherit({ctor:function(e,t){this.callBase(e),this._timeout=t},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var e=this;this._timer=setTimeout(function(){e._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),nm=rm.inherit({ctor:function(e){this.callBase(e,400),this._lastWheelDirection=null},check:function(e,t){this._checkDirectionChanged(e),this.callBase(e,t)},_checkDirectionChanged:function(e){if(!_t(e)){this._lastWheelDirection=null;return}var t=e.shiftKey||!1,i=this._lastWheelDirection!==null&&t!==this._lastWheelDirection;this._lastWheelDirection=t,this._locked=this._locked&&!i}}),Du=rm.inherit({ctor:function(e){this.callBase(e,400)}});(function(){var e=to.ios&&Dn(to.version,[8])>=0,t=to.android&&Dn(to.version,[5])>=0;!(e||t)||(Du=im.inherit({_scroll:function(){this._locked=!0;var i=this;Qt(this._scrollFrame),this._scrollFrame=En(function(){i._locked=!1})},check:function(i,r){Qt(this._scrollFrame),Qt(this._checkFrame);var n=this,a=this.callBase;this._checkFrame=En(function(){a.call(n,i,r),n._locked=!1})},dispose:function(){this.callBase(),Qt(this._scrollFrame),Qt(this._checkFrame)}}))})();var lk=Hn.inherit(function(){var e=Math.round(1e3/60);return{ctor:function(t){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new Du(t),this._wheelLocker=new nm(t)},validate:function(){return!0},configure:function(t){t.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new Du(t.scrollTarget),this._wheelLocker=new nm(t.scrollTarget)),this.callBase(t)},_init:function(t){this._wheelLocker.check(t,function(){_t(t)&&this._accept(t)}.bind(this)),this._pointerLocker.check(t,function(){var i=this.isNative&&Pi(t);!_t(t)&&!i&&this._accept(t)}.bind(this)),this._fireEvent(Eu,t),this._prevEventData=Ue(t)},move:function(t){this.callBase.apply(this,arguments),t.isScrollingEvent=this.isNative||t.isScrollingEvent},_start:function(t){this._savedEventData=Ue(t),this._fireEvent(bu,t),this._prevEventData=Ue(t)},_move:function(t){var i=Ue(t);this._fireEvent(Tu,t,{delta:Bi(this._prevEventData,i)});var r=Bi(this._savedEventData,i);r.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=Ue(t)},_end:function(t){var i=Bi(this._prevEventData,Ue(t)),r={x:0,y:0};if(!_t(t)&&i.time<100){var n=Bi(this._savedEventData,this._prevEventData),a=e/n.time;r={x:n.x*a,y:n.y*a}}this._fireEvent(wu,t,{velocity:r})},_stop:function(t){this._fireEvent(Iu,t)},cancel:function(t){this.callBase.apply(this,arguments),this._fireEvent(Au,t)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());Nr({emitter:lk,events:[Eu,bu,Tu,wu,Iu,Au]});var Jr={init:Eu,start:bu,move:Tu,end:wu,stop:Iu,cancel:Au},dk=Ee.abstract,am=Ee.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Qt(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=En(this._proxiedStepCore)},_step:dk,_isFinished:Q,_stop:Q,_complete:Q,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),Ou="dxScrollbar",sm="dx-scrollable-scrollbar",om="".concat(sm,"-active"),uk="dx-scrollable-scroll",ck="dx-scrollable-scroll-content",hk="dx-scrollbar-hoverable",lm="horizontal",fk=15,Ci={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},Qr=null,dm=ei.inherit({_getDefaultOptions:function(){return H(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:Ci.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(hk,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=p("<div>").addClass(uk),p("<div>").addClass(ck).appendTo(this._$thumb),this.$element().addClass(sm).append(this._$thumb)},isThumb:function(e){return!!this.$element().find(e).length},_isHoverMode:function(){var e=this.option("visibilityMode");return(e===Ci.onHover||e===Ci.always)&&this.option("expandable")},_renderDirection:function(){var e=this.option("direction");this.$element().addClass("dx-scrollbar-"+e),this._dimension=e===lm?"width":"height",this._prop=e===lm?"left":"top"},_attachPointerDownHandler:function(){F.on(this._$thumb,se(tt.down,Ou),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(om),Qr=this},feedbackOff:function(){this.$element().removeClass(om),Qr=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(e){this.option("visibilityMode")===Ci.onScroll&&this._$thumb.css("opacity"),e=this._adjustVisibility(e),this.option().visible=e,this._$thumb.toggleClass("dx-state-invisible",!e)},_adjustVisibility:function(e){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case Ci.onScroll:break;case Ci.onHover:e=e||!!this._isHovered;break;case Ci.never:e=!1;break;case Ci.always:e=!0}return e},moveTo:function(e){if(!this._isHidden()){De(e)&&(e=e[this._prop]||0);var t={};t[this._prop]=this._calculateScrollBarPosition(e),ht(this._$thumb,t)}},_calculateScrollBarPosition:function(e){return-e*this._thumbRatio},_update:function(){var e=Math.round(this.option("containerSize")),t=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),r=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=e,r=t),this._baseContainerToContentRatio=r?i/r:i,this._realContainerToContentRatio=t?e/t:e;var n=Math.round(Math.max(Math.round(e*this._realContainerToContentRatio),fk));this._thumbRatio=(e-n)/(this.option("scaleRatio")*(t-e)),this.option(this._dimension,n/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===Ci.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(e){return De(e)?e[this._dimension]||0:e},_clean:function(){this.callBase(),this===Qr&&(Qr=null),F.off(this._$thumb,"."+Ou)},_optionChanged:function(e){if(!this._isHidden())switch(e.name){case"containerSize":case"contentSize":this.option()[e.name]=this._normalizeSize(e.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:Pr(function(){this._adjustVisibility()&&this.option("visible",!0)})});Jt.add(function(){F.subscribeGlobal(re.getDocument(),se(tt.up,Ou),function(){Qr&&Qr.feedbackOff()})});var um="dxSimulatedScrollable",pk="dxScrollableStrategy",io=um+"Cursor",ku=um+"Keyboard",Lu="dx-scrollable-simulated",_k="dx-scrollable-scrollbars-alwaysvisible",vk="dx-scrollable-scrollbar",ai="vertical",ut="horizontal",ro=.92,cm=.5,hm=1,gk=Math.round(1e3/60),mk=40,xk=500,yk=hm/5,Ck=400,Sk=Ck/gk,Ek=(1-Math.pow(ro,Sk))/(1-ro),Si={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},fm=am.inherit({ctor:function(e){this.callBase(),this.scroller=e},VELOCITY_LIMIT:hm,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?ro:cm},_complete:function(){this.scroller._scrollComplete()}}),bk=fm.inherit({VELOCITY_LIMIT:yk,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return ro},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),pm=Ee.inherit({ctor:function(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()},_initOptions:function(e){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=e.direction===ut?"x":"y",this._prop=e.direction===ut?"left":"top",this._dimension=e.direction===ut?"width":"height",this._scrollProp=e.direction===ut?"scrollLeft":"scrollTop",M(e,(t,i)=>{this["_"+t]=i})},_initAnimators:function(){this._inertiaAnimator=new fm(this),this._bounceAnimator=new bk(this)},_initScrollbar:function(){this._scrollbar=new dm(p("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(e){return e===!0?"onScroll":e===!1?"never":e},_scrollStep:function(e){var t=this._location;this._location+=e,this._suppressBounce(),this._move(),!(Math.abs(t-this._location)<1)&&F.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(e){return e=e!==void 0?e:this._location,Math.max(Math.min(e,this._maxOffset),this._minOffset)},_move:function(e){this._location=e!==void 0?e*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var e=this._location;this._$container[this._scrollProp](-e/this._getScaleRatio()),this._moveContentByTranslator(e)},_getScaleRatio:function(){if(Te()&&!this._scaleRatio){var e=this._$element.get(0),t=this._getRealDimension(e,this._dimension),i=this._getBaseDimension(e,this._dimension);this._scaleRatio=Math.round(t/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(e,t){return Math.round(rt(e)[t])},_getBaseDimension:function(e,t){var i="offset"+Jo(t);return e[i]},_moveContentByTranslator:function(e){var t,i=-this._maxScrollPropValue;if(e>0?t=e:e<=i?t=e-i:t=e%1,this._translateOffset!==t){var r={};if(r[this._prop]=t,this._translateOffset=t,t===0){hs(this._$content);return}ht(this._$content,r)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var e=this._bounceLocation=this._boundLocation(),t=e-this._location;this._velocity=t/Ek},_inBounds:function(e){return e=e!==void 0?e:this._location,this._boundLocation(e)===e},_crossBoundOnNextStep:function(){var e=this._location,t=e+this._velocity;return e<this._minOffset&&t>=this._minOffset||e>this._maxOffset&&t<=this._maxOffset},_initHandler:function(e){this._stopScrolling(),this._prepareThumbScrolling(e)},_stopScrolling:Pr(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(e){if(!_t(e.originalEvent)){var t=p(e.originalEvent.target),i=this._isScrollbar(t);i&&this._moveToMouseLocation(e),this._thumbScrolling=i||this._isThumb(t),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(t),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(e){return this._isThumb(e)},_moveToMouseLocation:function(e){var t=e["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+t/this._containerToContentRatio()-this._$container.height()/2;this._scrollStep(-Math.round(i))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-Math.round(e[this._axis]/this._containerToContentRatio())),this._scrollBy(e))},_scrollBy:function(e){e=e[this._axis],this._inBounds()||(e*=cm),this._scrollStep(e)},_scrollByHandler:function(e){this._scrollBy(e),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(e){return this._completeDeferred=new ee,this._velocity=e[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),Lr(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),Qi(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(bt(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=Math.round(this._getMaxOffset()),this._minOffset=Math.round(this._getMinOffset())},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:th(function(){var e=this._containerSize(),t=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),r=this._getBaseDimension(this._$content.get(0),this._dimension);Qi(()=>{this._scrollbar.option({containerSize:e,contentSize:t,baseContainerSize:i,baseContentSize:r,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:Pr(th(Pr(function(){var e=this._boundLocation(),t=e!==this._location;this._location=e,this._move(),t&&this._scrollAction()}))),_createActionsHandler:function(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var e=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",t=this._getRealDimension(this._$content.get(0),this._dimension);if(!e){var i=this._$content[0]["scroll"+Jo(this._dimension)]*this._getScaleRatio();t=Math.max(i,t)}return t},_validateEvent:function(e){var t=p(e.originalEvent.target);return this._isThumb(t)||this._isScrollbar(t)||this._isContent(t)},_isThumb:function(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)},_isScrollbar:function(e){return this._scrollByThumb&&e&&e.is(this._$scrollbar)},_isContent:function(e){return this._scrollByContent&&!!e.closest(this._$element).length},_reachedMin:function(){return this._location<=this._minOffset},_reachedMax:function(){return this._location>=this._maxOffset},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:Q}),jt,en,_m=Ee.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=e._$container,this._$wrapper=e._$wrapper,this._$content=e._$content,this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e)},render:function(){this._$element.addClass(Lu),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(ut)&&this._createScroller(ut),this._isDirection(ai)&&this._createScroller(ai),this._$element.toggleClass(_k,this.option("showScrollbar")==="always")},_createScroller:function(e){this._scrollers[e]=new pm(this._scrollerOptions(e))},_scrollerOptions:function(e){return{direction:e,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(e){for(var t in this._scrollers){var i=this._getPropByDirection(t);if(P(e[i])){var r=this._scrollers[t];e[i]*=r._getScaleRatio()}}return e},_isAnyThumbScrolling:function(e){var t=!1;return this._eventHandler("isThumbScrolling",e).done(function(i,r){t=i||r}),t},handleInit:function(e){this._suppressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e)},_suppressDirections:function(e){if(_t(e.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(t,i){var r=t._validateEvent(e);this._validDirections[i]=r})},_prepareDirections:function(e){e=e||!1,this._validDirections={},this._validDirections[ut]=e,this._validDirections[ai]=e},_eachScroller:function(e){e=e.bind(this),M(this._scrollers,function(t,i){e(i,t)})},handleStart:function(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)},_saveActive:function(){en=this},_resetActive:function(){en===this&&(en=null)},handleMove:function(e){if(this._isLocked()){e.cancel=!0,this._resetActive();return}this._saveActive(),e.preventDefault&&e.preventDefault(),this._adjustDistance(e,e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta)},_adjustDistance:function(e,t){t.x*=this._validDirections[ut],t.y*=this._validDirections[ai];var i=this._tryGetDevicePixelRatio();i&&_t(e.originalEvent)&&(t.x=Math.round(t.x/i*100)/100,t.y=Math.round(t.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if(Te())return Oe().devicePixelRatio},handleEnd:function(e){return this._resetActive(),this._refreshCursorState(e.originalEvent&&e.originalEvent.target),this._adjustDistance(e,e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)},handleCancel:function(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){F.off(this._$element,".".concat(ku)),!this.option("disabled")&&this.option("useKeyboard")&&F.on(this._$element,se("keydown",ku),this._keyDownHandler.bind(this))},_keyDownHandler:function(e){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{pi(e)===Si.TAB&&this._eachScroller(i=>{i._updateHandler()})}),!!this._$container.is(re.getActiveElement())){var t=!0;switch(pi(e)){case Si.DOWN:this._scrollByLine({y:1});break;case Si.UP:this._scrollByLine({y:-1});break;case Si.RIGHT:this._scrollByLine({x:1});break;case Si.LEFT:this._scrollByLine({x:-1});break;case Si.PAGE_DOWN:this._scrollByPage(1);break;case Si.PAGE_UP:this._scrollByPage(-1);break;case Si.HOME:this._scrollToHome();break;case Si.END:this._scrollToEnd();break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}},_scrollByLine:function(e){var t=this._tryGetDevicePixelRatio(),i=mk;t&&(i=Math.abs(i/t*100)/100),this.scrollBy({top:(e.y||0)*-i,left:(e.x||0)*-i})},_scrollByPage:function(e){var t=this._wheelProp(),i=this._dimensionByProp(t),r={};r[t]=e*-this._$container[i](),this.scrollBy(r)},_dimensionByProp:function(e){return e==="left"?"width":"height"},_getPropByDirection:function(e){return e===ut?"left":"top"},_scrollToHome:function(){var e=this._wheelProp(),t={};t[e]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var e=this._wheelProp(),t=this._dimensionByProp(e),i={};i[e]=this._$content[t]()-this._$container[t](),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(e){var t=this._createActionByOption(e);return()=>{t(H(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:e,vertical:t}=this._scrollers,i=this._getScrollOffset();return this._scrollOffset={top:t&&i.top,left:e&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:e&&e._reachedMax(),reachedRight:e&&e._reachedMin(),reachedTop:t&&t._reachedMax(),reachedBottom:t&&t._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(e){var t=[].slice.call(arguments).slice(1),i=et(this._scrollers,r=>r["_"+e+"Handler"].apply(r,t));return ye.apply(p,i).promise()},location:function(){var e=bt(this._$content);return e.top-=this._$container.scrollTop(),e.left-=this._$container.scrollLeft(),e},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){F.off(this._$element,".".concat(io)),!this.option("disabled")&&this._isHoverMode()&&(F.on(this._$element,se("mouseenter",io),this._cursorEnterHandler.bind(this)),F.on(this._$element,se("mouseleave",io),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(e){e=e||{},e.originalEvent=e.originalEvent||{},!(en||e.originalEvent._hoverHandled)&&(jt&&jt._cursorLeaveHandler(),jt=this,this._eventHandler("cursorEnter"),e.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(e){jt!==this||en===jt||(this._eventHandler("cursorLeave"),jt=null,this._refreshCursorState(e&&e.relatedTarget))},_refreshCursorState:function(e){if(!(!this._isHoverMode()&&(!e||en))){var t=p(e),i=t.closest(".".concat(Lu,":not(.dx-state-disabled)")),r=i.length&&i.data(pk);jt&&jt!==r&&jt._cursorLeaveHandler(),r&&r._cursorEnterHandler()}},update:function(){var e=this._eventHandler("update").done(this._updateAction);return ye(e,Lr(()=>{var t=this._allowedDirections();return Qi(()=>{var i=t.vertical?"pan-x":"";i=t.horizontal?"pan-y":i,i=t.vertical&&t.horizontal?"none":i,this._$container.css("touchAction",i)}),ye().promise()}))},_allowedDirections:function(){var e=this.option("bounceEnabled"),t=this._scrollers[ai],i=this._scrollers[ut];return{vertical:t&&(t._minOffset<0||e),horizontal:i&&(i._minOffset<0||e)}},_updateBounds:function(){this._scrollers[ut]&&this._scrollers[ut]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==ai},updateRtlPosition:function(e){e&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()&&Lr(()=>{var t=this._getMaxOffset().left-this._rtlConfig.scrollRight;t<=0&&(t=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),Qi(()=>{this._getScrollOffset().left!==t&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:t}),this._rtlConfig.skipUpdating=!1)})})},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:e,scrollLeft:t}=this._$container.get(0),i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-t),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return Te()?Oe().devicePixelRatio:1},scrollBy:function(e){var t=this._scrollers[ai],i=this._scrollers[ut];t&&(e.top=t._boundLocation(e.top+t._location)-t._location),i&&(e.left=i._boundLocation(e.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:e.left,y:e.top}),this._endAction(),this._updateRtlConfig()},validate:function(e){return _t(e)&&Tn(e)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:_t(e)?this._validateWheel(e):this._validateMove(e)},_validateWheel:function(e){var t=this._scrollers[this._wheelDirection(e)],i=t._reachedMin(),r=t._reachedMax(),n=!i||!r,a=!i&&!r,s=i&&e.delta>0,o=r&&e.delta<0,l=n&&(a||s||o);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},xk)),l},_validateMove:function(e){return!this.option("scrollByContent")&&!p(e.target).closest(".".concat(vk)).length?!1:this._allowedDirection()},getDirection:function(e){return _t(e)?this._wheelDirection(e):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===ut?"left":"top"},_wheelDirection:function(e){switch(this.option("direction")){case ut:return ut;case ai:return ai;default:return e&&e.shiftKey?ut:ai}},dispose:function(){this._resetActive(),jt===this&&(jt=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(Lu),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){F.off(this._$element,".".concat(io)),F.off(this._$container,".".concat(ku))}}),no=Yt(function(){var e=re.getDocument();e.body.insertAdjacentHTML("beforeend",`<div style='direction: rtl;
       position: absolute; left: 0; top: -1; overflow: hidden; width: 1px;
       height: 1px;'><div style='width: 2px; height: 1px;'></div></div>`);var t=e.body.lastElementChild,i=t.scrollLeft>0;t.scrollLeft=-1;var r=t.scrollLeft<0,n={decreasing:r||i,positive:!r};return e.body.removeChild(t),n}),vm="dxNativeScrollable",Pu="dx-scrollable-native",Tk="dx-scrollable-scrollbar-simulated",wk="dx-scrollable-scrollbars-hidden",ua="vertical",ao="horizontal",Ik=500,Bu=Ee.inherit({ctor:function(e){this._init(e)},_init:function(e){this._component=e,this._$element=e.$element(),this._$container=e._$container,this._$content=e._$content,this._direction=e.option("direction"),this._useSimulatedScrollbar=e.option("useSimulatedScrollbar"),this._showScrollbar=e.option("showScrollbar"),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e),this._isScrollInverted=e._isScrollInverted.bind(e)},render:function(){var e=Se.real(),t=e.platform;this._$element.addClass(Pu).addClass(Pu+"-"+t).toggleClass(wk,!this._showScrollbar),this._showScrollbar&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(e){e&&this.option("rtlEnabled")&&this._showScrollbar&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(Tk),this._renderScrollbar(ua),this._renderScrollbar(ao)},_renderScrollbar:function(e){!this._isDirection(e)||(this._scrollbars[e]=new dm(p("<div>").appendTo(this._$element),{direction:e,expandable:this._component.option("scrollByThumb")}))},handleInit:Q,handleStart:Q,handleMove:function(e){if(this._isLocked()){e.cancel=!0;return}this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0)},handleEnd:Q,handleCancel:Q,handleStop:Q,_eachScrollbar:function(e){e=e.bind(this),M(this._scrollbars||{},function(t,i){e(i,t)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:e,top:t}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isScrollInverted()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isScrollInverted()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection(ua)?t>=0:void 0,reachedBottom:this._isDirection(ua)?Math.abs(t)>=this._getMaxOffset().top:void 0}},_getScrollOffset:function(){var{top:e,left:t}=this.location();return{top:-e,left:this._normalizeOffsetLeft(-t)}},_normalizeOffsetLeft(e){return this._isScrollInverted()?no().positive?this._getMaxOffset().left-e:this._getMaxOffset().left+e:e},_isReachedLeft:function(e){return this._isDirection(ao)?e>=0:void 0},_isReachedRight:function(e){return this._isDirection(ao)?Math.abs(e)>=this._getMaxOffset().left:void 0},handleScroll:function(e){this._eventForUserAction=e,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:e,left:t}=this._getScrollOffset();this._eachScrollbar(function(i){i.moveTo({top:-e,left:-t}),i.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar(function(e){e.option("visible",!1)})}.bind(this),Ik)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:Q,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:this._$container.height(),width:this._$container.width()},this._componentContentSize={height:this._component.$content().height(),width:this._component.$content().width()},this._contentSize={height:this._$content.height(),width:this._$content.width()}},_updateScrollbars:function(){this._eachScrollbar(function(e,t){var i=t===ua?"height":"width";e.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),e.update()})},_allowedDirections:function(){return{vertical:this._isDirection(ua)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(ao)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var e=this._$element.get(0).className,t=new RegExp(Pu+"\\S*","g");t.test(e)&&this._$element.removeClass(e.match(t).join(" ")),F.off(this._$element,"."+vm),F.off(this._$container,"."+vm),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(e){e.$element().remove()})},scrollBy:function(e){var t=this.location();this._$container.scrollTop(Math.round(-t.top-e.top)),this._$container.scrollLeft(Math.round(-t.left-this._getScrollSign()*e.left))},_getScrollSign(){return this._isScrollInverted()&&no().positive?-1:1},validate:function(e){return this.option("disabled")||_t(e)&&this._isScrolledInMaxDirection(e)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(e){var t=this._$container.get(0),i;return e.delta>0?i=e.shiftKey?!t.scrollLeft:!t.scrollTop:e.shiftKey?i=t.scrollLeft>=this._getMaxOffset().left:i=t.scrollTop>=this._getMaxOffset().top,i},getDirection:function(){return this._allowedDirection()}}),gm=function(){return[{device:function(){return!In},options:{useNative:!1}},{device:function(e){return!Se.isSimulator()&&Se.real().deviceType==="desktop"&&e.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:wn,showScrollbar:"onHover"}}]},Xt="dxScrollable",Ak="dxScrollableStrategy",Ru="dx-scrollable",Dk="dx-scrollable-disabled",Ok="dx-scrollable-container",kk="dx-scrollable-wrapper",Mu="dx-scrollable-content",Mt="vertical",si="horizontal",Fu="both",Nu=or.inherit({_getDefaultOptions:function(){return H(this.callBase(),{disabled:!1,onScroll:null,direction:Mt,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(gm(),[{device:function(){return In&&Se.real().platform==="android"&&!Fe.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(e){this.callBase(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(e){e?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var e=this.$element().addClass(Ru),t=this._$container=p("<div>").addClass(Ok),i=this._$wrapper=p("<div>").addClass(kk),r=this._$content=p("<div>").addClass(Mu);re.hasDocumentProperty("onbeforeactivate")&&Fe.msie&&Fe.version<12&&F.on(e,se("beforeactivate",Xt),function(n){p(n.target).is(ja)||n.preventDefault()}),r.append(e.contents()).appendTo(t),t.appendTo(i),i.appendTo(e)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(e){this._strategy.updateRtlPosition(e)},_getMaxOffset:function(){var{scrollWidth:e,clientWidth:t,scrollHeight:i,clientHeight:r}=this._container().get(0);return{left:e-t,top:i-r}},_attachEventHandlers:function(){var e=this._strategy,t={getDirection:e.getDirection.bind(e),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};F.off(this._$wrapper,"."+Xt),F.on(this._$wrapper,se(Jr.init,Xt),t,this._initHandler.bind(this)),F.on(this._$wrapper,se(Jr.start,Xt),e.handleStart.bind(e)),F.on(this._$wrapper,se(Jr.move,Xt),e.handleMove.bind(e)),F.on(this._$wrapper,se(Jr.end,Xt),e.handleEnd.bind(e)),F.on(this._$wrapper,se(Jr.cancel,Xt),e.handleCancel.bind(e)),F.on(this._$wrapper,se(Jr.stop,Xt),e.handleStop.bind(e)),F.off(this._$container,"."+Xt),F.on(this._$container,se("scroll",Xt),e.handleScroll.bind(e))},_validate:function(e){return this._isLocked()?!1:(this._updateIfNeed(),this._strategy.validate(e))},_initHandler:function(){var e=this._strategy;e.handleInit.apply(e,arguments)},_renderDisabledState:function(){this.$element().toggleClass(Dk,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+si).removeClass("dx-scrollable-"+Mt).removeClass("dx-scrollable-"+Fu).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(Ak,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new Bu(this):new _m(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(e){switch(e.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByContent":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":break;case"width":this.callBase(e),this._updateRtlPosition();break;default:this.callBase(e)}},_resetInactiveDirection:function(){var e=this._getInactiveProp();if(!(!e||!Te())){var t=this.scrollOffset();t[e]=0,this.scrollTo(t)}},_getInactiveProp:function(){var e=this.option("direction");if(e===Mt)return"left";if(e===si)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(e){if(De(e)){var t=$t(e.left,e.x),i=$t(e.top,e.y);return{left:P(t)?-t:void 0,top:P(i)?-i:void 0}}else{var r=this.option("direction");return{left:r!==Mt?-e:void 0,top:r!==si?-e:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(e){var t=this.option("direction");return e===Mt?t!==si:e===si?t!==Mt:t===e},_updateAllowedDirection:function(){var e=this._strategy._allowedDirections();this._isDirection(Fu)&&e.vertical&&e.horizontal?this._allowedDirectionValue=Fu:this._isDirection(si)&&e.horizontal?this._allowedDirectionValue=si:this._isDirection(Mt)&&e.vertical?this._allowedDirectionValue=Mt:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},_container:function(){return this._$container},$content:function(){return this._$content},content:function(){return Ie(this._$content)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:e,rtlEnabled:t}=this.option();return e&&t},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return this._$container.height()},scrollHeight:function(){return this.$content().outerHeight()},clientWidth:function(){return this._$container.width()},scrollWidth:function(){return this.$content().outerWidth()},update:function(){if(!!this._strategy)return ye(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(e){e=this._normalizeLocation(e),!(!e.top&&!e.left)&&(this._updateIfNeed(),this._strategy.scrollBy(e))},scrollTo:function(e){e=this._normalizeLocation(e),this._updateIfNeed();var t=this._location();this.option("useNative")||(e=this._strategy._applyScaleRatio(e),t=this._strategy._applyScaleRatio(t)),this._isScrollInverted()&&(t.left=this._getScrollSign()*t.left-this._getMaxOffset().left);var i=this._normalizeLocation({left:t.left-$t(e.left,t.left),top:t.top-$t(e.top,t.top)});!i.top&&!i.left||this._strategy.scrollBy(i)},_getScrollSign:()=>no().positive?-1:1,_isScrollInverted:function(){var{rtlEnabled:e,useNative:t}=this.option(),{decreasing:i,positive:r}=no();return t&&e&&i^r},scrollToElement:function(e,t){var i=p(e),r=this.$content().find(e).length,n=i.parents("."+Ru).length-i.parents("."+Mu).length==0;if(!(!r||!n)){var a={top:0,left:0},s=this.option("direction");s!==Mt&&(a.left=this.getScrollElementPosition(i,si,t)),s!==si&&(a.top=this.getScrollElementPosition(i,Mt,t)),this.scrollTo(a)}},scrollToElementTopLeft:function(e){var t=p(e),i=this.$content().find(e).length,r=t.parents("."+Ru).length-t.parents("."+Mu).length==0;if(!(!i||!r)){var n={top:0,left:0},a=this.option("direction");if(a!==Mt){var s=this._elementPositionRelativeToContent(t,"left");n.left=this.option("rtlEnabled")===!0?s+t.outerWidth()-this.clientWidth():s,this._isRtlNativeStrategy()&&(n.left+=this._container().get(0).offsetWidth-this._container().get(0).clientWidth)}a!==si&&(n.top=this._elementPositionRelativeToContent(t,"top")),this.scrollTo(n)}},getScrollElementPosition:function(e,t,i){i=i||{};var r=t===Mt,n=(r?i.top:i.left)||0,a=(r?i.bottom:i.right)||0,s=this._elementPositionRelativeToContent(e,r?"top":"left"),o=s,l=e[r?"outerHeight":"outerWidth"](),d=r?this.scrollTop():this.scrollLeft(),u=this._container().get(0)[r?"clientHeight":"clientWidth"],c=d-o+n,h=d-o-l+u-a;return c<=0&&h>=0?d:d-(Math.abs(c)>Math.abs(h)?h:c)},_elementPositionRelativeToContent:function(e,t){for(var i=0;this._hasScrollContent(e);)i+=e.position()[t],e=e.offsetParent();return i},_hasScrollContent:function(e){var t=this.$content();return e.closest(t).length&&!e.is(t)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1}});Ge(Xt,Nu);var ji="dx-treeview",St="".concat(ji,"-node"),Ei="".concat(St,"-container"),Hu="".concat(St,"-loadindicator"),mr="".concat(St,"-container-opened"),ca="".concat(St,"-is-leaf"),ot="".concat(ji,"-item"),Lk="".concat(ot,"-with-checkbox"),Pk="".concat(ot,"-without-checkbox"),Bk="".concat(ot,"-data"),tn="".concat(ji,"-toggle-item-visibility"),Rk="".concat(ji,"-loadindicator"),Mk="".concat(ji,"-loadindicator-wrapper"),$u="".concat(ji,"-toggle-item-visibility-opened"),Vu="".concat(ji,"-select-all-item"),mm="dx-state-invisible",ha="dx-state-disabled",Fk="dx-state-selected",zu="dxTreeView_expand",so="data-item-id",Nk=Qg.inherit({_supportedKeys:function(e){var t=n=>{var a=p(this.option("focusedElement"));if(!!a.length){n.target=a,n.currentTarget=a,this._itemClickHandler(n,a.children("."+ot));var s=this._getEventNameByOption(this.option("expandEvent")),o=s===se(it,zu);o&&this._expandEventHandler(n)}},i=n=>{n.preventDefault();var a=p(this.option("focusedElement")),s=this._getCheckBoxInstance(a);if(!s.option("disabled")){var o=s.option("value");this._updateItemSelection(!o,a.find("."+ot).get(0),!0)}},r=function(n,a){if(!!this.option("expandAllEnabled")){a.preventDefault();var s=p(this.option("focusedElement"));if(!!s.length){var o=this._getItemData(s.find(".".concat(ot)));this._toggleExpandedNestedItems([o],n)}}};return H(this.callBase(),{enter:this._showCheckboxes()?i:t,space:this._showCheckboxes()?i:t,asterisk:r.bind(this,!0),minus:r.bind(this,!1)})},_toggleExpandedNestedItems:function(e,t){if(!!e)for(var i=0,r=e.length;i<r;i++){var n=e[i],a=this._dataAdapter.getNodeByItem(n);this._toggleExpandedState(a,t),this._toggleExpandedNestedItems(n.items,t)}},_getNodeElement:function(e,t){var i=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(".".concat(St)).each(function(){var n=p(this),a=n.attr(so);t.$nodeByKey[a]=n})),t.$nodeByKey[i]||p();var r=this.$element().get(0).querySelector("[".concat(so,'="').concat(i,'"]'));return p(r)},_activeStateUnit:"."+ot,_widgetClass:function(){return ji},_getDefaultOptions:function(){var e=H(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:xe.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return H(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_initSelectedItems:Q,_syncSelectionOptions:rh,_fireSelectionChanged:function(){var e=this._selectionChangePromise;ye(e).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,t){if(t==="none"||e==="none"){this.repaint();return}var i=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":i||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":i&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}},_removeSelection:function(){var e=this;M(this._dataAdapter.getFullData(),function(t,i){!e._hasChildren(i)||e._dataAdapter.toggleSelection(i.internalFields.key,!1,!0)})},_optionChanged:function(e){var{name:t,value:i,previousValue:r}=e;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",i);break;case"showCheckBoxesMode":this._checkBoxModeChange(i,r);break;case"scrollDirection":this._scrollableContainer.option("direction",i);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(e){e&&e.length&&this.option("items",e)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return he(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var t=this.option("createChildren").call(this,e);return Array.isArray(t)?new ee().resolve(t).promise():t&&he(t.then)?At(t):new ee().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){!this._treeViewLoadIndicator||(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=p("<div>").addClass(Rk),this._createComponent(this._treeViewLoadIndicator,ti,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var i=p("<div>").addClass(Mk);this._createTreeViewLoadIndicator().appendTo(i),this.itemsContainer().append(i),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",e=>{this.option().items=this.option("items").concat(e),this._dataAdapter.addItem(e),!!this._dataAdapter.isFiltered(e)&&this._updateLevel(this._parentIdGetter(e))}).on("removed",e=>{var t=this._dataAdapter.getNodeByKey(e);P(t)&&(this.option("items")[this._dataAdapter.getIndexByKey(t.internalFields.key)]=0,this._markChildrenItemsToRemove(t),this._removeItems(),this._dataAdapter.removeItem(e),this._updateLevel(this._parentIdGetter(t)))})},_markChildrenItemsToRemove:function(e){var t=e.internalFields.childrenKeys;M(t,(i,r)=>{this.option("items")[this._dataAdapter.getIndexByKey(r)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(r))})},_removeItems:function(){var e=H(!0,[],this.option("items")),t=0;M(e,(i,r)=>{r||(this.option("items").splice(i-t,1),t++)})},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){return e.length?e.children(".".concat(Ei)):this._scrollableContainer?this._scrollableContainer.$content().children():p()},_getContainerByParentKey:function(e){var t=this._dataAdapter.getNodeByKey(e),i=t?this._getNodeElement(t):[];this._getOldContainer(i).remove();var r=this._renderNodeContainer(i);return this._isRootLevel(e)&&(this._scrollableContainer||this._renderScrollableContainer(),this._scrollableContainer.$content().append(r)),r},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();this._scrollableContainer.$content().append(e),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var e=this.getDataSource(),t=e&&!e.isLoaded();this._scrollableContainer&&Te()&&this._scrollableContainer.update(),t||this.callBase(),this._scrollableContainer&&Te()&&this._scrollableContainer.update()},_renderScrollableContainer:function(){this._scrollableContainer=this._createComponent(p("<div>").appendTo(this.$element()),Nu,{direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var t=p("<ul>").addClass(Ei);if(this.setAria("role","group",t),e&&e.length){var i=this._getItemData(e.children("."+ot));this._expandedGetter(i)&&t.addClass(mr),t.appendTo(e)}return t},_createDOMElement:function(e,t){var i=p("<li>").addClass(St).attr(so,this._encodeString(t.internalFields.key)).prependTo(e);return this.setAria({role:"treeitem",label:this._displayGetter(t.internalFields.item)||"",expanded:t.internalFields.expanded||!1,level:this._getLevel(e)},i),i},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_selectAllEnabled:function(){return this.option("showCheckBoxesMode")==="selectAll"&&!this._isSingleSelection()},_renderItems:function(e,t){for(var i=t.length-1,r=i;r>=0;r--)this._renderItem(r,t[r],e);this._renderedItemsCount+=t.length},_renderItem:function(e,t,i){var r=this._createDOMElement(i,t),n=t.internalFields,a=this._showCheckboxes();r.addClass(a?Lk:Pk),r.toggleClass(mm,n.item.visible===!1),a&&this._renderCheckBox(r,t),this.setAria("selected",n.selected,r),this._toggleSelectedClass(r,n.selected),this.callBase(this._renderedItemsCount+e,n.item,r),n.item.visible!==!1&&this._renderChildren(r,t)},_setAriaSelected:function(){},_renderChildren:function(e,t){if(!this._hasChildren(t)){this._addLeafClass(e);return}this._renderToggleItemVisibilityIcon(e,t),!(this.option("deferRendering")&&!t.internalFields.expanded)&&this._loadSublevel(t).done(i=>{this._renderSublevel(e,this._getActualNode(t),i)})},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(e.internalFields.item)!==!1:this.callBase(e)},_loadSublevel:function(e){var t=new ee,i=this._getChildNodes(e);return i.length?t.resolve(i):this._loadNestedItems(e).done(r=>{t.resolve(this._dataAdapter.getNodesByItems(r))}),t.promise()},_renderSublevel:function(e,t,i){var r=this._renderNodeContainer(e,t),n=i.filter(s=>t.internalFields.childrenKeys.indexOf(s.internalFields.key)!==-1);if(this._renderItems(r,n),n.length&&!t.internalFields.selected){var a=n[0];this._updateParentsState(a,this._getNodeElement(a))}this._normalizeIconState(e,n.length),t.internalFields.expanded&&r.addClass(mr)},_executeItemRenderAction:function(e,t,i){var r=this._getNode(i);this._getItemRenderAction()({itemElement:i,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(r)})},_addLeafClass:function(e){e.addClass(ca)},_expandEventHandler:function(e){var t=p(e.currentTarget.parentNode);t.hasClass(ca)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer(),i=this._itemSelector();F.off(t,"."+zu,i),F.on(t,e,i,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){var t=e==="click"?it:Su;return se(t,zu)},_getNode:function(e){if(!P(e))return null;if(e.internalFields)return e;if(_n(e))return this._dataAdapter.getNodeByKey(e);var t=p(e).get(0);return t?re.isElementNode(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null},_getNodeByElement:function(e){var t=p(e).closest("."+St),i=this._decodeString(t.attr(so));return this._dataAdapter.getNodeByKey(i)},_toggleExpandedState:function(e,t,i){var r=this._getNode(e);if(!r)return new ee().reject().promise();if(r.internalFields.disabled)return new ee().reject().promise();var n=r.internalFields.expanded;if(n===t)return new ee().resolve().promise();if(this._hasChildren(r)){var a=this._getNodeElement(r);if(a.find(".".concat(Hu,":not(.").concat(mm,")")).length)return new ee().reject().promise();this._createLoadIndicator(a)}return P(t)||(t=!n),this._dataAdapter.toggleExpansion(r.internalFields.key,t),this._updateExpandedItemsUI(r,t,i)},_createLoadIndicator:function(e){var t=e.children("."+tn),i=e.children(".".concat(Ei));t.hasClass($u)||i.not(":empty").length||(this._createComponent(p("<div>").addClass(Hu),ti,{}).$element().appendTo(e),t.hide())},_renderToggleItemVisibilityIcon:function(e,t){var i=p("<div>").addClass(tn).appendTo(e);t.internalFields.expanded&&(i.addClass($u),e.parent().addClass(mr)),t.internalFields.disabled&&i.addClass(ha),this._renderToggleItemVisibilityIconClick(i,t)},_renderToggleItemVisibilityIconClick:function(e,t){var i=se(it,this.NAME);F.off(e,i),F.on(e,i,r=>{this._toggleExpandedState(t.internalFields.key,void 0,r)})},_updateExpandedItemsUI:function(e,t,i){var r=this._getNodeElement(e),n=!r.length||t&&r.is(":hidden");if(this.option("expandNodesRecursive")&&n){var a=this._getNode(e.internalFields.parentKey);a&&this._updateExpandedItemsUI(a,t,i)}var s=r.children("."+tn),o=r.children(".".concat(Ei));s.toggleClass($u,t);var l=o.length>0,d=new ee;return!t||l&&!o.is(":empty")?(this._animateNodeContainer(e,t,i,d),d.promise()):e.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,i,d),d.promise()):(this._renderSublevel(r,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,i,d),d.promise())},_loadNestedItemsWithUpdate:function(e,t,i,r){var n=this._getNodeElement(e);this._loadNestedItems(e).done(a=>{var s=this._getActualNode(e);this._renderSublevel(n,s,this._dataAdapter.getNodesByItems(a)),!(!a||!a.length)&&(this._fireContentReadyAction(),this._animateNodeContainer(s,t,i,r))})},_loadNestedItems:function(e){if(this._useCustomChildrenLoader()){var t=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(t).done(i=>{this._areNodesExists(i)||this._appendItems(i)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(i=>{this._areNodesExists(i)||this._appendItems(i)})):new ee().resolve([]).promise()},_areNodesExists:function(e,t){var i=this.keyOf(e[0]),r=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(i,r)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_animateNodeContainer:function(e,t,i,r){var n=this._getNodeElement(e),a=n.children(".".concat(Ei));e&&r&&a.length===0&&r.resolve(),a.addClass(mr);var s=a.height();Je.stop(a,!0),Je.animate(a,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:s},to:{maxHeight:t?s:0},complete:function(){a.css("maxHeight","none"),a.toggleClass(mr,t),this.setAria("expanded",t,n),this._scrollableContainer.update(),this._fireExpandedStateUpdatedEvent(t,e,i),r&&r.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(e,t,i){if(!!this._hasChildren(t)){var r=e?"onItemExpanded":"onItemCollapsed";if(P(i))this._itemDXEventHandler(i,r,{node:this._dataAdapter.getPublicNode(t)});else{var n=this._getNodeElement(t);this._itemEventHandler(n,r,{event:i,node:this._dataAdapter.getPublicNode(t)})}}},_normalizeIconState:function(e,t){var i=e.find(".".concat(Hu));if(i.length&&ti.getInstance(i).option("visible",!1),t){var r=e.find("."+tn);r.show();return}e.find("."+tn).removeClass(tn),e.addClass(ca)},_emptyMessageContainer:function(){return this._scrollableContainer?this._scrollableContainer.content():this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find(".".concat(Ei)).first(),this._$selectAllItem=p("<div>").addClass(Vu);var t=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,da,{value:t,text:this.option("selectAllText"),onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,t),e.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,t){var i=p("<div>").appendTo(e);this._createComponent(i,da,{value:t.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(t)})},_toggleSelectedClass:function(e,t){e.toggleClass(Fk,!!t)},_toggleNodeDisabledState:function(e,t){var i=this._getNodeElement(e),r=i.find("."+ot).eq(0);if(this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),r.toggleClass(ha,!!t),this._showCheckboxes()){var n=this._getCheckBoxInstance(i);n.option("disabled",!!t)}},_itemOptionChanged:function(e,t,i){var r=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(r,i)},_changeCheckboxValue:function(e){var t=p(e.element).parent("."+St),i=t.children("."+ot),r=this._getItemData(i),n=this._getNodeByElement(i),a=e.value;n&&n.internalFields.selected===a||this._updateItemSelection(a,r,e.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(e,t,i){var r=t.indexOf(e.key);return r>=0&&t.splice(r,1),i&&M(e.children,function(n,a){this._isLastSelectedBranch(a,t,!0)}.bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,t),t.length===0},_isLastRequired:function(e){var t=this.option("selectionRequired"),i=this._isSingleSelection(),r=this.getSelectedNodeKeys();if(!!t)return i?r.length===1:this._isLastSelectedBranch(e.internalFields.publicNode,r.slice(),!0)},_updateItemSelection:function(e,t,i){var r=this._getNode(t);if(!r||r.visible===!1)return!1;if(r.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(r)){if(this._showCheckboxes()){var n=this._getNodeElement(r);this._getCheckBoxInstance(n).option("value",!0)}return!1}if(e&&this._isSingleSelection()){var a=this.getSelectedNodeKeys();M(a,(l,d)=>{this._dataAdapter.toggleSelection(d,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(d))})}this._dataAdapter.toggleSelection(r.internalFields.key,e);var s=this._dataAdapter.isAllSelected(),o=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==s;return this._updateItemsUI(),this._fireItemSelectionChanged(r,i),this._fireSelectionChanged(),o&&this._fireSelectAllValueChanged(s),!0},_fireItemSelectionChanged:function(e,t){var i=t||this._findItemElementByItem(e.internalFields.item),r=t?this._itemDXEventHandler:this._itemEventHandler;r.call(this,i,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e.internalFields.item})},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e={};if(M(this._dataAdapter.getData(),(i,r)=>{var n=this._getNodeElement(r,e),a=r.internalFields.selected;!n.length||(this._toggleSelectedClass(n,a),this.setAria("selected",a,n),this._showCheckboxes()&&this._getCheckBoxInstance(n).option("value",a))}),this._selectAllEnabled()){var t=this._$selectAllItem.dxCheckBox("instance");t.option("onValueChanged",void 0),t.option("value",this._dataAdapter.isAllSelected()),t.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(e,t){if(!!t){var i=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),r=p(t.parents("."+St)[0]);if(this._showCheckboxes()){var n=i.internalFields.selected;this._getCheckBoxInstance(r).option("value",n),this._toggleSelectedClass(r,n)}i.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(i,r)}},_itemEventHandlerImpl:function(e,t,i){var r=p(e).closest("."+St).children("."+ot);return t(H(this._extendActionArgs(r),i))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var i=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(i)})},_itemClass:function(){return ot},_itemDataKey:function(){return Bk},_attachClickEvent:function(){var e="."+this._itemClass(),t="."+St+", ."+Vu,i=se(it,this.NAME),r=se(tt.down,this.NAME),n=this._itemContainer(),a=this;F.off(n,i,e),F.off(n,r,t),F.on(n,i,e,function(s){a._itemClickHandler(s,p(this))}),F.on(n,r,t,function(s){a._itemPointerDownHandler(s)})},_itemClickHandler:function(e,t){var i=this._getItemData(t),r=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(r)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!r.internalFields.selected,i,e)},_updateSelectionToFirstItem:function(e,t){for(var i=t;i>=0;){var r=p(e[i]);this._updateItemSelection(!0,r.find("."+ot).get(0)),i--}},_updateSelectionToLastItem:function(e,t){for(var i=e.length,r=t;r<i;){var n=p(e[r]);this._updateItemSelection(!0,n.find("."+ot).get(0)),r++}},_focusInHandler:function(e){if(this._updateFocusState(e,!0),this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{this._setFocusedItem(p(this.option("focusedElement")))});return}var t=this._getActiveItem();this.option("focusedElement",Ie(t.closest("."+St)))},_setFocusedItem:function(e){!e||!e.length||e.children().hasClass(ha)||this.callBase(e)},_itemPointerDownHandler:function(e){if(!!this.option("focusStateEnabled")){var t=p(e.target).closest("."+St+", ."+Vu);if(!!t.length){var i=t.hasClass(ha)?null:t;this.option("focusedElement",Ie(i))}}},_findNonDisabledNodes:function(e){return e.not(function(){return p(this).children("."+ot).hasClass(ha)})},_moveFocus:function(e,t){var i="up",r="down",n="first",a="last",s=this.option("rtlEnabled")?"right":"left",o=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(Ei)).each(function(){Je.stop(this,!0)});var l=this._findNonDisabledNodes(this._nodeElements());if(!(!l||!l.length))switch(e){case i:var d=this._prevItem(l);this.option("focusedElement",Ie(d));var u=this._getNodeItemElement(d);this._scrollableContainer.scrollToElement(u),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,u);break;case r:var c=this._nextItem(l);this.option("focusedElement",Ie(c));var h=this._getNodeItemElement(c);this._scrollableContainer.scrollToElement(h),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,h);break;case n:var f=l.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",Ie(f)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(f));break;case a:var g=l.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",Ie(g)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(g));break;case o:this._expandFocusedContainer();break;case s:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(e){return e.find("."+ot).get(0)},_nodeElements:function(){return this.$element().find("."+St).not(":hidden")},_expandFocusedContainer:function(){var e=p(this.option("focusedElement"));if(!(!e.length||e.hasClass(ca))){var t=e.find(".".concat(Ei)).eq(0);if(t.hasClass(mr)){var i=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",Ie(i)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(i));return}var r=this._getNodeByElement(e.children("."+ot));this._toggleExpandedState(r,!0)}},_getClosestNonDisabledNode:function(e){do e=e.parent().closest("."+St);while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=p(this.option("focusedElement"));if(!!e.length){var t=e.find(".".concat(Ei)).eq(0);if(!e.hasClass(ca)&&t.hasClass(mr)){var i=this._getNodeByElement(e.children("."+ot));this._toggleExpandedState(i,!1)}else{var r=this._getClosestNonDisabledNode(e);r.length&&this.option("focusedElement",Ie(r)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(r))}}},_encodeString:function(e){return Ae(e)?encodeURI(e):e},_decodeString:function(e){return Ae(e)?decodeURI(e):e},updateDimensions:function(){var e=new ee;return this._scrollableContainer?this._scrollableContainer.update().done(()=>{e.resolveWith(this)}):e.resolveWith(this),e.promise()},selectItem:function(e){return this._updateItemSelection(!0,e)},unselectItem:function(e){return this._updateItemSelection(!1,e)},expandItem:function(e){return this._toggleExpandedState(e,!0)},collapseItem:function(e){return this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(e=>{var t=this._dataAdapter.getNodeByKey(e);return this._dataAdapter.getPublicNode(t)})},getSelectedNodesKeys:function(){return Ne.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var e=this._dataAdapter;M(e.getData(),(t,i)=>e.toggleExpansion(i.internalFields.key,!0)),this.repaint()},collapseAll:function(){M(this._dataAdapter.getExpandedNodesKeys(),function(e,t){this._toggleExpandedState(t,!1)}.bind(this))},scrollToItem:function(e){var t=this._getNode(e);if(!t)return new ee().reject().promise();for(var i=[],r=t.internalFields.publicNode.parent;r!=null;)r.expanded||i.push(r.key),r=r.parent;var n=new ee;return this._expandNodes(i.reverse()).always(()=>{var a=this._getNodeElement(t);a&&a.length?(this._scrollableContainer.scrollToElementTopLeft(a),n.resolve()):n.reject()}),n.promise()},_expandNodes:function(e){if(!e||e.length===0)return new ee().resolve().promise();var t=new ee,i=e.map(r=>this.expandItem(r));return ye.apply(p,i).done(()=>t.resolve()).fail(()=>t.reject()),t.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout)}}),xm="dx-treeview",Hk="".concat(xm,"-node-container"),Gu=Nk.inherit(eo).inherit({_addWidgetPrefix:function(e){return"".concat(xm,"-").concat(e)},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer();break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return H(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var e=this.$element().find(".".concat(Hk)).first(),t;e.length&&(e.empty(),t=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(t),this._renderItems(e,t),this._fireContentReadyAction())},_itemContainer:function(e){return this._scrollableContainer&&e?p(this._scrollableContainer.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});Ge("dxTreeView",Gu);var $k="dx-list-item",ym="dx-list-group",Wu=20,Vk=(1<<Wu)-1,Cm=function(e){return(e.group<<Wu)+e.item},xr=function(e){return{group:e>>Wu,item:e&Vk}},zk=_u.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+ym)},_groupItemElements:function(e){return e.find("."+$k)},getIndexByItemData:function(e){var t=this._collectionWidget.option("items"),i=!1;return e?(e.items&&e.items.length&&(e=e.items[0]),M(t,function(r,n){if(!n.items||(M(n.items,function(a,s){return s!==e?!0:(i={group:r,item:a},!1)}),i))return!1}),i):!1},getItemDataByIndex:function(e){var t=this._collectionWidget.option("items");return Re(e)?this.itemsGetter()[e]:e&&t[e.group]&&t[e.group].items[e.item]||null},itemsGetter:function(){for(var e=[],t=this._collectionWidget.option("items"),i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},deleteItemAtIndex:function(e){var t=xr(e),i=this._collectionWidget.option("items")[t.group].items;i.splice(t.item,1)},getKeysByItems:function(e){var t=[],i;for(i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);var r=[];for(i=0;i<t.length;i++)r.push(this._collectionWidget.keyOf(t[i]));return r},getIndexByKey:function(e,t){var i=t||this._collectionWidget.option("items"),r=-1,n=this;return M(i,function(a,s){if(!!s.items){var o=n.getKeysByItems(s.items);if(M(o,function(l,d){if(n._equalKeys(d,e))return r={group:a,item:l},!1}),r!==-1)return!1}}),r},_getGroups:function(e){var t=this._collectionWidget.getDataSource(),i=t&&t.group();return i?Zn.queryByOptions(ri(e),{group:i}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(e,t){var i=[];return M(e,function(r,n){var a=function(u){var c=this.getIndexByKey(n,u),h=c&&u[c.group];if(!!h)return{groupKey:h.key,item:h.items[c.item]}}.bind(this),s=a(this._getGroups(t));if(!!s){var o=s.groupKey,l=s.item,d;M(i,function(u,c){if(c.key===o)return d=c,!1}),d||(d={key:o,items:[]},i.push(d)),d.items.push(l)}}.bind(this)),i},moveItemAtIndexToIndex:function(e,t){var i=this._collectionWidget.option("items"),r=xr(e),n=xr(t),a=i[r.group].items,s=i[n.group].items,o=a[r.item];a.splice(r.item,1),s.splice(n.item,0,o)},_isItemIndex:function(e){return e&&Re(e.group)&&Re(e.item)},_getNormalizedItemIndex:function(e){var t=p(e),i=t.closest("."+ym);return i.length?Cm({group:this._groupElements().index(i),item:this._groupItemElements(i).index(t)}):-1},_normalizeItemIndex:function(e){return Cm(e)},_denormalizeItemIndex:function(e){return xr(e)},_getItemByNormalizedIndex:function(e){var t=xr(e),i=this._groupElements().eq(t.group);return this._groupItemElements(i).eq(t.item)},_itemsFromSameParent:function(e,t){return xr(e).group===xr(t).group}}),Sm={};function Xi(e,t,i){var r=Sm,n={};n[e]=r[e]?r[e]:{},n[e][t]=i,H(r,n)}var Uu="dxswipestart",Ku="dxswipe",oo="dxswipeend",Gk={defaultItemSizeFunc:function(){return this.getElement().width()},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(e){var t=Ue(e);return(t.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=Ue(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.x-this._tickData.x)>=t.time-this._tickData.time}},Wk={defaultItemSizeFunc:function(){return this.getElement().height()},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(e){var t=Ue(e);return(t.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,e)},isFastSwipe:function(e){var t=Ue(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.y-this._tickData.y)>=t.time-this._tickData.time}},Uk={horizontal:Gk,vertical:Wk},Kk=Hn.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(e){this.callBase(e),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return Uk[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(e){this._tickData=Ue(e)},_start:function(e){this._savedEventData=Ue(e),e=this._fireEvent(Uu,e),e.cancel||(this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset)},_move:function(e){var t=this._getStrategy(),i=Ue(e),r=t.calcOffsetRatio.call(this,e);r=this._fitOffset(r,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(Ku,e,{offset:r}),e.preventDefault()},_end:function(e){var t=this._getStrategy(),i=t.calcOffsetRatio.call(this,e),r=t.isFastSwipe.call(this,e),n=i,a=this._calcTargetOffset(i,r);n=this._fitOffset(n,this.elastic),a=this._fitOffset(a,!1),this._fireEvent(oo,e,{offset:n,targetOffset:a})},_fitOffset:function(e,t){var i=this._getStrategy(),r=i.getBounds.call(this);return e<-r[0]?t?(-2*r[0]+e)/3:-r[0]:e>r[1]?t?(2*r[1]+e)/3:r[1]:e},_calcTargetOffset:function(e,t){var i;return t?(i=Math.ceil(Math.abs(e)),e<0&&(i=-i)):i=Math.round(e),i}});Nr({emitter:Kk,events:[Uu,Ku,oo]});var ju="dxListEditDecorator",jk=se(Uu,ju),Xk=se(Ku,ju),qk=se(oo,ju),yr=Ee.inherit({ctor:function(e){this._list=e,this._init()},_init:Q,_shouldHandleSwipe:!1,_attachSwipeEvent:function(e){var t={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=this._list.$element().width(),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};F.on(e.$itemElement,jk,t,this._itemSwipeStartHandler.bind(this)),F.on(e.$itemElement,Xk,this._itemSwipeUpdateHandler.bind(this)),F.on(e.$itemElement,qk,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(e){var t=p(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(t,e)},_itemSwipeUpdateHandler:function(e){var t=p(e.currentTarget);this._swipeUpdateHandler(t,e)},_itemSwipeEndHandler:function(e){var t=p(e.currentTarget);this._swipeEndHandler(t,e),this._clearSwipeCache=!0},beforeBag:Q,afterBag:Q,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(e){this._shouldHandleSwipe&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)},afterRender:Q,handleClick:Q,handleKeyboardEvents:Q,handleEnterPressing:Q,handleContextMenu:Q,_swipeStartHandler:Q,_swipeUpdateHandler:Q,_swipeEndHandler:Q,visibilityChange:Q,getExcludedSelectors:Q,dispose:Q}),Yk="dx-list-static-delete-button-container",Zk="dx-list-static-delete-button";Xi("delete","static",yr.inherit({afterBag:function(e){var t=e.$itemElement,i=e.$container,r=p("<div>").addClass(Zk);this._list._createComponent(r,Ut,{icon:"remove",onClick:function(n){n.event.stopPropagation(),this._deleteItem(t)}.bind(this),integrationOptions:{}}),i.addClass(Yk).append(r)},_deleteItem:function(e){e.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(e)}}));var Em=yr.abstract,bm="dxListEditDecorator",Tm=se(tt.down,bm),wm=se(Ln,bm),Jk="dx-list-item-content",Xu="dx-list-switchable-delete-ready",Qk="dx-list-switchable-menu-shield-positioning",eL="dx-list-switchable-delete-top-shield",tL="dx-list-switchable-delete-bottom-shield",Im="dx-list-switchable-menu-item-shield-positioning",iL="dx-list-switchable-delete-item-content-shield",rL="dx-list-switchable-delete-button-container",Am=yr.inherit({_init:function(){this._$topShield=p("<div>").addClass(eL),this._$bottomShield=p("<div>").addClass(tL),this._$itemContentShield=p("<div>").addClass(iL),F.on(this._$topShield,Tm,this._cancelDeleteReadyItem.bind(this)),F.on(this._$bottomShield,Tm,this._cancelDeleteReadyItem.bind(this)),this._list.$element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))},handleClick:function(){return this._cancelDeleteReadyItem()},_cancelDeleteReadyItem:function(){return this._$readyToDeleteItem?(this._cancelDelete(this._$readyToDeleteItem),!0):!1},_cancelDelete:function(e){this._toggleDeleteReady(e,!1)},_toggleDeleteReady:function(e,t){t===void 0&&(t=!this._isReadyToDelete(e)),this._toggleShields(e,t),this._toggleScrolling(t),this._cacheReadyToDeleteItem(e,t),this._animateToggleDelete(e,t)},_isReadyToDelete:function(e){return e.hasClass(Xu)},_toggleShields:function(e,t){this._list.$element().toggleClass(Qk,t),this._$topShield.toggle(t),this._$bottomShield.toggle(t),t&&this._updateShieldsHeight(e),this._toggleContentShield(e,t)},_updateShieldsHeight:function(e){var t=this._list.$element(),i=t.offset().top,r=t.outerHeight(),n=e.offset().top,a=e.outerHeight(),s=n-i,o=r-a-s;this._$topShield.height(Math.max(s,0)),this._$bottomShield.height(Math.max(o,0))},_toggleContentShield:function(e,t){t?e.find("."+Jk).first().append(this._$itemContentShield):this._$itemContentShield.detach()},_toggleScrolling:function(e){var t=this._list.$element().dxScrollView("instance");e?t.on("start",this._cancelScrolling):t.off("start",this._cancelScrolling)},_cancelScrolling:function(e){e.event.cancel=!0},_cacheReadyToDeleteItem:function(e,t){t?this._$readyToDeleteItem=e:delete this._$readyToDeleteItem},_animateToggleDelete:function(e,t){t?(this._enablePositioning(e),this._prepareDeleteReady(e),this._animatePrepareDeleteReady(e),F.off(e,tt.up)):(this._forgetDeleteReady(e),this._animateForgetDeleteReady(e).done(this._disablePositioning.bind(this,e)))},_enablePositioning:function(e){e.addClass(Im),F.on(e,wm,Q),F.one(e,tt.up,this._disablePositioning.bind(this,e))},_disablePositioning:function(e){e.removeClass(Im),F.off(e,wm)},_prepareDeleteReady:function(e){e.addClass(Xu)},_forgetDeleteReady:function(e){e.removeClass(Xu)},_animatePrepareDeleteReady:Em,_animateForgetDeleteReady:Em,_getDeleteButtonContainer:function(e){return e=e||this._$readyToDeleteItem,e.children("."+rL)},_deleteItem:function(e){e=e||this._$readyToDeleteItem,this._getDeleteButtonContainer(e).detach(),!e.is(".dx-state-disabled, .dx-state-disabled *")&&this._list.deleteItem(e).always(this._cancelDelete.bind(this,e))},_isRtlEnabled:function(){return this._list.option("rtlEnabled")},dispose:function(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),this.callBase.apply(this,arguments)}}),nL="dx-list-switchable-delete-button-container",aL="dx-list-switchable-delete-button-wrapper",sL="dx-list-switchable-delete-button-inner-wrapper",oL="dx-list-switchable-delete-button",Dm=200,Om=Am.inherit({_init:function(){this.callBase.apply(this,arguments);var e=p("<div>").addClass(nL),t=p("<div>").addClass(aL),i=p("<div>").addClass(sL),r=p("<div>").addClass(oL);this._list._createComponent(r,Ut,{text:xe.format("dxListEditDecorator-delete"),type:"danger",onClick:function(n){this._deleteItem(),n.event.stopPropagation()}.bind(this),integrationOptions:{}}),e.append(t),t.append(i),i.append(r),this._$buttonContainer=e},_enablePositioning:function(e){this.callBase.apply(this,arguments),Je.stop(this._$buttonContainer,!0),this._$buttonContainer.appendTo(e)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonContainer.detach()},_animatePrepareDeleteReady:function(){var e=this._isRtlEnabled(),t=this._list.$element().width(),i=this._buttonWidth(),r=e?t:-i,n=e?t-i:0;return Je.animate(this._$buttonContainer,{type:"custom",duration:Dm,from:{right:r},to:{right:n}})},_animateForgetDeleteReady:function(){var e=this._isRtlEnabled(),t=this._list.$element().width(),i=this._buttonWidth(),r=e?t-i:0,n=e?t:-i;return Je.animate(this._$buttonContainer,{type:"custom",duration:Dm,from:{right:r},to:{right:n}})},_buttonWidth:function(){return this._buttonContainerWidth||(this._buttonContainerWidth=this._$buttonContainer.outerWidth()),this._buttonContainerWidth},dispose:function(){this._$buttonContainer&&this._$buttonContainer.remove(),this.callBase.apply(this,arguments)}}),lL="dx-list-toggle-delete-switch-container",dL="dx-list-toggle-delete-switch";Xi("delete","toggle",Om.inherit({beforeBag:function(e){var t=e.$itemElement,i=e.$container,r=p("<div>").addClass(dL);this._list._createComponent(r,Ut,{icon:"toggle-delete",onClick:function(n){Je.stop(this._$buttonContainer,!1),this._toggleDeleteReady(t),n.event.stopPropagation()}.bind(this),integrationOptions:{}}),i.addClass(lL),i.append(r)}})),Xi("delete","slideButton",Om.inherit({_shouldHandleSwipe:!0,_swipeEndHandler:function(e,t){return t.targetOffset!==0&&(Je.stop(this._$buttonContainer,!1),this._toggleDeleteReady(e)),!0}}));var km={_menuEnabled:function(){return!!this._menuItems().length},_menuItems:function(){return this._list.option("menuItems")},_deleteEnabled:function(){return this._list.option("allowItemDeleting")},_fireMenuAction:function(e,t){this._list._itemEventHandlerByHandler(e,t,{},{excludeValidators:["disabled","readOnly"]})}},Lm=10,uL=Oe(),cL="dx-popover",hL="dx-popover-wrapper",fL="dx-popover-arrow",pL="dx-popover-without-title",Pm={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},bi={left:-1,top:-1,center:0,right:1,bottom:1},Bm={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},_L={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},Rm=function(e){return Be(e)?e.name:e},Mm=function(e,t){var i=e.option(t);return Rm(i)},vL=function(e,t){var i=e.option(t);return Be(i)&&i.delay},qu=function(e,t){var i=e.option("target"),r=Ae(i),n=Mm(e,t+"Event");if(!(!n||e.option("disabled"))){var a=se(n,e.NAME),s=e._createAction(function(){var u=vL(e,t+"Event");this._clearEventsTimeouts(),u?this._timeouts[t]=setTimeout(function(){e[t]()},u):e[t]()}.bind(e),{validatingTargetName:"target"}),o=function(u){s({event:u,target:p(u.currentTarget)})},l="_"+t+"EventHandler";if(r)e[l]=o,F.on(re.getDocument(),a,i,o);else{var d=Ie(p(i));e[l]=void 0,F.on(d,a,o)}}},Yu=function(e,t,i,r){var n=r||Mm(e,i+"Event");if(!!n){n=se(n,e.NAME);var a="_"+i+"EventHandler";e[a]?F.off(re.getDocument(),n,t,e[a]):F.off(Ie(p(t)),n)}},Fm=qr.inherit({_getDefaultOptions:function(){return H(this.callBase(),{target:uL,shading:!1,position:"bottom",closeOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,closeOnTargetScroll:!0,arrowPosition:"",arrowOffset:0,boundaryOffset:{h:Lm,v:Lm},_fixedPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!Te()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass(cL),this.$wrapper().addClass(hL)},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(e){Yu(this,e,"show"),Yu(this,e,"hide")},_attachEvents:function(){qu(this,"show"),qu(this,"hide")},_renderArrow:function(){this._$arrow=p("<div>").addClass(fL).prependTo(this.$overlayContent())},_documentDownHandler:function(e){return this._isOutsideClick(e)?this.callBase(e):!0},_isOutsideClick:function(e){return!p(e.target).closest(this.option("target")).length},_animate:function(e){e&&e.to&&typeof e.to=="object"&&H(e.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass(pL,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition()},_renderOverlayBoundaryOffset:Q,_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var e=this._getContainerPosition(),t=Tt.setup(this.$overlayContent(),e),i=this._getSideByLocation(t);this._togglePositionClass("dx-position-"+i),this._toggleFlippedClass(t.h.flip,t.v.flip);var r=this._isHorizontalSide()||this._isVerticalSide();r&&this._renderArrowPosition(i)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionSide),ht(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){if(!!this.$content()){var e=Tt.calculate(this.$overlayContent(),this._getContainerPosition());if(e.h.oversize>0&&this._isHorizontalSide()&&!e.h.fit){var t=this.$overlayContent().width()-e.h.oversize;this.$overlayContent().width(t)}if(e.v.oversize>0&&this._isVerticalSide()&&!e.v.fit){var i=this.$overlayContent().height()-e.v.oversize,r=this.$content().height()-e.v.oversize;this.$overlayContent().height(i),this.$content().height(r)}}},_getContainerPosition:function(){var e=$o(this._position.offset||""),t=e.h,i=e.v,r=this._isVerticalSide(),n=this._isHorizontalSide();if(r||n){var a=this._isPopoverInside(),s=(a?-1:1)*bi[this._positionSide],o=r?this._$arrow.height():this._$arrow.width(),l=this._getContentBorderWidth(this._positionSide),d=s*(o-l);r?i+=d:t+=d}return H({},this._position,{offset:t+" "+i})},_getContentBorderWidth:function(e){var t=this.$overlayContent().css(_L[e]);return parseInt(t)||0},_getSideByLocation:function(e){var t=e.v.flip,i=e.h.flip;return this._isVerticalSide()&&t||this._isHorizontalSide()&&i||this._isPopoverInside()?Pm[this._positionSide]:this._positionSide},_togglePositionClass:function(e){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(e)},_toggleFlippedClass:function(e,t){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",e).toggleClass("dx-popover-flipped-vertical",t)},_renderArrowPosition:function(e){var t=rt(this._$arrow.get(0)),i=-(this._isVerticalSide(e)?t.height:t.width);this._$arrow.css(Pm[e],i);var r=this._isVerticalSide(e)?"left":"top",n=this._isVerticalSide(e)?"width":"height",a=p(this._position.of),s=Tt.offset(a)||{top:0,left:0},o=Tt.offset(this.$overlayContent()),l=t[n],d=o[r],u=rt(this.$overlayContent().get(0))[n],c=s[r],h=a.get(0).preventDefault?0:rt(a.get(0))[n],f=Math.max(d,c),g=Math.min(d+u,c+h),S;this.option("arrowPosition")==="start"?S=f-d:this.option("arrowPosition")==="end"?S=g-d-l:S=(f+g)/2-d-l/2;var C=this._getContentBorderWidth(e),T=$i(S-C+this.option("arrowOffset"),C,u-l-2*C);this._$arrow.css(r,T)},_isPopoverInside:function(){var e=this._transformStringPosition(this.option("position"),Bm),t=Tt.setup.normalizeAlign(e.my),i=Tt.setup.normalizeAlign(e.at);return t.h===i.h&&t.v===i.v},_setContentHeight:function(e){e&&this.callBase()},_renderWrapperPosition:function(){this.option("shading")&&this.$wrapper().css({top:0,left:0})},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_normalizePosition:function(){var e=H({},this._transformStringPosition(this.option("position"),Bm));e.of||(e.of=this.option("target")),e.collision||(e.collision="flip"),e.boundaryOffset||(e.boundaryOffset=this.option("boundaryOffset")),this._positionSide=this._getDisplaySide(e),this._position=e},_getDisplaySide:function(e){var t=Tt.setup.normalizeAlign(e.my),i=Tt.setup.normalizeAlign(e.at),r=bi[t.h]===bi[i.h]&&bi[t.v]===bi[i.v]?-1:1,n=Math.abs(bi[t.h]-r*bi[i.h]),a=Math.abs(bi[t.v]-r*bi[i.v]);return n>a?i.h:i.v},_isVerticalSide:function(e){return e=e||this._positionSide,e==="top"||e==="bottom"},_isHorizontalSide:function(e){return e=e||this._positionSide,e==="left"||e==="right"},_clearEventTimeout:function(e){clearTimeout(this._timeouts[e])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(e){switch(e.name){case"boundaryOffset":case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":e.value&&this.option("fullScreen",!1);break;case"target":e.previousValue&&this._detachEvents(e.previousValue),this.callBase(e);break;case"showEvent":case"hideEvent":var t=e.name.substring(0,4),i=Rm(e.previousValue);this.hide(),Yu(this,this.option("target"),t,i),qu(this,t);break;case"visible":this._clearEventTimeout(e.value?"show":"hide"),this.callBase(e);break;default:this.callBase(e)}},show:function(e){return e&&this.option("target",e),this.callBase()}});Ge("dxPopover",Fm);var rn=Oe(),gL="dx-actionsheet",mL="dx-actionsheet-container",xL="dx-actionsheet-popup-wrapper",yL="dx-actionsheet-popover-wrapper",CL="dx-actionsheet-cancel",SL="dx-actionsheet-item",EL="dxActionSheetItemData",bL="dx-actionsheet-without-title",Nm=qs.inherit({_getDefaultOptions:function(){return H(this.callBase(),{usePopover:!1,target:null,title:"",showTitle:!0,showCancelButton:!0,cancelText:xe.format("Cancel"),onCancelClick:null,visible:!1,noDataText:"",focusStateEnabled:!1,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios",tablet:!0},options:{usePopover:!0}}])},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new oa(function(e,t){var i=new Ut(p("<div>"),H({onClick:t&&t.click},t));e.append(i.$element())},["disabled","icon","text","type","onClick","click"],this.option("integrationOptions.watchMethod"))})},_itemContainer:function(){return this._$itemContainer},_itemClass:function(){return SL},_itemDataKey:function(){return EL},_toggleVisibility:Q,_renderDimensions:Q,_initMarkup:function(){this.callBase(),this.$element().addClass(gL),this._createItemContainer()},_render:function(){this._renderPopup()},_createItemContainer:function(){this._$itemContainer=p("<div>").addClass(mL),this._renderDisabled()},_renderDisabled:function(){this._$itemContainer.toggleClass("dx-state-disabled",this.option("disabled"))},_renderPopup:function(){this._$popup=p("<div>").appendTo(this.$element()),this._isPopoverMode()?this._createPopover():this._createPopup(),this._renderPopupTitle(),this._mapPopupOption("visible")},_mapPopupOption:function(e){this._popup&&this._popup.option(e,this.option(e))},_isPopoverMode:function(){return this.option("usePopover")&&this.option("target")},_renderPopupTitle:function(){this._mapPopupOption("showTitle"),this._popup&&this._popup.$wrapper().toggleClass(bL,!this.option("showTitle"))},_clean:function(){this._$popup&&this._$popup.remove(),this.callBase()},_overlayConfig:function(){return{onInitialized:function(e){this._popup=e.component}.bind(this),disabled:!1,showTitle:!0,title:this.option("title"),deferRendering:!rn.angular,onContentReady:this._popupContentReadyAction.bind(this),onHidden:this.hide.bind(this)}},_createPopover:function(){this._createComponent(this._$popup,Fm,H(this._overlayConfig(),{width:this.option("width")||200,height:this.option("height")||"auto",target:this.option("target")})),this._popup.$wrapper().addClass(yL)},_createPopup:function(){this._createComponent(this._$popup,qr,H(this._overlayConfig(),{dragEnabled:!1,width:this.option("width")||"100%",height:this.option("height")||"auto",showCloseButton:!1,position:{my:"bottom",at:"bottom",of:rn},animation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom",of:rn}},to:{position:{my:"bottom",at:"bottom",of:rn}}},hide:{type:"slide",duration:400,from:{position:{my:"bottom",at:"bottom",of:rn}},to:{position:{my:"top",at:"bottom",of:rn}}}}})),this._popup.$wrapper().addClass(xL)},_popupContentReadyAction:function(){this._popup.$content().append(this._$itemContainer),this._attachClickEvent(),this._attachHoldEvent(),this._prepareContent(),this._renderContent(),this._renderCancelButton()},_renderCancelButton:function(){if(!this._isPopoverMode()&&(this._$cancelButton&&this._$cancelButton.remove(),this.option("showCancelButton"))){var e=this._createActionByOption("onCancelClick")||Q,t=this;this._$cancelButton=p("<div>").addClass(CL).appendTo(this._popup&&this._popup.$content()),this._createComponent(this._$cancelButton,Ut,{disabled:!1,text:this.option("cancelText"),onClick:function(i){var r={event:i,cancel:!1};e(r),r.cancel||t.hide()},integrationOptions:{}})}},_attachItemClickEvent:Q,_itemClickHandler:function(e){this.callBase(e),p(e.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_itemHoldHandler:function(e){this.callBase(e),p(e.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_optionChanged:function(e){switch(e.name){case"width":case"height":case"visible":case"title":this._mapPopupOption(e.name);break;case"disabled":this._renderDisabled();break;case"showTitle":this._renderPopupTitle();break;case"showCancelButton":case"onCancelClick":case"cancelText":this._renderCancelButton();break;case"target":case"usePopover":case"items":this._invalidate();break;default:this.callBase(e)}},toggle:function(e){var t=this,i=new ee;return t._popup.toggle(e).done(function(){t.option("visible",e),i.resolveWith(t)}),i.promise()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}});Ge("dxActionSheet",Nm);var Hm="dxListEditDecorator",$m=se(it,Hm),TL=se(Ln,Hm),wL="dx-list-slide-menu",IL="dx-list-slide-menu-wrapper",Zu="dx-list-slide-menu-content",AL="dx-list-slide-menu-buttons-container",DL="dx-list-slide-menu-buttons",Vm="dx-list-slide-menu-button",OL="dx-list-slide-menu-button-menu",kL="dx-list-slide-menu-button-delete",LL=400,PL="cubic-bezier(0.075, 0.82, 0.165, 1)";Xi("menu","slide",Am.inherit({_shouldHandleSwipe:!0,_init:function(){this.callBase.apply(this,arguments),this._$buttonsContainer=p("<div>").addClass(AL),F.on(this._$buttonsContainer,TL,Q),this._$buttons=p("<div>").addClass(DL).appendTo(this._$buttonsContainer),this._renderMenu(),this._renderDeleteButton()},_renderMenu:function(){if(!!this._menuEnabled()){var e=this._menuItems();if(e.length===1){var t=e[0];this._renderMenuButton(t.text,function(n){n.stopPropagation(),this._fireAction(t)}.bind(this))}else{var i=p("<div>").addClass(wL);this._menu=this._list._createComponent(i,Nm,{showTitle:!1,items:e,onItemClick:function(n){this._fireAction(n.itemData)}.bind(this),integrationOptions:{}}),i.appendTo(this._list.$element());var r=this._renderMenuButton(xe.format("dxListEditDecorator-more"),function(n){n.stopPropagation(),this._menu.show()}.bind(this));this._menu.option("target",r)}}},_renderMenuButton:function(e,t){var i=p("<div>").addClass(Vm).addClass(OL).text(e);return this._$buttons.append(i),F.on(i,$m,t),i},_renderDeleteButton:function(){if(!!this._deleteEnabled()){var e=p("<div>").addClass(Vm).addClass(kL).text(mt()?"":xe.format("dxListEditDecorator-delete"));F.on(e,$m,function(t){t.stopPropagation(),this._deleteItem()}.bind(this)),this._$buttons.append(e)}},_fireAction:function(e){this._fireMenuAction(p(this._cachedNode),e.action),this._cancelDeleteReadyItem()},modifyElement:function(e){this.callBase.apply(this,arguments);var t=e.$itemElement;t.addClass(IL);var i=p("<div>").addClass(Zu);t.wrapInner(i)},_getDeleteButtonContainer:function(){return this._$buttonsContainer},handleClick:function(e,t){return p(t.target).closest("."+Zu).length?this.callBase.apply(this,arguments):!1},_swipeStartHandler:function(e){this._enablePositioning(e),this._cacheItemData(e),this._setPositions(this._getPositions(0))},_swipeUpdateHandler:function(e,t){var i=this._isRtlEnabled(),r=i?-1:1,n=this._isReadyToDelete(e),a=this._getCurrentPositions().content===this._getStartPositions().content;if(a&&!n&&t.offset*r>0){t.cancel=!0;return}var s=this._cachedItemWidth*t.offset,o=n?-this._cachedButtonWidth*r:0,l=(s+o)*r,d=l<0?Math.abs((s+o)/this._cachedButtonWidth):0;return this._setPositions(this._getPositions(d)),!0},_getStartPositions:function(){var e=this._isRtlEnabled(),t=e?-1:1;return{content:0,buttonsContainer:e?-this._cachedButtonWidth:this._cachedItemWidth,buttons:-this._cachedButtonWidth*t}},_getPositions:function(e){var t=this._isRtlEnabled(),i=t?-1:1,r=this._getStartPositions();return{content:r.content-e*this._cachedButtonWidth*i,buttonsContainer:r.buttonsContainer-Math.min(e,1)*this._cachedButtonWidth*i,buttons:r.buttons+Math.min(e,1)*this._cachedButtonWidth*i}},_getCurrentPositions:function(){return{content:bt(this._$cachedContent).left,buttonsContainer:bt(this._$buttonsContainer).left,buttons:bt(this._$buttons).left}},_setPositions:function(e){ht(this._$cachedContent,{left:e.content}),ht(this._$buttonsContainer,{left:e.buttonsContainer}),ht(this._$buttons,{left:e.buttons})},_cacheItemData:function(e){e[0]!==this._cachedNode&&(this._$cachedContent=e.find("."+Zu),this._cachedItemWidth=e.outerWidth(),this._cachedButtonWidth=this._cachedButtonWidth||this._$buttons.outerWidth(),this._$buttonsContainer.width(this._cachedButtonWidth),this._$cachedContent.length&&(this._cachedNode=e[0]))},_minButtonContainerLeftOffset:function(){return this._cachedItemWidth-this._cachedButtonWidth},_swipeEndHandler:function(e,t){this._cacheItemData(e);var i=this._isRtlEnabled()?1:-1,r=this._cachedItemWidth*t.offset,n=!this._isReadyToDelete(e)&&r*i>.2*this._cachedButtonWidth,a=t.targetOffset===i&&n;return this._toggleDeleteReady(e,a),!0},_enablePositioning:function(e){Je.stop(this._$cachedContent,!0),this.callBase.apply(this,arguments),this._$buttonsContainer.appendTo(e)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonsContainer.detach()},_animatePrepareDeleteReady:function(){return this._animateToPositions(this._getPositions(1))},_animateForgetDeleteReady:function(e){return this._cacheItemData(e),this._animateToPositions(this._getPositions(0))},_animateToPositions:function(e){var t=this,i=this._getCurrentPositions(),r=Math.min(Math.abs(i.content-e.content)/this._cachedButtonWidth,1);return Je.animate(this._$cachedContent,{from:i,to:e,easing:PL,duration:LL*r,strategy:"frame",draw:function(n){t._setPositions(n)}})},dispose:function(){this._menu&&this._menu.$element().remove(),this._$buttonsContainer&&this._$buttonsContainer.remove(),this.callBase.apply(this,arguments)}}).include(km)),Xi("delete","swipe",yr.inherit({_shouldHandleSwipe:!0,_renderItemPosition:function(e,t,i){var r=new ee,n=t*this._itemElementWidth;return i?Je.animate(e,{to:{left:n},type:"slide",complete:function(){r.resolve(e,t)}}):(ht(e,{left:n}),r.resolve()),r.promise()},_swipeStartHandler:function(e){return this._itemElementWidth=e.width(),!0},_swipeUpdateHandler:function(e,t){return this._renderItemPosition(e,t.offset),!0},_swipeEndHandler:function(e,t){var i=t.targetOffset;return this._renderItemPosition(e,i,!0).done(function(r,n){Math.abs(n)&&this._list.deleteItem(r).fail(function(){this._renderItemPosition(r,0,!0)}.bind(this))}.bind(this)),!0}}));var zm="dx-list-item-badge-container",BL="dx-list-item-badge",RL="dx-badge",Ju="dx-list-item-chevron-container",ML="dx-list-item-chevron",FL=Us.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(e){if(this._$element.children("."+zm).remove(),!!e){var t=p("<div>").addClass(zm).append(p("<div>").addClass(BL).addClass(RL).text(e)),i=this._$element.children("."+Ju).first();i.length>0?t.insertBefore(i):t.appendTo(this._$element)}},_renderShowChevron:function(e){if(this._$element.children("."+Ju).remove(),!!e){var t=p("<div>").addClass(Ju),i=p("<div>").addClass(ML);t.append(i).appendTo(this._$element)}}}),Gm="dx-scrollview-pull-down-loading",Qu="dx-scrollview-pull-down-ready",NL="dx-scrollview-pull-down-image",HL="dx-scrollview-pull-down-indicator",$L="dx-scrollview-pull-down-text",VL="dx-scrollview-pull-down-text-visible",lo=0,fa=1,uo=2,ec=3,zL=400,GL=Bu.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$bottomPocket=e._$bottomPocket,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=p(e.content()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Le(),this.releaseCallbacks=Le(),this.reachBottomCallbacks=Le()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=p("<div>").addClass(NL),t=p("<div>").addClass(HL),i=new ti(p("<div>")).$element(),r=this._$pullDownText=p("<div>").addClass($L);this._$pullingDownText=p("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=p("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=p("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(e).append(t.append(i)).append(r)},_releaseState:function(){this._state=lo,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this,t=[{element:this._$pullingDownText,visibleState:lo},{element:this._$pulledDownText,visibleState:fa},{element:this._$refreshingText,visibleState:uo}];M(t,function(i,r){var n=e._state===r.visibleState?"addClass":"removeClass";r.element[n](VL)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),Fe.msie?this._scrollOffset=Math.round(100*(this._$container.height()-this._$content.height()))/100:this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===fa&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(e){ht(this._$topPocket,{top:e}),ht(this._$scrollViewContent,{top:e})},handleScroll:function(e){if(this.callBase(e),this._state!==uo){var t=this.location().top,i=(this._location||0)-t;this._location=t,this._isPullDown()?this._pullDownReady():i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&this._location-(this._scrollOffset+this._bottomPocketSize)<=.5},_reachBottom:function(){this._state!==ec&&(this._state=ec,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==fa&&(this._state=fa,this._$pullDown.addClass(Qu),this._refreshPullDownText())},_stateReleased:function(){this._state!==lo&&(this._$pullDown.removeClass(Gm).removeClass(Qu),this._releaseState())},_pullDownRefreshing:function(){this._state!==uo&&(this._state=uo,this._$pullDown.addClass(Gm).removeClass(Qu),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=fa},release:function(){var e=new ee;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===ec&&(this._state=lo),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}.bind(this),zL),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),Wm="dx-scrollview-pull-down-loading",WL="dx-scrollview-pull-down-indicator",UL="dx-scrollview-pull-down-refreshing",KL="dx-icon-pulldown",tc=0,jL=1,Um=2,ic=4,co=5,XL=Bu.inherit({_init:function(e){this.callBase(e),this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=e.content(),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=Le(),this.releaseCallbacks=Le(),this.reachBottomCallbacks=Le()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var e=p("<div>").addClass(WL),t=new ti(p("<div>")).$element();this._$icon=p("<div>").addClass(KL),this._$pullDown.empty().append(this._$icon).append(e.append(t))},_releaseState:function(){this._state=tc,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var e=this.callBase();return e.vertical=e.vertical||this._pullDownEnabled,e},handleInit:function(e){this.callBase(e),this._state===tc&&this._location===0&&(this._startClientY=Ue(e.originalEvent).y,this._state=ic)},handleMove:function(e){this.callBase(e),this._deltaY=Ue(e.originalEvent).y-this._startClientY,this._state===ic&&(this._pullDownEnabled&&this._deltaY>0?this._state=co:this._complete()),this._state===co&&(e.preventDefault(),this._movePullDown())},_movePullDown:function(){var e=this._getPullDownHeight(),t=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),i=180*t/e/3;this._$pullDown.css({opacity:1}).toggleClass(UL,t<e),ht(this._$pullDown,{top:t}),this._$icon.css({transform:"rotate("+i+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===co&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*this._$element.outerHeight())},_getPullDownStartPosition:function(){return-Math.round(1.5*this._$pullDown.outerHeight())},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===ic||this._state===co)&&this._releaseState()},handleScroll:function(e){if(this.callBase(e),this._state!==Um){var t=this.location().top,i=this._location-t;this._location=t,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==tc&&(this._$pullDown.removeClass(Wm),this._releaseState())},_pullDownRefreshing:function(){this._state=Um,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(Wm),ht(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(e){this._$topPocket.toggle(e),this._pullDownEnabled=e},reachBottomEnable:function(e){this._reachBottomEnabled=e},pendingRelease:function(){this._state=jL},release:function(){var e=new ee;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()}.bind(this),800),e.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),qL=Math,Km="dx-scrollview-pull-down-loading",rc="dx-scrollview-pull-down-ready",YL="dx-scrollview-pull-down-image",ZL="dx-scrollview-pull-down-indicator",JL="dx-scrollview-pull-down-text",QL="dx-scrollview-pull-down-text-visible",pa=0,_a=1,nc=2,ac=3,eP=pm.inherit({ctor:function(){this._topPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=pa,this._refreshPullDownText()},_refreshPullDownText:function(){var e=this,t=[{element:this._$pullingDownText,visibleState:pa},{element:this._$pulledDownText,visibleState:_a},{element:this._$refreshingText,visibleState:nc}];M(t,function(i,r){var n=e._state===r.visibleState?"addClass":"removeClass";r.element[n](QL)})},_initCallbacks:function(){this.pullDownCallbacks=Le(),this.releaseCallbacks=Le(),this.reachBottomCallbacks=Le()},_updateBounds:function(){var e=this._direction!=="horizontal";this._topPocketSize=e?Math.round(this._$topPocket[this._dimension]()):0,this._bottomPocketSize=e?Math.round(this._$bottomPocket[this._dimension]()):0,this.callBase(),this._bottomBound=this._minOffset+this._bottomPocketSize},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==pa&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){return this._reachBottomEnabled&&this._location-this._bottomBound<=.5},_scrollComplete:function(){this._inBounds()&&this._state===_a?this._pullDownRefreshing():this._inBounds()&&this._state===ac?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==ac&&(this._state=ac,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return qL.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==_a&&(this._state=_a,this._maxOffset=0,this._$pullDown.addClass(rc),this._refreshPullDownText())},_stateReleased:function(){this._state!==pa&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(Km).removeClass(rc),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==nc&&(this._state=nc,this._$pullDown.addClass(Km).removeClass(rc),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===pa&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=No(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())},_pullDownEnablingHandler:function(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=this._$topPocket.height()||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=_a},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),tP=_m.inherit({_init:function(e){this.callBase(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=Le(),this.releaseCallbacks=Le(),this.reachBottomCallbacks=Le()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var e=p("<div>").addClass(YL),t=p("<div>").addClass(ZL),i=new ti(p("<div>")).$element(),r=this._$pullDownText=p("<div>").addClass(JL);this._$pullingDownText=p("<div>").text(this.option("pullingDownText")).appendTo(r),this._$pulledDownText=p("<div>").text(this.option("pulledDownText")).appendTo(r),this._$refreshingText=p("<div>").text(this.option("refreshingText")).appendTo(r),this._$pullDown.empty().append(e).append(t.append(i)).append(r)},pullDownEnable:function(e){this._eventHandler("pullDownEnabling",e)},reachBottomEnable:function(e){this._eventHandler("reachBottomEnabling",e)},_createScroller:function(e){var t=this,i=t._scrollers[e]=new eP(t._scrollerOptions(e));i.pullDownCallbacks.add(function(){t.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){t.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){t.reachBottomCallbacks.fire()})},_scrollerOptions:function(e){return H(this.callBase(e),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var e=this.callBase();return e.top+=this._$topPocket.height(),e},dispose:function(){M(this._scrollers,function(){this.dispose()}),this.callBase()}}),Cr="dx-scrollview",iP=Cr+"-content",rP=Cr+"-top-pocket",nP=Cr+"-bottom-pocket",aP=Cr+"-pull-down",sc=Cr+"-scrollbottom",sP=sc+"-indicator",oP=sc+"-text",lP=Cr+"-loadpanel",dP={pullDown:GL,swipeDown:XL,simulated:tP},uP=!Te(),cP={finishLoading:Q,release:Q,refresh:Q,_optionChanged:function(e){if(e.name!=="onUpdated")return this.callBase.apply(this,arguments)}},jm=Nu.inherit(uP?cP:{_getDefaultOptions:function(){return H(this.callBase(),{pullingDownText:xe.format("dxScrollView-pullingDownText"),pulledDownText:xe.format("dxScrollView-pulledDownText"),refreshingText:xe.format("dxScrollView-refreshingText"),reachBottomText:xe.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var e=Se.real();return e.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return mt()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(Cr),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var e=p("<div>").addClass(iP);this._$content.wrapInner(e)},_initTopPocket:function(){var e=this._$topPocket=p("<div>").addClass(rP),t=this._$pullDown=p("<div>").addClass(aP);e.append(t),this._$content.prepend(e)},_initBottomPocket:function(){var e=this._$bottomPocket=p("<div>").addClass(nP),t=this._$reachBottom=p("<div>").addClass(sc),i=p("<div>").addClass(sP),r=new ti(p("<div>")).$element(),n=this._$reachBottomText=p("<div>").addClass(oP);this._updateReachBottomText(),t.append(i.append(r)).append(n),e.append(t),this._$content.append(e)},_initLoadPanel:function(){var e=p("<div>").addClass(lP).appendTo(this.$element()),t={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(e,fd,t)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var e=this.option("useNative")?this.option("refreshStrategy"):"simulated",t=dP[e];this._strategy=new t(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(e){var t=this.callBase.apply(this,arguments);return(e==="pullDown"||e==="reachBottom")&&this._tryRefreshPocketState(),t},_pullDownEnable:function(e){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e)},_reachBottomEnable:function(e){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(e){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=e},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(e)}},content:function(){return Ie(this._$content.children().eq(1))},release:function(e){return e!==void 0&&this.toggleLoading(!e),this._strategy.release()},toggleLoading:function(e){this._reachBottomEnable(e)},isFull:function(){return p(this.content()).height()>this._$container.height()},refresh:function(){!this.hasActionSubscription("onPullDown")||(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});Ge("dxScrollView",jm);var ho="__dx_key__",hP=qs.inherit({_getDefaultOptions:function(){return H(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{var t=this._dataSource;t&&!t.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(e){var t=p(),i=this.key();return this.itemElements().each((r,n)=>{var a=p(n),s=this._getItemData(a);if(i?Es(i,this.keyOf(s),e):this._isItemEquals(s,e))return t=a,!1}),t},_dataSourceChangedHandler:function(e,t){t!=null&&t.changes?this._modifyByChanges(t.changes):(this.callBase(e,t),this._refreshItemsCache())},_isItemEquals:function(e,t){e&&e[ho]&&(e=e.data);try{return JSON.stringify(e)===JSON.stringify(t)}catch(i){return e===t}},_isItemStrictEquals:function(e,t){return this._isItemEquals(e,t)},_shouldAddNewGroup:function(e,t){var i=!1;return this.option("grouped")&&M(e,(r,n)=>{n.type==="insert"&&(i=!0,M(t,(a,s)=>{if(n.data.key===s.key)return i=!1,!1}))}),i},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var e=dO(this._itemsCache,this._editStrategy.itemsGetter(),t=>t&&t[ho]!==void 0?t[ho]:this.keyOf(t),this._isItemStrictEquals.bind(this));if(e&&this._itemsCache.length&&!this._shouldAddNewGroup(e,this._itemsCache))return this._modifyByChanges(e,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var e=this._editStrategy.itemsGetter();try{this._itemsCache=H(!0,[],e),this.key()||(this._itemsCache=this._itemsCache.map((t,i)=>({[ho]:e[i],data:t})))}catch(t){this._itemsCache=H([],e)}}},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(e,t,i,r){if(r)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var n=t[hr(e,t,i.key)];n&&Rd(e,t,i.key,i.data).done(()=>{this._renderItem(t.indexOf(n),n,null,this._findItemElementByKey(i.key))})}},_insertByChange:function(e,t,i,r){ye(r||Md(e,t,i.data,i.index)).done(()=>{var n;this._beforeItemElementInserted(i);var a=this._getItemContainer(i.data);this._renderItem((n=i.index)!==null&&n!==void 0?n:t.length,i.data,a),this._afterItemElementInserted(),this._correctionIndex++})},_getItemContainer:function(e){return this._itemContainer()},_updateSelectionAfterRemoveByChange:function(e){var t=this.option("selectedIndex");t>e?this.option("selectedIndex",t-1):t===e&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(e){var t=this.option("selectedIndex");e.index<=t&&this.option("selectedIndex",t+1)},_afterItemElementInserted:Q,_removeByChange:function(e,t,i,r){var n=r?i.index:hr(e,t,i.key),a=r?i.oldItem:t[n];if(a){var s=this._findItemElementByKey(i.key),o=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(()=>{r?(this._updateIndicesAfterIndex(n-1),this._afterItemElementDeleted(s,o),this._updateSelectionAfterRemoveByChange(n)):(this._deleteItemElementByIndex(n),this._afterItemElementDeleted(s,o))}),this._correctionIndex--}},_modifyByChanges:function(e,t){var i=this._editStrategy.itemsGetter(),r={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},n=this._dataSource,a=n&&n.paginate(),s=n&&n.group();(a||s)&&(e=e.filter(o=>o.type!=="insert"||o.index!==void 0)),e.forEach(o=>this["_".concat(o.type,"ByChange")](r,i,o,t)),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(e,t,i){var r=e.children(this._itemSelector()).get(i);re.insertElement(e.get(0),t.get(0),r)},_optionChanged:function(e){switch(e.name){case"items":var t=this._partialRefresh(e.value);t||this.callBase(e);break;case"dataSource":(!this.option("repaintChangesOnly")||!e.value)&&this.option("items",[]),this.callBase(e);break;case"repaintChangesOnly":break;default:this.callBase(e)}}}),fP=e=>Array.isArray(e)&&e.every(t=>{var i=Object.keys(t).length===2,r="key"in t&&"items"in t;return i&&r&&Array.isArray(t.items)}),pP={_getSpecificDataSourceOption:function(){var e=this.option("dataSource"),t=!1,i={};return this._getGroupedOption()&&fP(e)&&(i=e.reduce((r,n)=>{var a=n.items.map(s=>(Be(s)||(s={text:s},t=!0),"key"in s||(s.key=n.key),s));return r.concat(a)},[]),e={store:{type:"array",data:i},group:{selector:"key",keepInitialKeyOrder:!0}},t&&(e.searchExpr="text")),e}},_P="dx-list",fo="dx-list-item",vP="."+fo,gP="dx-list-item-icon-container",mP="dx-list-item-icon",nn="dx-list-group",oc="dx-list-group-header",po="dx-list-group-body",xP="dx-list-collapsible-groups",Xm="dx-list-group-collapsed",yP="dx-list-group-header-indicator",CP="dx-has-next",SP="dx-list-next-button",qm="dx-wrap-item-text",EP=".dx-list-select-all",bP="dxListItemData",Ym=70,TP=ct("items"),lc=hP.inherit({_activeStateUnit:[vP,EP].join(","),_supportedKeys:function(){var e=this,t=function(r){var n=i(r),a=n.is(e.option("focusedElement"));a&&(function(s,o){var l=s.position().top;o==="prev"&&(l=s.position().top-e.$element().height()+s.outerHeight()),e.scrollTo(l)}(n,r),n=i(r)),e.option("focusedElement",Ie(n)),e.scrollToItem(n)};function i(r){var n=e.scrollTop(),a=e.$element().height(),s=p(e.option("focusedElement")),o=!0;if(!s.length)return p();for(;o;){var l=s[r]();if(!l.length)break;var d=l.position().top+l.outerHeight()/2;o=d<a+n&&d>n,o&&(s=l)}return s}return H(this.callBase(),{leftArrow:Q,rightArrow:Q,pageUp:function(){return t("prev"),!1},pageDown:function(){return t("next"),!1}})},_getDefaultOptions:function(){return H(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:xe.format("dxList-pullingDownText"),pulledDownText:xe.format("dxList-pulledDownText"),refreshingText:xe.format("dxList-refreshingText"),pageLoadingText:xe.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:xe.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,_revertPageOnEmptyLoad:!1,showChevronExpr:function(e){return e?e.showChevron:void 0},badgeExpr:function(e){return e?e.badge:void 0}})},_defaultOptionsRules:function(){var e=dr();return this.callBase().concat(gm(),[{device:function(){return!In},options:{useNativeScrolling:!1}},{device:function(t){return!In&&!Se.isSimulator()&&Se.real().deviceType==="desktop"&&t.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return Se.real().deviceType==="desktop"&&!Se.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return mt(e)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(e){e&&this._updateLoadingState(!0)},_itemClass:function(){return fo},_itemDataKey:function(){return bP},_itemContainer:function(){return this._$container},_saveSelectionChangeEvent:function(e){this._selectionChangeEventInstance=e},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children("."+nn).children("."+po).children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(e,t){var i=this.callBase(e,t);return i.done(function(){this._refreshItemElements()})},deleteItem:function(e){var t=this.callBase(e);return t.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(e){this.option("selectionMode")==="single"&&this.isItemSelected(e.currentTarget)||this.callBase(e)},_allowDynamicItemsAppend:function(){return!0},_resetDataSourcePageIndex:function(){var e=this.getDataSource();e&&e.pageIndex()!==0&&(e.pageIndex(0),e.load())},_init:function(){this.callBase(),this._resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=Ym,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var e=this._scrollBottomMode(),t=this._nextButtonMode();return H(this.callBase(),{paginate:$t(e||t,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(e){return this._itemContainer().find(".".concat(nn)).eq(e).find(".".concat(po))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var e=this.option("scrollingEnabled"),t=e&&this.option("pullRefreshEnabled"),i=e&&this._scrollBottomMode()&&!!this._dataSource;this._scrollView=this._createComponent(this.$element(),wP(),{disabled:this.option("disabled")||!e,onScroll:this._scrollHandler.bind(this),onPullDown:t?this._pullDownHandler.bind(this):null,onReachBottom:i?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=p(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass(qm),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(e){this._scrollAction&&this._scrollAction(e)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new oa(function(e,t){De(t)?t.key&&e.text(t.key):e.text(String(t))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(e,t){if(this.callBase(e,t),e.icon){var i=Ws(e.icon).addClass(mP),r=p("<div>").addClass(gP);r.append(i),t.prepend(r)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(e){var t=!e||this._isLastPage(),i=this._scrollBottomMode(),r=t||!i,n=r&&!this._isDataSourceLoading();r||this._scrollViewIsFull()?(this._scrollView.release(n),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1)):this._infiniteDataLoading()},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataSource&&this._dataSource.isLoaded()},_isDataSourceFirstLoadCompleted:function(e){return P(e)&&(this._isFirstLoadCompleted=e),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(e){this._loadIndicationSuppressed()||(e&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var t=!this._itemElements().length,i=!t||this._isDataSourceFirstLoadCompleted();if(i){var r;(r=this._scrollView)===null||r===void 0||r.startLoading()}}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),e||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&Te()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(e){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=e},_scrollViewIsFull:function(){return!this._scrollView||this._scrollView.isFull()},_pullDownHandler:function(e){this._pullRefreshAction(e),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.reload()):this._updateLoadingState()},_infiniteDataLoading:function(){var e=this.$element().is(":visible");e&&!this._scrollViewIsFull()&&!this._isDataSourceLoading()&&!this._isLastPage()&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage().done(this._setPreviousPageIfNewIsEmpty.bind(this))}))},_setPreviousPageIfNewIsEmpty:function(e){if(this.option("_revertPageOnEmptyLoad")){var t=this.getDataSource(),i=t==null?void 0:t.pageIndex();(e==null?void 0:e.length)===0&&i>0&&(this._fireContentReadyAction(),t.pageIndex(i-1))}},_scrollBottomHandler:function(e){this._pageLoadingAction(e),!this._isDataSourceLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(e){this.option("grouped")?(M(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),mt()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var e=se(it,this.NAME),t="."+oc,i=this.$element(),r=this.option("collapsibleGroups");i.toggleClass(xP,r),F.off(i,e,t),r&&F.on(i,e,t,function(n){this._createAction(function(a){var s=p(a.event.currentTarget).parent();this._collapseGroupHandler(s),this.option("focusStateEnabled")&&this.option("focusedElement",Ie(s.find("."+fo).eq(0)))}.bind(this),{validatingTargetName:"element"})({event:n})}.bind(this))},_collapseGroupHandler:function(e,t){var i=new ee;if(e.hasClass(Xm)===t)return i.resolve();var r=e.children("."+po),n=r.outerHeight(),a=n===0?r.height("auto").outerHeight():0;return e.toggleClass(Xm,t),Je.animate(r,{type:"custom",from:{height:n},to:{height:a},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(),i.resolve()}.bind(this)}),i.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=p(),this.$element().addClass(_P),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=na()},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments);var r=this;if(!!this._inkRipple){var n={element:e,event:i};t?mt()?this._inkRippleTimer=setTimeout(function(){r._inkRipple.showWave(n)},Ym/2):r._inkRipple.showWave(n):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(n))}},_postprocessRenderItem:function(e){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(p(e.itemElement))},_attachSwipeEvent:function(e){var t=se(oo,this.NAME);F.on(e,t,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})},_nextButtonHandler:function(e){this._pageLoadingAction(e);var t=this._dataSource;t&&!t.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(e,t){var i=p("<div>").addClass(nn).appendTo(this._itemContainer()),r=p("<div>").addClass(oc).appendTo(i),n=this.option("groupTemplate"),a=this._getTemplate(t.template||n,t,e,r),s={index:e,itemData:t,container:Ie(r)};this._createItemByTemplate(a,s),mt()&&p("<div>").addClass(yP).prependTo(r),this._renderingGroupIndex=e;var o=p("<div>").addClass(po).appendTo(i);M(TP(t)||[],function(l,d){this._renderItem(l,d,o)}.bind(this)),this._groupRenderAction({groupElement:Ie(i),groupIndex:e,groupData:t})},downInkRippleHandler:function(e){this._toggleActiveState(p(e.currentTarget),!0,e)},upInkRippleHandler:function(e){this._toggleActiveState(p(e.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var e="."+oc,t=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var i=[t,"dxpointerdown",e,this._downInkRippleHandler],r=[t,"dxpointerup dxpointerout",e,this._upInkRippleHandler];F.off(...i),F.on(...i),F.off(...r),F.on(...r)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),delete this._inkRipple,this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(e){this.callBase(e),this._scrollView.option("disabled",e||!this.option("scrollingEnabled"))},_toggleNextButton:function(e){var t=this._dataSource,i=this._getNextButton();this.$element().toggleClass(CP,e),e&&t&&t.isLoaded()&&i.appendTo(this._itemContainer()),e||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var e=p("<div>").addClass(SP),t=p("<div>").appendTo(e);return this._createComponent(t,Ut,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:mt()?"default":void 0,integrationOptions:{}}),e},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!Te())this.callBase();else{var e=this._scrollView.scrollTop();this.callBase(),e&&this._scrollView.scrollTo(e)}},_optionChanged:function(e){switch(e.name){case"pageLoadMode":this._toggleNextButton(e.value),this._initScrollView();break;case"dataSource":this.callBase(e),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(e),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass(qm,e.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(e),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(e);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"_revertPageOnEmptyLoad":case"_listAttributes":break;default:this.callBase(e)}},_extendActionArgs:function(e){if(!this.option("grouped"))return this.callBase(e);var t=e.closest("."+nn),i=t.find("."+fo);return H(this.callBase(e),{itemIndex:{group:t.index(),item:i.index(e)}})},expandGroup:function(e){var t=new ee,i=this._itemContainer().find("."+nn).eq(e);return this._collapseGroupHandler(i,!1).done(function(){t.resolveWith(this)}.bind(this)),t.promise()},collapseGroup:function(e){var t=new ee,i=this._itemContainer().find("."+nn).eq(e);return this._collapseGroupHandler(i,!0).done(function(){t.resolveWith(this)}.bind(this)),t},updateDimensions:function(){var e=this,t=new ee;return e._scrollView?e._scrollView.update().done(function(){!e._scrollViewIsFull()&&e._updateLoadingState(!0),t.resolveWith(e)}):t.resolveWith(e),t.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(e){this._scrollView.scrollBy(e)},scrollTo:function(e){this._scrollView.scrollTo(e)},scrollToItem:function(e){var t=this._editStrategy.getItemElement(e);this._scrollView.scrollToElement(t)},_dimensionChanged:function(){this.updateDimensions()}}).include(pP);lc.ItemClass=FL;function wP(){return jm}var Zm="dx-list-context-menu",IP="dx-list-context-menucontent";Xi("menu","context",yr.inherit({_init:function(){var e=p("<div>").addClass(Zm);this._list.$element().append(e),this._menu=this._renderOverlay(e)},_renderOverlay:function(e){return this._list._createComponent(e,zi,{shading:!1,deferRendering:!0,closeOnTargetScroll:!0,closeOnOutsideClick:function(t){return!p(t.target).closest("."+Zm).length},animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:function(){return this._$menuList.outerHeight()}.bind(this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},height:function(){return this._$menuList?this._$menuList.outerHeight():0}.bind(this),width:function(){return this._list.$element().outerWidth()}.bind(this),onContentReady:this._renderMenuContent.bind(this)})},_renderMenuContent:function(e){var t=e.component.$content(),i=this._menuItems().slice();this._deleteEnabled()&&i.push({text:xe.format("dxListEditDecorator-delete"),action:this._deleteItem.bind(this)}),this._$menuList=p("<div>"),this._list._createComponent(this._$menuList,lc,{items:i,onItemClick:this._menuItemClickHandler.bind(this),height:"auto",integrationOptions:{}}),t.addClass(IP),t.append(this._$menuList)},_menuItemClickHandler:function(e){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,e.itemData.action)},_deleteItem:function(){this._list.deleteItem(this._$itemWithMenu)},handleContextMenu:function(e){return this._$itemWithMenu=e,this._menu.option({position:{my:"top",at:"bottom",of:e,collision:"flip"}}),this._menu.show(),!0},dispose:function(){this._menu&&this._menu.$element().remove(),this.callBase.apply(this,arguments)}}).include(km));var AP="dx-radiobutton",Jm="dx-radiobutton-icon",DP="dx-radiobutton-icon-dot",OP="dx-radiobutton-checked",kP="dx-radiobutton-icon-checked",Qm=la.inherit({_supportedKeys:function(){return H(this.callBase(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})},_getDefaultOptions:function(){return H(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,useInkRipple:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Se.real().deviceType==="desktop"&&!Se.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(AP)},_initMarkup:function(){this.callBase(),this._renderIcon(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderInkRipple:function(){this._inkRipple=na({waveSizeCoefficient:3.3,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(e,t,i,r){if(!!this._inkRipple){var n={element:e,event:t,wave:r};i?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_updateFocusState:function(e,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,e,t,0)},_toggleActiveState:function(e,t,i){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,i,t,1)},_renderIcon:function(){this._$icon=p("<div>").addClass(Jm),p("<div>").addClass(DP).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(e){this.$element().toggleClass(OP,e).find("."+Jm).toggleClass(kP,e),this.setAria("checked",e)},_renderClick:function(){var e=se(it,this.NAME);this._clickAction=this._createAction(function(t){this._clickHandler(t.event)}.bind(this)),F.off(this.$element(),e),F.on(this.$element(),e,function(t){this._clickAction({event:t})}.bind(this))},_clickHandler:function(e){this._saveValueChangeEvent(e),this.option("value",!0)},_optionChanged:function(e){switch(e.name){case"useInkRipple":this._invalidate();break;case"value":this._renderCheckedState(e.value),this.callBase(e);break;default:this.callBase(e)}},_clean:function(){delete this._inkRipple,this.callBase()}});Ge("dxRadioButton",Qm);var e0="dx-list-select-decorator-enabled",LP="dx-list-select-all",PP="dx-list-select-all-checkbox",BP="dx-list-select-all-label",RP="dx-list-select-checkbox-container",MP="dx-list-select-checkbox",FP="dx-list-select-radiobutton-container",NP="dx-list-select-radiobutton",HP="dx-state-focused",t0=se(it,"dxListEditDecorator");Xi("selection","default",yr.inherit({_init:function(){this.callBase.apply(this,arguments);var e=this._list.option("selectionMode");this._singleStrategy=e==="single",this._containerClass=this._singleStrategy?FP:RP,this._controlClass=this._singleStrategy?NP:MP,this._controlWidget=this._singleStrategy?Qm:da,this._list.$element().addClass(e0)},beforeBag:function(e){var t=e.$itemElement,i=e.$container.addClass(this._containerClass),r=p("<div>").addClass(this._controlClass).appendTo(i);new this._controlWidget(r,H(this._commonOptions(),{value:this._isSelected(t),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:function(n){n.event&&this._list._saveSelectionChangeEvent(n.event),this._processCheckedState(t,n.value),n.event&&n.event.stopPropagation()}.bind(this)}))},modifyElement:function(e){this.callBase.apply(this,arguments);var t=e.$itemElement,i=this._controlWidget.getInstance(t.find("."+this._controlClass));F.on(t,"stateChanged",function(r,n){i.option("value",n)}.bind(this))},_updateSelectAllState:function(){!this._$selectAll||this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(e,t){var i=!t,r=this._list,n=this._$selectAll,a=r._getLastItemIndex(),s=t&&e===0||i&&e===a,o=!!n;return o&&s?(r.option("focusedElement",n),r.scrollToItem(r.option("focusedElement")),!0):!1},handleEnterPressing:function(e){if(this._$selectAll&&this._$selectAll.hasClass(HP))return e.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var e=this._$selectAll=p("<div>").addClass(LP),t=this._list,i=t._supportedKeys().downArrow.bind(t);this._selectAllCheckBox=t._createComponent(p("<div>").addClass(PP).appendTo(e),da,{focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",i),p("<div>").addClass(BP).text(this._list.option("selectAllText")).appendTo(e),this._list.itemsContainer().prepend(e),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),F.off(this._$selectAll,t0),F.on(this._$selectAll,t0,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(e){e.event&&e.event.stopPropagation();var t=this._selectAllCheckBox.option("value"),i=this._list._createActionByOption("onSelectAllValueChanged")({value:t});i!==!1&&(e.event&&this._list._saveSelectionChangeEvent(e.event),t===!0?this._selectAllItems():t===!1&&this._unselectAllItems())},_checkSelectAllCapability:function(){var e=this._list,t=e.getDataSource();return e.option("selectAllMode")==="allPages"&&e.option("grouped")&&(!t||!t.group())?(Ne.log("W1010"),!1):!0},_selectAllItems:function(){!this._checkSelectAllCapability()||this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){!this._checkSelectAllCapability()||this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(e){this._list._saveSelectionChangeEvent(e),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(e){return this._list.isItemSelected(e)},_processCheckedState:function(e,t){t?this._list.selectItem(e):this._list.unselectItem(e)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(e0),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var i0=Oe(),Ti="dxDraggable",$P=se(ur,Ti),VP=se(Vi,Ti),zP=se(Vr,Ti),GP=se($n,Ti),WP=se(Vn,Ti),UP=se(tt.down,Ti),r0="clone",dc,uc,KP="content",cc=e=>({x:e.pageX-p(i0).scrollLeft(),y:e.pageY-p(i0).scrollTop()}),jP="dx-gesture-cover",XP="dx-overlay-wrapper",qP="dx-overlay-content";class n0{constructor(t,i){this._preventScroll=!0,this._component=i,t==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(t,i){var r=!1;t.some(n=>{var a=p(n),s=a.hasClass(XP)&&a.css("pointerEvents")!=="none",o=a.hasClass(qP);return s||o?!0:(r=this._trySetScrollable(n,i),r)}),r||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(t){return(t.css(this._overFlowAttr)==="auto"||t.hasClass("dx-scrollable-container"))&&t.prop(this._scrollSizeProp)>t[this._sizeAttr]()}_trySetScrollable(t,i){var r=p(t),n,a=this._component.option("scrollSensitivity"),s=this.isScrollable(r);return s&&(n=this._calculateDistanceToBorders(r,i),a>n[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(n[this._limitProps.start]),this._$scrollableAtPointer=r):a>n[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(n[this._limitProps.end]),this._$scrollableAtPointer=r):(s=!1,this._preventScroll=!1)),s}_calculateDistanceToBorders(t,i){var r=t.get(0),n;return r?(n=rt(r),{left:i.x-n.left,top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y}):{}}_calculateScrollSpeed(t){var i=this._component,r=i.option("scrollSensitivity"),n=i.option("scrollSpeed");return Math.ceil(Math.pow((r-t)/r,2)*n)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var t=this._$scrollableAtPointer.closest(".dx-scrollable"),i=t.data("dxScrollable")||t.data("dxScrollView");if(i){var r=i.scrollOffset()[this._limitProps.start]+this._scrollSpeed;i.scrollTo({[this._limitProps.start]:r})}}else{var n=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](n)}var a=this._component._dragMoveArgs;a&&this._component._dragMoveHandler(a)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(t,i){if(!t)return!1;var r=rt(t.get(0)),n=r[this._limitProps.start],a=r[this._sizeAttr],s=cc(i),o=this._sizeAttr==="width"?s.x:s.y;return o<n||o>n+a}}var YP=am.inherit({ctor:function(e){this.callBase(),this._strategy=e},_step:function(){var e=this._strategy._horizontalScrollHelper,t=this._strategy._verticalScrollHelper;e&&e.scrollByStep(),t&&t.scrollByStep()}}),a0=or.inherit({reset:Q,dragMove:Q,dragEnter:Q,dragLeave:Q,dragEnd:function(e){var t=this._getSourceDraggable();return t._fireRemoveEvent(e),new ee().resolve()},_fireRemoveEvent:Q,_getDefaultOptions:function(){return H(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference:function(){this.callBase.apply(this,arguments),H(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init:function(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new YP(this),this._horizontalScrollHelper=new n0("horizontal",this),this._verticalScrollHelper=new n0("vertical",this)},_normalizeCursorOffset:function(e){return Be(e)&&(e={h:e.x,v:e.y}),e=Ma(e).map(t=>parseFloat(t)),{left:e[0],top:e.length===1?e[0]:e[1]}},_getNormalizedCursorOffset:function(e,t){return he(e)&&(e=e.call(this,t)),this._normalizeCursorOffset(e)},_calculateElementOffset:function(e){var t,i,r=e.event,n=p(e.itemElement),a=p(e.dragElement),s=this._dragElementIsCloned(),o=this.option("cursorOffset"),l={left:0,top:0},d=this._initialLocate=bt(a);return(s||e.initialOffset||o)&&(t=e.initialOffset||n.offset(),o&&(l=this._getNormalizedCursorOffset(o,e),isFinite(l.left)&&(t.left=r.pageX),isFinite(l.top)&&(t.top=r.pageY)),i=a.offset(),t.top-=i.top+(l.top||0)-d.top,t.left-=i.left+(l.left||0)-d.left),t},_initPosition:function(e){var t=p(e.dragElement),i=this._calculateElementOffset(e);i&&this._move(i,t),this._startPosition=bt(t)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},_addWidgetPrefix:function(e){var t=this.NAME;return Ch(t)+(e?"-"+e:"")},_getItemsSelector:function(){return this.option("filter")||""},_$content:function(){var e=this.$element(),t=e.children(".dx-template-wrapper");return t.length?t:e},_attachEventHandlers:function(){if(!this.option("disabled")){var e=this._$content(),t=this._getItemsSelector(),i=this.option("allowMoveByClick"),r={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(n,a)=>{var s=this.option("group"),o=this._getSourceDraggable().option("group"),l=this._getScrollable(n);return this._verticalScrollHelper.isOutsideScrollable(l,a)||this._horizontalScrollHelper.isOutsideScrollable(l,a)?!1:o&&o===s}};i&&(e=this._getArea(),F.on(e,UP,r,this._pointerDownHandler.bind(this))),t[0]===">"&&(t=t.slice(1)),F.on(e,$P,t,r,this._dragStartHandler.bind(this)),F.on(e,VP,r,this._dragMoveHandler.bind(this)),F.on(e,zP,r,this._dragEndHandler.bind(this)),F.on(e,GP,r,this._dragEnterHandler.bind(this)),F.on(e,WP,r,this._dragLeaveHandler.bind(this))}},_dragElementIsCloned:function(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(r0))},_getDragTemplateArgs:function(e,t){return{container:Ie(t),model:{itemData:this.option("itemData"),itemElement:Ie(e)}}},_createDragElement:function(e){var t=e,i=this.option("clone"),r=this._getContainer(),n=this.option("dragTemplate");return n?(n=this._getTemplate(n),t=p("<div>").appendTo(r),n.render(this._getDragTemplateArgs(e,t))):i&&(t=p("<div>").appendTo(r),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(t)),t.toggleClass(this._addWidgetPrefix(r0),t.get(0)!==e.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement:function(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement:function(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers:function(){F.off(this._$content(),"."+Ti),F.off(this._getArea(),"."+Ti)},_move:function(e,t){ht(t||this._$dragElement,e)},_getDraggableElement:function(e){var t=this._getSourceElement();if(t)return t;var i=this.option("allowMoveByClick");if(i)return this.$element();var r=p(e&&e.target),n=this._getItemsSelector();if(n[0]===">"){var a=this._$content().find(n);a.is(r)||(r=r.closest(a))}return r},_getSourceElement:function(){var e=this._getSourceDraggable();return e._$sourceElement},_pointerDownHandler:function(e){if(!Yh(e)){var t={},i=this.$element(),r=this.option("dragDirection");(r==="horizontal"||r==="both")&&(t.left=e.pageX-i.offset().left+bt(i).left-i.width()/2),(r==="vertical"||r==="both")&&(t.top=e.pageY-i.offset().top+bt(i).top-i.height()/2),this._move(t,i),this._getAction("onDragMove")(this._getEventArgs(e))}},_isValidElement:function(e,t){var i=this.option("handle"),r=p(e.originalEvent&&e.originalEvent.target);return i&&!r.closest(i).length||!t.length?!1:!t.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler:function(e){var t=this._getDraggableElement(e);if(!this._$sourceElement){if(!this._isValidElement(e,t)){e.cancel=!0;return}var i=this._getDragStartArgs(e,t);if(this._getAction("onDragStart")(i),i.cancel){e.cancel=!0;return}this.option("itemData",i.itemData),this._setSourceDraggable(),this._$sourceElement=t;var r=t.offset(),n=this._$dragElement=this._createDragElement(t);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(n.children());var a=n.css("position")==="fixed";this._initPosition(H({},i,{dragElement:n.get(0),initialOffset:a&&r}));var s=this._getArea(),o=this._getAreaOffset(s),l=this._getBoundOffset(),d=s.outerWidth(),u=s.outerHeight(),c=n.width(),h=n.height(),f=n.offset().left-o.left,g=n.offset().top-o.top;s.length&&(e.maxLeftOffset=f-l.left,e.maxRightOffset=d-f-c-l.right,e.maxTopOffset=g-l.top,e.maxBottomOffset=u-g-h-l.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset:function(e){var t=e&&Tt.offset(e);return t||{left:0,top:0}},_toggleDraggingClass:function(e){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),e)},_toggleDragSourceClass:function(e,t){var i=t||this._$sourceElement;i&&i.toggleClass(this._addWidgetPrefix("source"),e)},_setGestureCoverCursor:function(e){p(".".concat(jP)).css("cursor",e.css("cursor"))},_getBoundOffset:function(){var e=this.option("boundOffset");return he(e)&&(e=e.call(this)),dy(e)},_getArea:function(){var e=this.option("boundary");return he(e)&&(e=e.call(this)),p(e)},_getContainer:function(){var e=this.option("container");return e===void 0&&(e=ki()),p(e)},_dragMoveHandler:function(e,t){if(this._dragMoveArgs=e,!this._$dragElement){e.cancel=!0;return}var i=e.offset,r=this._startPosition;this._move({left:r.left+i.x,top:r.top+i.y}),t||this._updateScrollable(e);var n=this._getEventArgs(e);if(this._getAction("onDragMove")(n),n.cancel!==!0){var a=this._getTargetDraggable();a.dragMove(e,t)}},_updateScrollable:function(e){if(this.option("autoScroll")){var t=cc(e),i=Kf(t.x,t.y);this._verticalScrollHelper.updateScrollable(i,t),this._horizontalScrollHelper.updateScrollable(i,t)}},_getScrollable:function(e){var t;return e.parents().toArray().some(i=>{var r=p(i);if(this._horizontalScrollHelper.isScrollable(r)||this._verticalScrollHelper.isScrollable(r))return t=r,!0}),t},_defaultActionArgs:function(){var e=this.callBase.apply(this,arguments),t=this.option("component");return t&&(e.component=t,e.element=t.element()),e},_getEventArgs:function(e){var t=this._getSourceDraggable(),i=this._getTargetDraggable();return{event:e,itemData:t.option("itemData"),itemElement:Ie(t._$sourceElement),fromComponent:t.option("component")||t,toComponent:i.option("component")||i,fromData:t.option("data"),toData:i.option("data")}},_getDragStartArgs:function(e,t){var i=this._getEventArgs(e);return{event:i.event,itemData:i.itemData,itemElement:t,fromData:i.fromData}},_revertItemToInitialPosition:function(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler:function(e){var t=new ee,i=this._getEventArgs(e),r=this._getEventArgs(e),n=this._getTargetDraggable(),a=!0;try{this._getAction("onDragEnd")(i)}finally{ye(At(i.cancel)).done(s=>{if(!s&&(n!==this&&n._getAction("onDrop")(r),!r.cancel)){a=!1,ye(At(n.dragEnd(i))).always(t.resolve);return}t.resolve()}).fail(t.resolve),t.done(()=>{a&&this._revertItemToInitialPosition(),this.reset(),n.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()})}},_isTargetOverAnotherDraggable:function(e){var t=this._getSourceDraggable();if(this===t)return!1;var i=t._$dragElement,r=t.$element(),n=this.$element(),a=cc(e),s=Kf(a.x,a.y),o=s.filter(c=>{var h=p(c);if(h.hasClass(this._addWidgetPrefix()))return!h.closest(i).length})[0],l=this._getSourceElement(),d=o===r.get(0),u=p(o).closest(l).length;return!o||o===n.get(0)&&!d&&!u},_dragEnterHandler:function(e){this._fireDragEnterEvent(e),this._isTargetOverAnotherDraggable(e)&&this._setTargetDraggable();var t=this._getSourceDraggable();t.dragEnter(e)},_dragLeaveHandler:function(e){this._fireDragLeaveEvent(e),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var t=this._getSourceDraggable();t.dragLeave(e)},_getAction:function(e){return this["_"+e+"Action"]||this._createActionByOption(e)},_getAnonymousTemplateName:function(){return KP},_initTemplates:function(){!this.option("contentTemplate")||(this._templateManager.addDefaultTemplates({content:new sr}),this.callBase.apply(this,arguments))},_render:function(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var e=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),t=this._getTemplateByOption("contentTemplate");t&&p(t.render({container:this.element(),transclude:e}))},_optionChanged:function(e){var t=e.name;switch(t){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":this["_"+t+"Action"]=this._createActionByOption(t);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(e)}},_getTargetDraggable:function(){return dc||this},_getSourceDraggable:function(){return uc||this},_setTargetDraggable:function(){var e=this.option("group"),t=this._getSourceDraggable();e&&e===t.option("group")&&(dc=this)},_setSourceDraggable:function(){uc=this},_resetSourceDraggable:function(){uc=null},_resetTargetDraggable:function(){dc=null},_dispose:function(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragEnter")(t)},_fireDragLeaveEvent:function(e){var t=this._getEventArgs(e);this._getAction("onDragLeave")(t)}});Ge(Ti,a0);var s0=Oe(),ZP="dxSortable",o0="placeholder",JP="clone",l0=e=>p(e).is(":visible"),QP=(e,t)=>{var i,r;if(!!e){var n=((i=t.to)===null||i===void 0?void 0:i.left)||0,a=((r=t.to)===null||r===void 0?void 0:r.top)||0;e.style.transform="translate(".concat(n,"px,").concat(a,"px)"),e.style.transition="transform ".concat(t.duration,"ms ").concat(t.easing)}},eB=e=>{!e||(e.style.transform="",e.style.transition="")};function tB(e){var t=e.offset(),i=e[0].style,r=parseFloat(i.paddingLeft)||0,n=parseFloat(i.paddingRight)||0,a=parseFloat(i.paddingTop)||0,s=e[0].clientWidth-(r+n),o=e.height(),l=t.left+r,d=t.top+a;return{left:l,right:l+s,top:d,bottom:d+o}}var d0=a0.inherit({_init:function(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions:function(){return H(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset:function(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:function(e,t){return e.slice(0,t).reverse().filter(l0)[0]},_dragStartHandler:function(e){if(this.callBase.apply(this,arguments),e.cancel!==!0){var t=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(e),this.option("fromIndex",this._getElementIndex(t)),this.option("fromIndexOffset",this.option("offset"))}},_dragEndHandler:function(){this.callBase.apply(this,arguments),this._unsubscribeFromSourceScroll()},_subscribeToSourceScroll:function(e){var t=this._getScrollable(p(e.target));t&&(this._sourceScrollableInfo={element:t,scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop()},F.on(t,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll:function(){this._sourceScrollableInfo&&(F.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll:function(e){var t=this._sourceScrollableInfo;t&&["scrollLeft","scrollTop"].forEach(i=>{if(e.target[i]!==t[i]){var r=e.target[i]-t[i];this._correctItemPoints(r),t[i]=e.target[i]}})},_dragEnterHandler:function(){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var e=this.option("itemPoints"),t=e[e.length-1];if(t){var i=this.$element(),r=this._getSourceElement(),n=this._isVerticalOrientation(),a=n?r.outerHeight(!0):r.outerWidth(!0),s=i.get(0)[n?"scrollHeight":"scrollWidth"],o=i.get(0)[n?"scrollTop":"scrollLeft"],l=n?"top":"left",d=t[l],u=i.offset()[l],c=u+s-o-d;if(c<a&&n){var h=this._getItems(),f=p(this._getPrevVisibleItem(h));this._$modifiedItem=f,this._modifiedItemMargin=f.get(0).style.marginBottom,f.css("marginBottom",a-c);var g=f.closest(".dx-sortable"),S=g.data("dxScrollable")||g.data("dxScrollView");S&&S.update()}}}},dragEnter:function(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave:function(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_isInsideTargetDraggable:function(e){var t=this._getTargetDraggable().$element(),i=this._getScrollable(t);if(i){var{left:r,right:n,top:a,bottom:s}=tB(i),o=r<=e.pageX&&e.pageX<=n,l=a<=e.pageY&&e.pageY<=s;return l&&o}return!0},dragEnd:function(e){var t=this._getSourceElement(),i=this._getSourceDraggable(),r=i.NAME!==this.NAME,n=this.option("toIndex"),a=this._isInsideTargetDraggable(e.event);if(n!==null&&n>=0&&a){var s,o;if(i!==this&&(s=this._fireAddEvent(e),s||(o=this._fireRemoveEvent(e))),r&&hs(t),this.option("moveItemOnDrop")&&!s&&this._moveItem(t,n,o),i===this)return this._fireReorderEvent(e)}return new ee().resolve()},dragMove:function(e){var t=this.option("itemPoints");if(!!t){for(var i=this._isVerticalOrientation(),r=i?"top":"left",n=i?e.pageY:e.pageX,a=this.option("rtlEnabled"),s,o=t.length-1;o>=0;o--){var l=t[o+1]&&(t[o][r]+t[o+1][r])/2;if((!i&&a?n>l:l>n)||l===void 0)s=t[o];else break}s&&(this._updatePlaceholderPosition(e,s),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode:function(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder:function(){var e;return this._isIndicateMode()&&(e=p("<div>").addClass(this._addWidgetPrefix(o0)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=e,e},_getItems:function(){var e=this._getItemsSelector();return this._$content().find(e).not("."+this._addWidgetPrefix(o0)).not("."+this._addWidgetPrefix(JP)).toArray()},_allowReordering:function(){var e=this._getSourceDraggable(),t=this._getTargetDraggable();return e!==t||this.option("allowReordering")},_isValidPoint:function(e,t,i){var r=this.option("allowDropInsideItem"),n=i||this._allowReordering();return!n&&(e!==0||!r)?!1:this._isIndicateMode()?t===-1||e!==t&&(i||e!==t+1):!0},_getItemPoints:function(){var e=[],t,i,r,n=this.option("rtlEnabled"),a=this._isVerticalOrientation(),s=this._getItems(),o=s.filter(l0),l=o.length,d=this._getDraggableElement(),u=o.indexOf(d.get(0));if(l){for(var c=0;c<=l;c++){var h=!a&&n^c===l,f=a&&c===l;c<l&&(t=p(o[c]),i=t.offset(),r=t.outerWidth()),e.push({dropInsideItem:!1,left:i.left+(h?r:0),top:i.top+(f?e[c-1].height:0),index:c===l?s.length:s.indexOf(t.get(0)),$item:t,width:t.outerWidth(),height:t.outerHeight(),isValid:this._isValidPoint(c,u)})}if(this.option("allowDropInsideItem")){var g=e;e=[];for(var S=0;S<g.length;S++)e.push(g[S]),g[S+1]&&e.push(H({},g[S],{dropInsideItem:!0,top:Math.floor((g[S].top+g[S+1].top)/2),left:Math.floor((g[S].left+g[S+1].left)/2),isValid:this._isValidPoint(S,u,!0)}))}}else e.push({dropInsideItem:!1,index:0,isValid:!0});return e},_updateItemPoints:function(e){(e||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints:function(e){var t=this.option("itemPoints");if(e&&t&&!this.option("autoUpdate")){var i=this._isVerticalOrientation(),r=i?"top":"left";t.forEach(n=>{n[r]-=e})}},_getElementIndex:function(e){return this._getItems().indexOf(e.get(0))},_getDragTemplateArgs:function(e){var t=this.callBase.apply(this,arguments);return t.model.fromIndex=this._getElementIndex(e),t},_togglePlaceholder:function(e){this._$placeholderElement&&this._$placeholderElement.toggle(e)},_isVerticalOrientation:function(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex:function(e,t){var i=this._getSourceDraggable()!==this._getTargetDraggable(),r=this.option("fromIndex");return e===null?r:Math.max(i||r>=e||t?e:e-1,0)},_updatePlaceholderPosition:function(e,t){var i=this._getSourceDraggable(),r=this._normalizeToIndex(t.index,t.dropInsideItem),n=H(this._getEventArgs(e),{toIndex:r,dropInsideItem:t.dropInsideItem});if(t.isValid&&this._getAction("onDragChange")(n),n.cancel||!t.isValid){t.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:t.dropInsideItem,toIndex:t.index}),this._getAction("onPlaceholderPrepared")(H(this._getEventArgs(e),{placeholderElement:Ie(this._$placeholderElement),dragElement:Ie(i._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection:function(e,t){if(this._$scrollable=this._getScrollable(e),this._$scrollable&&this._$scrollable.width()<t){var i=this._$scrollable.width(),r=e.offset().left-this._$scrollable.offset().left,n=i-e.outerWidth()-r;r>0?t=i-r:n>0?t=i-n:t=i}return t},_updatePlaceholderSizes:function(e,t){var i=this.option("dropInsideItem"),r=p(t),n=this._isVerticalOrientation(),a="",s="";e.toggleClass(this._addWidgetPrefix("placeholder-inside"),i),(n||i)&&(a=r.outerWidth()),(!n||i)&&(s=r.outerHeight()),a=this._makeWidthCorrection(r,a),e.css({width:a,height:s})},_moveItem:function(e,t,i){var r,n=this._getItems(),a=n[t],s=this._getSourceDraggable();i&&(e=e.clone(),s._toggleDragSourceClass(!1,e)),a||(r=n[t-1]),this._moveItemCore(e,a,r)},_moveItemCore:function(e,t,i){!t&&!i?e.appendTo(this.$element()):i?e.insertAfter(p(i)):e.insertBefore(p(t))},_getDragStartArgs:function(e,t){return H(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(t)})},_getEventArgs:function(e){var t=this._getSourceDraggable(),i=this._getTargetDraggable(),r=i.option("dropInsideItem");return H(this.callBase.apply(this,arguments),{fromIndex:t.option("fromIndex"),toIndex:this._normalizeToIndex(i.option("toIndex"),r),dropInsideItem:r})},_optionChanged:function(e){var t=e.name;switch(t){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_"+t+"Action"]=this._createActionByOption(t);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(i=>{var r=i?e.value:e.previousValue;if(r!==null){var n=p(this._getItems()[r]);this._toggleDragSourceClass(i,n)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(e);break;case"toIndex":this._optionChangedToIndex(e);break;default:this.callBase(e)}},_optionChangedDropInsideItem:function(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible:function(e){var t=this.$element(),i;if(t.css("overflow")!=="hidden"?i=t.get(0):t.parents().each(function(){if(p(this).css("overflow")!=="visible")return i=this,!1}),i){var r=rt(i),n=this._isVerticalOrientation(),a=n?"top":"left",s=n?"bottom":"right",o=n?s0.pageYOffset:s0.pageXOffset;if(e[a]<r[a]+o||e[a]>r[s]+o)return!1}return!0},_optionChangedToIndex:function(e){var t=e.value;if(this._isIndicateMode()){var i=t!==null&&t>=0;this._togglePlaceholder(i),i&&this._movePlaceholder()}else this._moveItems(e.previousValue,e.value,e.fullUpdate)},update:function(){if(!(this.option("fromIndex")===null&&this.option("toIndex")===null)){this._updateItemPoints(!0),this._updateDragSourceClass();var e=this.option("toIndex");this._optionChangedToIndex({value:e,fullUpdate:!0})}},_updateDragSourceClass:function(){var e=this._getActualFromIndex(),t=p(this._getItems()[e]);t.length&&(this._$sourceElement=t,this._toggleDragSourceClass(!0,t))},_makeLeftCorrection:function(e,t){var i=this._$scrollable;return i&&this._isVerticalOrientation()&&i.scrollLeft()>t&&(e+=i.scrollLeft()-t),e},_movePlaceholder:function(){var e=this._$placeholderElement||this._createPlaceholder(),t=this._getItems(),i=this.option("toIndex"),r=this._isVerticalOrientation(),n=this.option("rtlEnabled"),a=this.option("dropInsideItem"),s=null,o=0,l=t[i];if(l){var d=p(l);s=d.offset(),o=parseFloat(d.css("marginLeft")),!r&&n&&!a&&(s.left+=d.outerWidth(!0))}else{var u=l=this._getPrevVisibleItem(t,i);u&&(s=p(u).offset(),r?s.top+=p(u).outerHeight(!0):n||(s.left+=p(u).outerWidth(!0)))}this._updatePlaceholderSizes(e,l),s&&!this._isPositionVisible(s)&&(s=null),s&&(s.left=this._makeLeftCorrection(s.left,o),this._move(s,e)),e.toggle(!!s)},_getPositions:function(e,t,i,r){for(var n=[],a=0;a<e.length;a++){var s=0;if(r===null||i===null){n.push(s);continue}i===-1?a>=r&&(s=t):r===-1?a>i&&(s=-t):i<r?a>i&&a<r&&(s=-t):i>r&&a>=r&&a<i&&(s=t),n.push(s)}return n},_getDraggableElementSize:function(e){var t=this._getDraggableElement(),i=this.option("draggableElementSize");return i||(i=e?(t.outerHeight()+t.outerHeight(!0))/2:(t.outerWidth()+t.outerWidth(!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",i)),i},_getActualFromIndex:function(){var{fromIndex:e,fromIndexOffset:t,offset:i}=this.option();return e==null?null:e+t-i},_moveItems:function(e,t,i){for(var r=this._getActualFromIndex(),n=this._isVerticalOrientation(),a=n?"top":"left",s=this._getDraggableElementSize(n),o=this._getItems(),l=this._getPositions(o,s,r,e),d=this._getPositions(o,s,r,t),u=this.option("animation"),c=this.option("rtlEnabled"),h=0;h<o.length;h++){var f=o[h],g=l[h],S=d[h];t===null||r===null?eB(f):(g!==S||i&&S)&&QP(f,H({},u,{to:{[a]:!n&&c?-S:S}}))}},_toggleDragSourceClass:function(e,t){var i=t||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||i&&i.toggleClass(this._addWidgetPrefix("source-hidden"),e)},_dispose:function(){this.reset(),this.callBase()},_fireAddEvent:function(e){var t=this._getEventArgs(e);return this._getAction("onAdd")(t),t.cancel},_fireRemoveEvent:function(e){var t=this._getSourceDraggable(),i=this._getEventArgs(e);return t._getAction("onRemove")(i),i.cancel},_fireReorderEvent:function(e){var t=this._getEventArgs(e);return this._getAction("onReorder")(t),t.promise||new ee().resolve()}});Ge(ZP,d0);var iB="dx-list-reorder-handle-container",u0="dx-list-reorder-handle",rB="dx-list-item-ghost-reordering",nB="dx-state-hover";Xi("reorder","default",yr.inherit({_init:function(){var e=this._list;this._groupedEnabled=this._list.option("grouped"),this._lockedDrag=!1;var t=this._groupedEnabled?"> .dx-list-group > .dx-list-group-body > .dx-list-item":"> .dx-list-item";this._sortable=e._createComponent(e._scrollView.content(),d0,H({component:e,contentTemplate:null,allowReordering:!1,filter:t,container:e.$element(),dragDirection:e.option("itemDragging.group")?"both":"vertical",handle:".".concat(u0),dragTemplate:this._dragTemplate,onDragStart:this._dragStartHandler.bind(this),onDragChange:this._dragChangeHandler.bind(this),onReorder:this._reorderHandler.bind(this)},e.option("itemDragging")))},afterRender:function(){this._sortable.update()},_dragTemplate:function(e){return p(e.itemElement).clone().width(p(e.itemElement).width()).addClass(rB).addClass(nB)},_dragStartHandler:function(e){if(this._lockedDrag){e.cancel=!0;return}},_dragChangeHandler:function(e){if(this._groupedEnabled&&!this._sameParent(e.fromIndex,e.toIndex)){e.cancel=!0;return}},_sameParent:function(e,t){var i=this._list.getItemElementByFlatIndex(e),r=this._list.getItemElementByFlatIndex(t);return r.parent().get(0)===i.parent().get(0)},_reorderHandler:function(e){var t=this._list.getItemElementByFlatIndex(e.toIndex);this._list.reorderItem(p(e.itemElement),t)},afterBag:function(e){var t=p("<div>").addClass(u0);F.on(t,"dxpointerdown",i=>{this._lockedDrag=!Pi(i)}),F.on(t,"dxhold",{timeout:30},i=>{i.cancel=!0,this._lockedDrag=!1}),e.$container.addClass(iB).append(t)}}));var c0=[],_o=function(e,t,i){c0.push({enabled:e,decoratorType:t,decoratorSubType:i})};_o(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")}),_o(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var e=this.option("itemDeleteMode");return e==="toggle"||e==="slideButton"||e==="swipe"||e==="static"?"delete":"menu"},function(){var e=this.option("itemDeleteMode");return e==="slideItem"&&(e="slide"),e==="hold"&&(e="context"),e}),_o(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"}),_o(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var aB="dx-list-item-before-bag",sB="dx-list-item-after-bag",oB="beforeBag",lB="afterBag",dB="modifyElement",uB="afterRender",cB="getExcludedSelectors",hB=Ee.inherit({ctor:function(e){this._list=e,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&M(this._decorators,function(e,t){t.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],M(c0,function(e,t){var i=t.enabled.call(this._list);if(i){var r=t.decoratorType.call(this._list),n=t.decoratorSubType.call(this._list),a=this._createDecorator(r,n);this._decorators.push(a)}}.bind(this))},_createDecorator:function(e,t){var i=this._findDecorator(e,t);return new i(this._list)},_findDecorator:function(e,t){var i=Sm[e][t];if(!i)throw Ne.Error("E1012",e,t);return i},modifyItemElement:function(e){var t=p(e.itemElement),i={$itemElement:t};this._prependBeforeBags(t,i),this._appendAfterBags(t,i),this._applyDecorators(dB,i)},afterItemsRendered:function(){this._applyDecorators(uB)},_prependBeforeBags:function(e,t){var i=this._collectDecoratorsMarkup(oB,t,aB);e.prepend(i)},_appendAfterBags:function(e,t){var i=this._collectDecoratorsMarkup(lB,t,sB);e.append(i)},_collectDecoratorsMarkup:function(e,t,i){var r=p("<div>");return M(this._decorators,function(){var n=p("<div>").addClass(i);this[e](H({$container:n},t)),n.children().length&&r.append(n)}),r.children()},_applyDecorators:function(e,t){M(this._decorators,function(){this[e](t)})},_handlerExists:function(e){if(!this._decorators)return!1;for(var t=this._decorators,i=t.length,r=0;r<i;r++)if(t[r][e]!==Q)return!0;return!1},_eventHandler:function(e,t,i){if(!this._decorators)return!1;for(var r=!1,n=this._decorators,a=n.length,s=0;s<a&&(r=n[s][e](t,i),!r);s++);return r},handleClick:function(e,t){return this._eventHandler("handleClick",e,t)},handleKeyboardEvents:function(e,t){return this._eventHandler("handleKeyboardEvents",e,t)},handleEnterPressing:function(e){return this._eventHandler("handleEnterPressing",e)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(e,t){return this._eventHandler("handleContextMenu",e,t)},getExcludedItemSelectors:function(){var e=[];return this._applyDecorators(cB,e),e.join(",")}}),fB="dx-list-item-selected",pB="dx-list-item-response-wait",_B=lc.inherit({_supportedKeys(){var e=this,t=this.callBase(),i=(r,n)=>{var a=this._editStrategy,s=this.option("focusedElement"),o=a.getNormalizedIndex(s),l=o===this._getLastItemIndex();if(!(l&&this._isDataSourceLoading()))if(r.shiftKey&&e.option("itemDragging.allowReordering")){var d=o+(n?-1:1),u=a.getItemElement(d);this.reorderItem(s,u),this.scrollToItem(s),r.preventDefault()}else{var c=this._editProvider,h=c.handleKeyboardEvents(o,n);h||(n?t.upArrow(r):t.downArrow(r))}};return H({},t,{del:r=>{e.option("allowItemDeleting")&&(r.preventDefault(),e.deleteItem(e.option("focusedElement")))},upArrow:r=>i(r,!0),downArrow:r=>i(r),enter:function(r){this._editProvider.handleEnterPressing(r)||t.enter.apply(this,arguments)},space:function(r){this._editProvider.handleEnterPressing(r)||t.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))},_isItemStrictEquals:function(e,t){var i=e&&e.__dx_key__;return i&&!this.key()&&this._selection.isItemSelected(i)?!1:this.callBase(e,t)},_getDefaultOptions(){return H(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:xe.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:e=>e.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new hB(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new zk(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>fB,_itemResponseWaitClass:()=>pB,_itemClickHandler(e){var t=p(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=this._editProvider.handleClick(t,e);i||(this._saveSelectionChangeEvent(e),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(e){var t=p(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=qa(e)&&this._editProvider.handleContextMenu(t,e);if(i){e.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(e){if(this.option("grouped")){var t,i=(t=this._editStrategy.getIndexByItemData(e))===null||t===void 0?void 0:t.group;return this._getGroupContainerByIndex(i)}else return this.callBase(e)},_itemContextMenuHandler(e){var t=p(e.currentTarget);if(!t.is(".dx-state-disabled, .dx-state-disabled *")){var i=!e.handledByEditProvider&&this._editProvider.handleContextMenu(t,e);if(i){e.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(e){this.callBase(...arguments),this._editProvider.modifyItemElement(e)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(e){var t=this._editStrategy.getItemElement(e);this.option("focusedElement",t),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(e){switch(e.name){case"selectAllMode":this._initDataSource(),this._dataSource.pageIndex(0),this._dataSource.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(e)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(e){return this._itemElements().index(e)},getItemElementByFlatIndex(e){var t=this._itemElements();return e<0||e>=t.length?p():t.eq(e)},getItemByIndex(e){return this._editStrategy.getItemDataByIndex(e)}}),h0=_B.inherit(eo).inherit({_addWidgetPrefix:function(e){return"dx-list-"+e},_getCombinedFilter:function(){var e,t,i=this._dataSource;return i&&(t={filter:i.filter()},i._addSearchFilter(t),e=t.filter),e},_initDataSource:function(){var e=this.option("searchValue"),t=this.option("searchExpr"),i=this.option("searchMode");this.callBase(),this._dataSource&&(e&&e.length&&this._dataSource.searchValue(e),i.length&&this._dataSource.searchOperation(eo.getOperationBySearchMode(i)),t&&this._dataSource.searchExpr(t))}});Ge("dxList",h0);var f0="dx-header-filter",vB="dx-header-filter-menu",gB="text";function p0(e){e=e||[];for(var t=0;t<e.length;t++)e[t].selected=!1,p0(e[t].items)}function _0(e,t){if(!e.component.option("searchValue")){var i=p(e.element).find(".dx-list-select-all-checkbox").data("dxCheckBox");i&&t&&t.length&&i.option("value",void 0)}}function mB(e,t){var i=t.headerFilter;return i&&P(i.allowSearch)?i.allowSearch:e.option("headerFilter.allowSearch")}function xB(e,t,i){if(t^i){if(e.selected=!0,i&&e.items){for(var r=0;r<e.items.length;r++)if(!e.items[r].selected){e.selected=void 0;break}}}else(i||e.selected)&&(e.selected=!1,p0(e.items))}var yB=pv.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(e){var t=this.getListContainer(),i=t.option("searchValue"),r=!i&&!e.isFilterBuilder&&t.$element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked"),n=[];r?(e.type==="tree"&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):e.type==="tree"&&(e.filterType&&(e.filterType="include"),function a(s,o,l){M(o,function(d,u){if(u.selected!==void 0&&!!u.selected^l){var c=t._getNode(u),h=t._hasChildren(c),f=h&&u.items&&u.items.some(g=>g.selected);if(!i||!f){s.push(u.value);return}}u.items&&u.items.length&&a(s,u.items,l)})}(n,t.option("items"),!1),e.filterValues=n),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){if(t){this._initializePopupContainer(t);var i=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(e,t),i.show()}},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var i=t.alignment==="right"?"left":"right";this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:i+" top",at:i+" bottom",of:e,collision:"flip fit"}))},_getSearchExpr:function(e){var t=e.lookup,i=e.useDefaultSearchExpr,r=e.headerFilter&&e.headerFilter.dataSource;if(i||P(r)&&!he(r))return gB;if(t)return t.displayExpr||"this";if(e.dataSource){var n=e.dataSource.group;if(Array.isArray(n)&&n.length>0)return n[0].selector;if(he(n)&&!e.remoteFiltering)return n}return e.dataField||e.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(e){var t=this,i=t.element(),r=t.option("headerFilter"),n=e.headerFilter&&e.headerFilter.width||r&&r.width,a=e.headerFilter&&e.headerFilter.height||r&&r.height,s={width:n,height:a,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,closeOnTargetScroll:!1,dragEnabled:!1,closeOnOutsideClick:!0,focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:r.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(o){o.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e),e.onShowing&&e.onShowing(o)},onShown:function(){t.getListContainer().focus()},onHidden:e.onHidden,onInitialized:function(o){var l=o.component;l.option("animation",l._getDefaultOptions().animation)}};P(t._popupContainer)?t._popupContainer.option(s):t._popupContainer=t._createComponent(i,qr,s)},_initializeListContainer:function(e){var t=this,i=t._popupContainer.$content(),r={searchEnabled:mB(t,e),searchTimeout:t.option("headerFilter.searchTimeout"),searchMode:e.headerFilter&&e.headerFilter.searchMode||"",dataSource:e.dataSource,onContentReady:function(){t.renderCompleted.fire()},itemTemplate:function(a,s,o){var l=p(o);return e.encodeHtml?l.text(a.text):l.html(a.text)}};function n(a){a.fullName==="searchValue"&&!e.isFilterBuilder&&t.option("headerFilter.hideSelectAllOnSearch")!==!1&&(e.type==="tree"?a.component.option("showCheckBoxesMode",a.value?"normal":"selectAll"):a.component.option("selectionMode",a.value?"multiple":"all"))}e.type==="tree"?t._listContainer=t._createComponent(p("<div>").appendTo(i),Gu,H(r,{showCheckBoxesMode:e.isFilterBuilder?"normal":"selectAll",onOptionChanged:n,keyExpr:"id"})):t._listContainer=t._createComponent(p("<div>").appendTo(i),h0,H(r,{searchExpr:t._getSearchExpr(e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:e.isFilterBuilder?"multiple":"all",onOptionChanged:n,onSelectionChanged:function(a){var s=a.component.option("items"),o=a.component.option("selectedItems");if(!a.component._selectedItemsUpdating&&!a.component.option("searchValue")&&!e.isFilterBuilder){var l=e.filterValues||[],d=e.filterType==="exclude";o.length===0&&s.length&&(l.length<=1||d&&l.length===s.length-1)?(e.filterType="include",e.filterValues=[]):o.length===s.length&&(e.filterType="exclude",e.filterValues=[])}M(s,function(u,c){var h=Os.getIndexByKey(c,o,null)>=0,f=!!c.selected;if(f!==h){c.selected=h,e.filterValues=e.filterValues||[];var g=Os.getIndexByKey(c.value,e.filterValues,null);g>=0&&e.filterValues.splice(g,1),h^e.filterType==="exclude"&&e.filterValues.push(c.value)}}),_0(a,e.filterValues)},onContentReady:function(a){var s=a.component,o=s.option("items"),l=[];M(o,function(){this.selected&&l.push(this)}),s._selectedItemsUpdating=!0,s.option("selectedItems",l),s._selectedItemsUpdating=!1,_0(a,e.filterValues)}}))},_renderCore:function(){this.element().addClass(vB)}}),CB=function(e){return P(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering},SB={_applyColumnState:function(e){var t,i=e.rootElement,r=e.column;return e.name==="headerFilter"?(i.find("."+f0).remove(),CB(r)&&(t=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(r)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0)),t):this.callBase(e)},_isHeaderFilterEmpty:function(e){return!e.filterValues||!e.filterValues.length},_getIndicatorClassName:function(e){return e==="headerFilter"?f0:this.callBase(e)},_renderIndicator:function(e){var t=e.container,i=e.indicator;if(e.name==="headerFilter"){var r=this.option("rtlEnabled");if(t.children().length&&(!r&&e.columnAlignment==="right"||r&&e.columnAlignment==="left")){t.prepend(i);return}}this.callBase(e)},optionChanged:function(e){if(e.name==="headerFilter"){var t=this.name==="columnHeadersView";this._invalidate(t,t),e.handled=!0}else this.callBase(e)}},v0="dx-column-indicators",EB="dx-group-panel-item",bB={_applyColumnState:function(e){var t,i=this.option("rtlEnabled"),r=this._getColumnAlignment(e.column.alignment,i),n=H(!0,{columnAlignment:r},e),a=n.rootElement.hasClass(EB),s=this._createIndicatorContainer(n,a),o=p("<span>").addClass(this._getIndicatorClassName(e.name)),l=(t=this.component)===null||t===void 0?void 0:t.getController("columns"),d=(l==null?void 0:l.getHeaderContentAlignment(r))||r;return n.container=s,n.indicator=o,this._renderIndicator(n),s[(a||!e.showColumnLines)&&d==="left"?"appendTo":"prependTo"](e.rootElement),o},_getIndicatorClassName:Q,_getColumnAlignment:function(e,t){return t=t||this.option("rtlEnabled"),e&&e!=="center"?e:ls(t)},_createIndicatorContainer:function(e,t){var i=this._getIndicatorContainer(e.rootElement),r=e.columnAlignment==="left"?"right":"left";return i.length||(i=p("<div>").addClass(v0)),this.setAria("role","presentation",i),i.css("float",e.showColumnLines&&!t?r:null)},_getIndicatorContainer:function(e){return e&&e.find("."+v0)},_getIndicatorElements:function(e){var t=this._getIndicatorContainer(e);return t&&t.children()},_renderIndicator:function(e){var t=e.container,i=e.indicator;t&&i&&t.append(i)},_updateIndicators:function(e){var t=this.getColumns(),i=this.getColumnElements(),r;if(!(!i||t.length!==i.length))for(var n=0;n<t.length;n++){r=i.eq(n),this._updateIndicator(r,t[n],e);var a=r.parent().data("options");a&&a.cells&&(a.cells[r.index()].column=t[n])}},_updateIndicator:function(e,t,i){if(!t.command)return this._applyColumnState({name:i,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}},g0="dx-sort",m0="dx-sort-none",TB="dx-sort-up",wB="dx-sort-down",IB="dx-sort-index",x0="dx-sort-index-icon",AB="action",DB={_applyColumnState:function(e){var t,i,r=this.option("sorting.mode"),n=e.rootElement,a=e.column,s=this._getIndicatorContainer(n);if(e.name==="sort"){n.find("."+g0).remove(),!s.children().length&&s.remove();var o=(r==="single"||r==="multiple")&&a.allowSorting;if(!P(a.groupIndex)&&(o||P(a.sortOrder))){t=a.sortOrder==="asc"?"ascending":"descending",i=this.callBase(e).toggleClass(TB,a.sortOrder==="asc").toggleClass(wB,a.sortOrder==="desc");var l=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");l&&this.option("sorting.showSortIndexes")&&a.sortIndex>=0&&(p("<span>").addClass(x0).text(a.sortIndex+1).appendTo(i),i.addClass(IB)),e.rootElement.addClass(this.addWidgetPrefix(AB))}return P(a.sortOrder)?this.setAria("sort",t,n):this.setAria("sort","none",n),i}else return this.callBase(e)},_getIndicatorClassName:function(e){return e==="sort"?g0:e==="sortIndex"?x0:this.callBase(e)},_renderIndicator:function(e){var t=e.column,i=e.container,r=e.indicator;if(e.name==="sort"){var n=this.option("rtlEnabled");if(P(t.sortOrder)||r&&r.addClass(m0),i.children().length&&(!n&&e.columnAlignment==="left"||n&&e.columnAlignment==="right")){i.prepend(r);return}}this.callBase(e)},_updateIndicator:function(e,t,i){if(!(i==="sort"&&P(t.groupIndex)))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var i=this.callBase(e);return t?i:i&&i.not("."+m0)}},{getSwatchContainer:OB}=Dp,vo="dxSortable",y0="dx-sortable-old",C0=2,S0=20,kB=10;function LB(e,t,i){var r=p(e),n=r.offset();if(t>=n.left&&t<=n.left+r.outerWidth(!0)&&i>=n.top&&i<=n.top+r.outerHeight(!0))return!0}function PB(e,t,i){return P(t.posHorizontal)?i?e>t.posHorizontal:e<t.posHorizontal:!0}function BB(e,t){var i=-1,r=t.get(0);return M(e,function(n,a){var s=p(a);if(s.attr("item-group")&&s.attr("item-group")===e.eq(n-1).attr("item-group")||i++,a===r)return!1}),i===e.length?-1:i}function RB(e,t){var i;return M(t,function(){LB(this,e.pageX,e.pageY)&&(i=p(this))}),i}function MB(e,t,i){for(var r=[],n=[],a=0;a<e.length;a+=n.length)if(n=e.eq(a),n.attr("item-group")&&(n=i.find("[item-group='"+n.attr("item-group")+"']")),n.is(":visible")){var s={item:n,index:r.length,posHorizontal:t?void 0:(n.last().outerWidth(!0)+n.last().offset().left+n.offset().left)/2};t?s.posVertical=(n.last().offset().top+n.offset().top+n.last().outerHeight(!0))/2:s.posVertical=n.last().outerHeight(!0)+n.last().offset().top,r.push(s)}return r}function FB(e){var t=null,i=e.scrollTop(),r=e.$element(),n=r.offset().top,a=r.height(),s=0;function o(u){i=u.scrollOffset.top}e.on("scroll",o);function l(){d(),e.scrollTo(i+=s),t=setTimeout(l,kB)}function d(){clearTimeout(t)}return{moveIfNeed:function(u){if(u.pageY<=n+S0)s=-C0;else if(u.pageY>=n+a-S0)s=C0;else{s=0,d();return}l()},element:function(){return r},dispose:function(){d(),e.off("scroll",o)}}}var E0=or.inherit({_getDefaultOptions:function(){return H(this.callBase(),{onChanged:null,onDragging:null,itemRender:null,groupSelector:null,itemSelector:".dx-sort-item",itemContainerSelector:".dx-sortable-old",sourceClass:"dx-drag-source",dragClass:"dx-drag",targetClass:"dx-drag-target",direction:"vertical",allowDragging:!0,groupFilter:null,useIndicator:!1})},_renderItem:function(e,t){var i=this.option("itemRender"),r;return i?r=i(e,t):(r=e.clone(),r.css({width:e.width(),height:e.height()})),r},_renderIndicator:function(e,t,i,r){var n=e.outerHeight(!0),a=e.outerWidth(!0),s=e.offset().top-i.offset().top,o=e.offset().left-i.offset().left;this._indicator.css({position:"absolute",top:r&&t?s+n:s,left:r&&!t?o+a:o}).toggleClass("dx-position-indicator-horizontal",!t).toggleClass("dx-position-indicator-vertical",!!t).toggleClass("dx-position-indicator-last",!!r).height("").width("").appendTo(i),t?this._indicator.width(a):this._indicator.height(n)},_renderDraggable:function(e){this._$draggable&&this._$draggable.remove(),this._$draggable=this._renderItem(e,"drag").addClass(this.option("dragClass")).appendTo(OB(e)).css({zIndex:1e6,position:"absolute"})},_detachEventHandlers:function(){var e=[Vi,ur,Vr,$n,Vn,vs].join(" ");F.off(this._getEventListener(),se(e,vo))},_getItemOffset:function(e,t,i){for(var r=0;r<t.length;r++){var n=void 0,a=i.pageY<t[r].posVertical;if(e?n=a:a&&(n=PB(i.pageX,t[r],this.option("rtlEnabled")),!n&&t[r+1]&&t[r+1].posVertical>t[r].posVertical&&(n=!0)),n)return t[r]}},_getEventListener:function(){var e=this.option("groupSelector"),t=this.$element();return e?t.find(e):t},_attachEventHandlers:function(){var e=this,t=e.option("itemSelector"),i=e.option("itemContainerSelector"),r=e.option("groupSelector"),n=e.option("sourceClass"),a=e.option("targetClass"),s=e.option("onDragging"),o=e.option("groupFilter"),l,d,u,c,h,f,g=e.$element(),S,C=null,T=-1,D=function(){C&&C.dispose(),C=null};if(e._detachEventHandlers(),e.option("allowDragging")){var b=e._getEventListener();F.on(b,se(ur,vo),t,function(m){l=p(m.currentTarget);var x=l.closest(r);f=x.attr("group"),d=BB((r?x:g).find(t),l),l.attr("item-group")&&(l=x.find("[item-group='"+l.attr("item-group")+"']")),e._renderDraggable(l),u=e._renderItem(l,"target").addClass(a),l.addClass(n),function(){h=[],M(l,function(E,w){h.push(p(w).offset())})}(),S=function(){return r?o?p(r).filter(o):g.find(r):g}(),e._indicator=p("<div>").addClass("dx-position-indicator")}),F.on(b,se(Vi,vo),function(m){var x,E,w;if(!!l){if(T=-1,e._indicator.detach(),M(e._$draggable,function(q,U){p(U).css({top:h[q].top+m.offset.y,left:h[q].left+m.offset.x})}),c&&c.removeClass(a),c=RB(m,S),c&&function(){var q={sourceGroup:f,sourceIndex:d,sourceElement:l,targetGroup:c.attr("group"),targetIndex:c.find(t).index(u)};s&&s(q),q.cancel&&(c=void 0)}(),c&&C&&c.get(0)!==C.element().get(0)&&D(),C&&C.moveIfNeed(m),!c){u.detach();return}!C&&c.attr("allow-scrolling")&&(C=FB(c.dxScrollable("instance"))),c.addClass(a);var k=c.find(i),O=k.find(t),B=c.closest("."+y0).data("dxSortableOld"),$=B.option("useIndicator"),I=(B||e).option("direction")==="vertical",N=MB(O,I,k),v=e._getItemOffset(I,N,m);if(v){if(x=v.item,w=N[v.index-1]&&N[v.index-1].item,x.hasClass(n)||w&&w.hasClass(n)&&w.is(":visible")){u.detach();return}if(T=v.index,!$){u.insertBefore(x);return}var A=c.attr("group")!==f,W=T===d,z=T===d+1;if(A){e._renderIndicator(x,I,c,e.option("rtlEnabled")&&!I);return}!W&&!z&&e._renderIndicator(x,I,c,e.option("rtlEnabled")&&!I)}else{if(E=O.last(),E.is(":visible")&&E.hasClass(n))return;k.length&&(T=N.length?N[N.length-1].index+1:0),$?O.length&&e._renderIndicator(E,I,c,!e.option("rtlEnabled")||I):u.appendTo(k)}}}),F.on(b,se(Vr,vo),function(){if(D(),!!l){var m=e.option("onChanged"),x={sourceIndex:d,sourceElement:l,sourceGroup:f,targetIndex:T,removeSourceElement:!0,removeTargetElement:!1,removeSourceClass:!0};c&&(c.removeClass(a),x.targetGroup=c.attr("group"),(f!==x.targetGroup||T>-1)&&(m&&m(x),x.removeSourceElement&&l.remove())),e._indicator.detach(),x.removeSourceClass&&l.removeClass(n),l=null,e._$draggable.remove(),e._$draggable=null,x.removeTargetElement&&u.remove(),u.removeClass(a),u=null}})}},_init:function(){this.callBase(),this._attachEventHandlers()},_render:function(){this.callBase(),this.$element().addClass(y0)},_dispose:function(){var e=this;e.callBase.apply(e,arguments),e._$draggable&&e._$draggable.detach(),e._indicator&&e._indicator.detach()},_optionChanged:function(e){switch(e.name){case"onDragging":case"onChanged":case"itemRender":case"groupSelector":case"itemSelector":case"itemContainerSelector":case"sourceClass":case"targetClass":case"dragClass":case"allowDragging":case"groupFilter":case"useIndicator":this._attachEventHandlers();break;case"direction":break;default:this.callBase(e)}},_useTemplates:function(){return!1}});Ge("dxSortableOld",E0);var NB=1,go="<div>",HB=yB.inherit({_getSearchExpr:function(e){return e.useDefaultSearchExpr=!0,this.callBase(e)}}),$B=function(e,t){var i=[],r=!!t.groupName,n=t.filterType==="exclude";t.filterValues&&M(t.filterValues,function(a,s){i.push(Array.isArray(s)?s.join("/"):s&&s.valueOf())}),at(e,function(a){var s=a[0],o=Lt(a),l=r?et(a,function(u){return u.text}).reverse().join("/"):s.text;s.value=r?o.slice(0):s.key||s.value;var d=r?o.join("/"):s.value&&s.value.valueOf();s.children&&(s.items=s.children,s.children=null),xB(s,s.key&&fe(l,i)>-1||fe(d,i)>-1,n)})};function hc(e,t){var i=t;return P(t.groupIndex)&&(i=e.getAreaFields(t.area,!0)[t.areaIndex]),i}function b0(e){return e=e||{},JSON.stringify([e.fields,e.columnExpandedPaths,e.rowExpandedPaths])}var fc=ei.inherit(bB).inherit(DB).inherit(SB).inherit({_getDefaultOptions:function(){return H(this.callBase(),{allowFieldDragging:!0,applyChangesMode:"instantly",state:null,headerFilter:{width:252,height:325,searchTimeout:500,texts:{emptyValue:xe.format("dxDataGrid-headerFilterEmptyValue"),ok:xe.format("dxDataGrid-headerFilterOK"),cancel:xe.format("dxDataGrid-headerFilterCancel")}}})},_init:function(){this.callBase(),this._headerFilterView=new HB(this),this._refreshDataSource(),this.subscribeToEvents()},_refreshDataSource:function(){var e=this.option("dataSource");e&&e.fields&&e.load&&(this._dataSource=e)},_optionChanged:function(e){switch(e.name){case"dataSource":this._refreshDataSource();break;case"applyChangesMode":break;case"state":if(this._skipStateChange||!this._dataSource)break;this.option("applyChangesMode")==="instantly"&&b0(this._dataSource.state())!==b0(e.value)?this._dataSource.state(e.value):(this._clean(!0),this._renderComponent());break;case"headerFilter":case"allowFieldDragging":this._invalidate();break;default:this.callBase(e)}},renderField:function(e,t){var i=p(go).addClass("dx-area-field-content").text(e.caption||e.dataField),r=p(go).addClass("dx-area-field").addClass("dx-area-box").data("field",e).append(i),n=hc(this._dataSource,e);return e.area!=="data"&&(e.allowSorting&&this._applyColumnState({name:"sort",rootElement:r,column:{alignment:this.option("rtlEnabled")?"right":"left",sortOrder:e.sortOrder==="desc"?"desc":"asc"},showColumnLines:t}),this._applyColumnState({name:"headerFilter",rootElement:r,column:{alignment:this.option("rtlEnabled")?"right":"left",filterValues:n.filterValues,allowFiltering:n.allowFiltering&&!e.groupIndex},showColumnLines:t})),e.groupName&&r.attr("item-group",e.groupName),r},_clean:function(){},_render:function(){this.callBase(),this._headerFilterView.render(this.$element())},renderSortable:function(){var e=this;e._createComponent(e.$element(),E0,H({allowDragging:e.option("allowFieldDragging"),itemSelector:".dx-area-field",itemContainerSelector:".dx-area-field-container",groupSelector:".dx-area-fields",groupFilter:function(){var t=e._dataSource,i=p(this).closest(".dx-sortable-old"),r=i.data("dxPivotGrid"),n=i.data("dxPivotGridFieldChooser");return r?r.getDataSource()===t:n?n.option("dataSource")===t:!1},itemRender:function(t,i){var r;if(t.hasClass("dx-area-box")?(r=t.clone(),i==="drag"&&M(t,function(a,s){r.eq(a).css("width",parseInt(p(s).outerWidth(),10)+NB)})):r=p(go).addClass("dx-area-field").addClass("dx-area-box").text(t.text()),i==="drag"){var n=p(go);return M(r,function(a,s){var o=p("<div>").addClass("dx-pivotgrid-fields-container").addClass("dx-widget").append(p(s));n.append(o)}),n.children()}return r},onDragging:function(t){var i=t.sourceElement.data("field"),r=t.targetGroup;t.cancel=!1,i.isMeasure===!0?(r==="column"||r==="row"||r==="filter")&&(t.cancel=!0):i.isMeasure===!1&&r==="data"&&(t.cancel=!0)},useIndicator:!0,onChanged:function(t){var i=e._dataSource,r=t.sourceElement.data("field");t.removeSourceElement=!!t.sourceGroup,e._adjustSortableOnChangedArgs(t),r&&e._applyChanges([hc(i,r)],{area:t.targetGroup,areaIndex:t.targetIndex})}},e._getSortableOptions()))},_processDemandState:function(e){var t=this.option("applyChangesMode")==="instantly",i=this._dataSource;if(t)e(i,t);else{var r=i.state(),n=this.option("state");n&&i.state(n,!0),e(i,t),i.state(r,!0)}},_applyChanges(e,t){var i=this;i._processDemandState(function(r,n){e.forEach(a=>{var{index:s}=a;r.field(s,t)}),n?r.load():i._changedHandler()})},_adjustSortableOnChangedArgs:function(e){e.removeSourceElement=!1,e.removeTargetElement=!0,e.removeSourceClass=!1},_getSortableOptions:function(){return{direction:"auto"}},subscribeToEvents:function(e){var t=this,i=function(r){var n=p(r.currentTarget).data("field"),a=H(!0,{},hc(t._dataSource,n)),s=p(r.target).hasClass("dx-header-filter"),o=t._dataSource,l=a.groupName?"tree":"list",d=o.paginate()&&l==="list";s?t._headerFilterView.showHeaderFilterMenu(p(r.currentTarget),H(a,{type:l,encodeHtml:t.option("encodeHtml"),dataSource:{useDefaultSearch:!d,load:function(u){var c=u.userData;if(c.store)return c.store.load(u);var h=new ee;return o.getFieldValues(a.index,t.option("headerFilter.showRelevantValues"),d?u:void 0).done(function(f){var g=t.option("headerFilter.texts.emptyValue");f.forEach(S=>{S.text||(S.text=g)}),d?h.resolve(f):(c.store=new Bs(f),c.store.load(u).done(h.resolve).fail(h.reject))}).fail(h.reject),h},postProcess:function(u){return $B(u,a),u}},apply:function(){t._applyChanges([a],{filterValues:this.filterValues,filterType:this.filterType})}})):n.allowSorting&&n.area!=="data"&&t._applyChanges([n],{sortOrder:n.sortOrder==="desc"?"asc":"desc"})};if(e){F.on(e,it,".dx-area-field.dx-area-box",i);return}F.on(t.$element(),it,".dx-area-field.dx-area-box",i)},_initTemplates:Q,addWidgetPrefix:function(e){return"dx-pivotgrid-"+e}});Ge("dxPivotGridFieldChooserBase",fc);var an="<div>",VB="dx-pivotgrid-drag-action";function zB(e,t,i,r){i&&i.groupName&&i.groupName===e.groupName&&p(an).addClass("dx-group-connector").addClass("dx-group-connector-prev").appendTo(r),t&&t.groupName&&t.groupName===e.groupName&&p(an).addClass("dx-group-connector").addClass("dx-group-connector-next").appendTo(r)}var mo=ou.inherit({ctor:function(e,t){this.callBase(e),this._area=t},_getAreaName:function(){return"fields"},_createGroupElement:function(){return p(an).addClass("dx-pivotgrid-fields-area").addClass("dx-area-fields").addClass(VB).attr("group",this._area)},isVisible:function(){return!!this.option("fieldPanel.visible")&&this.option("fieldPanel.show"+nv(this._area)+"Fields")},_renderButton:function(e){var t=this,i=p("<td>").appendTo(p("<tr>").appendTo(e)),r=t.component._createComponent(p(an).appendTo(i),Ut,{text:"Fields",icon:"menu",width:"auto",onClick:function(){var n=t.tableElement().find(".dx-fields-area-popup").dxPopup("instance");n.option("visible")||n.show()}});r.$element().addClass("dx-pivotgrid-fields-area-hamburger")},_getPopupOptions:function(e,t){return{contentTemplate:function(){return p("<table>").addClass("dx-area-field-container").append(p("<thead>").addClass("dx-pivotgrid-fields-area-head").append(e))},height:"auto",width:"auto",position:{at:"left",my:"left",of:t},dragEnabled:!1,animation:{show:{type:"pop",duration:200}},shading:!1,showTitle:!1,closeOnOutsideClick:!0,container:t.parent()}},_renderPopup:function(e,t){var i=e.find(".dx-button"),r=this._getPopupOptions(t,i),n=this.component.$element().dxPivotGridFieldChooserBase("instance");this._rowPopup&&this._rowPopup.$element().remove(),this._rowPopup=this.component._createComponent(p(an).appendTo(e),qr,r),this._rowPopup.$element().addClass("dx-fields-area-popup"),this._rowPopup.content().addClass("dx-pivotgrid-fields-container"),this._rowPopup.content().parent().attr("group","row"),n.subscribeToEvents(this._rowPopup.content()),n.renderSortable(this._rowPopup.content())},_shouldCreateButton:function(){return!1},_renderTableContent:function(e,t){var i=this,r=this.groupElement(),n=this.isVisible(),a=i.component.$element().dxPivotGridFieldChooserBase("instance"),s=p("<thead>").addClass("dx-pivotgrid-fields-area-head").appendTo(e),o=i._area,l=p("<tr>");r.toggleClass("dx-hidden",!n),e.addClass("dx-area-field-container"),!!n&&(M(t,function(d,u){if(u.area===o&&u.visible!==!1){var c=p("<td>").append(a.renderField(u,u.area==="row")),h=c.find(".dx-column-indicators");h.length&&i._shouldCreateButton()&&h.insertAfter(h.next()),c.appendTo(l),zB(u,t[d+1],t[d-1],c)}}),l.children().length||p("<td>").append(p(an).addClass("dx-empty-area-text").text(this.option("fieldPanel.texts."+o+"FieldArea"))).appendTo(l),i._shouldCreateButton()?(i._renderButton(s),i._renderPopup(e,l)):s.append(l))},reset:function(){this.callBase(),this.groupElement().css("marginTop",0)},_renderVirtualContent:Q});class GB extends _u{_getPlainItems(){return et(this._collectionWidget.option("items"),function t(i){return i.items?[i].concat(et(i.items,t)):i})}_stringifyItem(t){return JSON.stringify(t,(i,r)=>i==="template"?this._getTemplateString(r):r)}_getTemplateString(t){var i;return typeof t=="object"?i=p(t).text():i=t.toString(),i}}var va="dx-menu",WB=va+"-no-icons",UB="dx-menu-base",Ft=va+"-item",KB=Ft+"-content",pc=Ft+"-selected",T0=Ft+"-wrapper",jB=va+"-items-container",XB=Ft+"-expanded",qB=va+"-separator",YB=va+"-last-group-item",ZB=Ft+"-has-text",JB=Ft+"-has-icon",QB=Ft+"-has-submenu",w0=Ft+"-popout",eR=w0+"-container",tR=Ft+"-text",iR="single",rR={show:50,hide:300};class I0 extends Qg{_getDefaultOptions(){return H(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return Ft}_setAriaSelected(){}_selectedItemClass(){return pc}_widgetClass(){return UB}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return H(super._supportedKeys(),{space:()=>{var t=p(this.option("focusedElement"));!t.length||!this._isSelectionEnabled()||this.selectItem(t[0])},pageUp:Q,pageDown:Q})}_isSelectionEnabled(){return this.option("selectionMode")===iR}_init(){this._activeStateUnit=".".concat(Ft),super._init(),this._renderSelectedItem(),this._initActions()}_getTextContainer(t){var i=t.text,r=p("<span>").addClass(tR),n=De(t)?i:String(t);return i&&r.text(n)}_getPopoutContainer(t){var i=t.items,r;if(i&&i.length){var n=p("<div>").addClass(w0);r=p("<span>").addClass(eR).append(n)}return r}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(t){if(!!t){var i=this._dataAdapter.getNodeByItem(t);this._dataAdapter.toggleSelection(i.internalFields.key,!0)}}_renderSelectedItem(){var t=this._dataAdapter.getSelectedNodesKeys(),i=t.length&&t[0],r=this.option("selectedItem");if(!i){this._selectByItem(r);return}var n=this._dataAdapter.getNodeByKey(i);if(n.selectable!==!1){if(!r){this.option("selectedItem",n.internalFields.item);return}r!==n.internalFields.item&&(this._dataAdapter.toggleSelection(i,!1),this._selectByItem(r))}}_initActions(){}_initMarkup(){super._initMarkup(),this._addCustomCssClass(this.$element()),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=na()}_toggleActiveState(t,i,r){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var n={element:t,event:r};i?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}}_getShowSubmenuMode(){var t=this.option("showSubmenuMode");return t=Be(t)?t.name:t,this._isDesktopDevice()?t:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return Se.real().deviceType==="desktop"}_initEditStrategy(){var t=GB;this._editStrategy=new t(this)}_addCustomCssClass(t){t.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(T0)}_hoverStartHandler(t){var i=this._getItemElementByEventArgs(t);!i||this._isItemDisabled(i)||(t.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,i),this._getSubmenuDelay("show"))))}_getAvailableItems(t){return super._getAvailableItems(t).filter(function(){return p(this).css("visibility")!=="hidden"})}_isItemDisabled(t){return this._disabledGetter(t.data(this._itemDataKey()))}_showSubmenu(t){this._addExpandedClass(t)}_addExpandedClass(t){p(t).addClass(XB)}_getSubmenuDelay(t){var{delay:i}=this.option("showSubmenuMode");return P(i)?Be(i)?i[t]:i:rR[t]}_getItemElementByEventArgs(t){var i=p(t.target);if(i.hasClass(this._itemClass())||i.get(0)===t.currentTarget)return i;for(;!i.hasClass(this._itemClass());)if(i=i.parent(),i.hasClass("dx-submenu"))return null;return i}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(t){return t&&t.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(t,i){if(t.length){this.hasIcons=!1;var r=this._renderContainer(this.$element(),i),n=-1,a=-1;M(t,(s,o)=>{var l=o.visible!==!1;l&&n<0&&(n=s);var d=n<s&&(o.beginGroup||s===a);d&&(a=l?s:s+1),s===a&&n<s&&this._renderSeparator(r),this._renderItem(s,o,r)}),this.hasIcons||r.addClass(WB)}}_renderContainer(t){var i=p("<ul>");return this.setAria("role","none",i),i.appendTo(t).addClass(jB)}_createDOMElement(t){var i=p("<li>");return this.setAria("role","none",i),i.appendTo(t).addClass(T0)}_renderItem(t,i,r,n){var a=this.option("items"),s=n||this._createDOMElement(r);a[t+1]&&a[t+1].beginGroup&&s.addClass(YB);var o=super._renderItem(t,i.internalFields.item,s);i.internalFields.item===this.option("selectedItem")&&o.addClass(pc),o.attr("tabIndex",-1),this._hasSubmenu(i)&&this.setAria("haspopup","true",o)}_renderItemFrame(t,i,r){var n=r.children(".".concat(Ft));return n.length?n:super._renderItemFrame.apply(this,arguments)}_refreshItem(t,i){var r=this._dataAdapter.getNodeByItem(i),n=t.data(this._itemIndexKey()),a=t.closest("ul"),s=t.closest("li");this._renderItem(n,r,a,s)}_addContentClasses(t,i){var r=t.text?!!t.text.length:!1,n=!!t.icon,a=t.items?!!t.items.length:!1;i.toggleClass(ZB,r),i.toggleClass(JB,n),this.hasIcons||(this.hasIcons=n),i.toggleClass(QB,a)}_getItemContent(t){var i=super._getItemContent(t);return i.length||(i=t.children(".".concat(KB))),i}_postprocessRenderItem(t){var i=p(t.itemElement),r=this._dataAdapter.getSelectedNodesKeys();if(!r.length||!this._selectedGetter(t.itemData)||!this._isItemSelectable(t.itemData)){this._setAriaSelected(i,"false");return}var n=this._dataAdapter.getNodeByItem(t.itemData);n.internalFields.key===r[0]?(i.addClass(this._selectedItemClass()),this._setAriaSelected(i,"true")):this._setAriaSelected(i,"false")}_isItemSelectable(t){return t.selectable!==!1}_renderSeparator(t){p("<li>").appendTo(t).addClass(qB)}_itemClickHandler(t){if(!t._skipHandling){var i=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(t,"onItemClick",{},{afterExecute:i.bind(this)}),t._skipHandling=!0}}_updateSubmenuVisibilityOnClick(t){this._updateSelectedItemOnClick(t),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(t.args[0].itemElement)}_updateSelectedItemOnClick(t){var i=t.args?t.args[0]:t;if(!!this._isItemSelectionAllowed(i.itemData)){var r=this._dataAdapter.getSelectedNodesKeys(),n=r.length&&this._dataAdapter.getNodeByKey(r[0]);n&&this._toggleItemSelection(n,!1),!n||n.internalFields.item!==i.itemData?this.selectItem(i.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectionAllowed(t){var i=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&i&&this._isItemSelectable(t)&&!this._itemsGetter(t)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return rh()}_optionChanged(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var i=this._dataAdapter.getNodeByItem(t.value),r=this._dataAdapter.getSelectedNodesKeys()[0];if(i&&i.internalFields.key!==r){if(i.selectable===!1)break;r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(i,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(t)}}_toggleItemSelection(t,i){var r=this._getElementByItem(t.internalFields.item);r&&p(r).toggleClass(pc),this._dataAdapter.toggleSelection(t.internalFields.key,i)}_getElementByItem(t){var i;return M(this._itemElements(),(r,n)=>p(n).data(this._itemDataKey())!==t?!0:(i=n,!1)),i}_updateSelectedItems(t,i){(t||i)&&this._fireSelectionChangeEvent(i,t)}_fireSelectionChangeEvent(t,i){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[t],removedItems:[i]})}selectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getSelectedNodesKeys()[0],n=this.option("selectedItem"),a=this._dataAdapter.getNodeByItem(i);a.internalFields.key!==r&&(r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(a,!0),this._updateSelectedItems(n,i),this._setOptionWithoutOptionChange("selectedItem",i))}unselectItem(t){var i=t.nodeType?this._getItemData(t):t,r=this._dataAdapter.getNodeByItem(i),n=this.option("selectedItem");r.internalFields.selected&&(this._toggleItemSelection(r,!1),this._updateSelectedItems(n,null),this._setOptionWithoutOptionChange("selectedItem",null))}}I0.ItemClass=Us;var A0="dx-menu",ga=A0+"-item",sn=ga+"-expanded",nR="dx-menu-phone-overlay",xo=A0+"-items-container",D0=ga+"-wrapper",It="dx-submenu",aR="dx-context-menu",sR="dx-has-context-menu",oR="dx-state-disabled",lR="dx-state-focused",O0="dx-state-hover",k0="up",L0="down",dR="left",uR="right",P0="first",B0="last",R0=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],cR=[k0,L0,P0,B0],M0="dxcontextmenu";class _c extends I0{getShowEvent(t){var i=null;return Be(t)?t.name!==null&&(i=t.name||M0):i=t,i}getShowDelay(t){return Be(t)&&t.delay}_getDefaultOptions(){return H(super._getDefaultOptions(),{showEvent:M0,closeOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!Te(),options:{animation:null}}])}_initActions(){this._actions={},M(R0,(t,i)=>{this._actions[i]=this._createActionByOption(i)||Q})}_setOptionsByReference(){super._setOptionsByReference(),H(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():p()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return H(super._supportedKeys(),{space:()=>{var t=p(this.option("focusedElement"));this.hide(),!(!t.length||!this._isSelectionEnabled())&&this.selectItem(t[0])},escape:this.hide})}_getActiveItem(){var t=this._getAvailableItems(),i=t.filter(".".concat(lR)),r=t.filter(".".concat(O0)),n=r.closest(".".concat(xo));return n.find(".".concat(ga)).index(i)>=0?i:r.length?r:super._getActiveItem()}_moveFocus(t){var i=this._getItemsByLocation(t),r=this._getActiveItem(!0),n=this.itemsContainer().find(".".concat(O0)),a=p(this.option("focusedElement")),s=!!(a.length||n.length),o;switch(t){case k0:o=s?this._prevItem(i):r,this._setFocusedElement(o),r.is(i.first())&&this._actions.onLeftFirstItem(r);break;case L0:o=s?this._nextItem(i):r,this._setFocusedElement(o),r.is(i.last())&&this._actions.onLeftLastItem(r);break;case uR:o=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(i,t),this._setFocusedElement(o);break;case dR:o=this.option("rtlEnabled")?this._expandSubmenuHandler(i,t):this._hideSubmenuHandler(),this._setFocusedElement(o);break;case P0:o=i.first(),this._setFocusedElement(o);break;case B0:o=i.last(),this._setFocusedElement(o);break;default:return super._moveFocus(t)}}_setFocusedElement(t){t&&t.length!==0&&this.option("focusedElement",Ie(t))}_getItemsByLocation(t){var i=this._getActiveItem(!0),r;return fe(t,cR)>=0&&(r=i.closest(".".concat(xo)).children().children()),r=this._getAvailableItems(r),r}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(P(this._overlay)){var t=this._overlay.$content();super._refreshActiveDescendant(t)}}_hideSubmenuHandler(){var t=this._getActiveItem(!0),i=t.parents(".".concat(sn)).first();return i.length?(this._hideSubmenusOnSameLevel(i),this._hideSubmenu(t.closest(".".concat(It))),i):(this._actions.onCloseRootSubmenu(t),t)}_expandSubmenuHandler(t,i){var r=this._getActiveItem(!0),n=this._getItemData(r),a=this._dataAdapter.getNodeByItem(n),s=this._hasSubmenu(a),o=r.children(".".concat(It));if(s&&!r.hasClass(oR))return(!o.length||o.css("visibility")==="hidden")&&this._showSubmenu(r),this._nextItem(this._getItemsByLocation(i));this._actions.onExpandLastSubmenu(r)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(sR),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var t=this._getOverlayOptions();this._overlay=this._createComponent(p("<div>").appendTo(this._$element),zi,t);var i=this._overlay.$content();i.addClass(aR),this._addCustomCssClass(i),this._addPlatformDependentClass(i),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var t=this._itemContainer(),i=se(ug,this.NAME);F.off(t,i,".".concat(It)),F.on(t,i,".".concat(It),(r=>{r.stopPropagation(),r.preventDefault(),F.off(t,i,".".concat(It))}).bind(this))}_itemContextMenuHandler(t){super._itemContextMenuHandler(t),t.stopPropagation()}_addPlatformDependentClass(t){Se.current().phone&&t.addClass(nR)}_detachShowContextMenuEvents(t){var i=this.getShowEvent(this.option("showEvent"));if(!!i){var r=se(i,this.NAME);this._showContextMenuEventHandler?F.off(re.getDocument(),r,t,this._showContextMenuEventHandler):F.off(p(t),r)}}_attachShowContextMenuEvents(){var t=this._getTarget(),i=this.getShowEvent(this.option("showEvent"));if(!!i){var r=se(i,this.NAME),n=this._createAction(s=>{var o=this.getShowDelay(this.option("showEvent"));o?setTimeout(()=>this._show(s.event),o):this._show(s.event)},{validatingTargetName:"target"}),a=s=>n({event:s,target:p(s.currentTarget)});n=this._createAction(n),ci(t)||t.nodeType||nt(t)?(this._showContextMenuEventHandler=void 0,F.on(t,r,a)):(this._showContextMenuEventHandler=a,F.on(re.getDocument(),r,t,this._showContextMenuEventHandler))}}_hoverEndHandler(t){super._hoverEndHandler(t),t.stopPropagation()}_renderDimensions(){}_renderContainer(t,i){var r=i||this._itemContainer();t=p("<div>"),t.appendTo(r).addClass(It).css("visibility",i?"hidden":"visible");var n=super._renderContainer(t);return i?n:this.option("width")?n.css("minWidth",this.option("width")):this.option("height")?n.css("minHeight",this.option("height")):n}_renderSubmenuItems(t,i){this._renderItems(this._getChildNodes(t),i),this._actions.onSubmenuCreated({itemElement:Ie(i),itemData:t.internalFields.item,submenuElement:Ie(i.children(".".concat(It)))})}_getOverlayOptions(){var t=this.option("position"),i={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,closeOnOutsideClick:this._closeOnOutsideClickHandler.bind(this),propagateOutsideClick:!0,closeOnTargetScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this)};return i}_overlayShownActionHandler(t){this._actions.onShown(t)}_overlayHidingActionHandler(t){this._actions.onHiding(t),t.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(t){this._actions.onHidden(t)}_closeOnOutsideClickHandler(t){var i=this.option("closeOnOutsideClick");if(he(i))return i(t);if(!i)return!1;if(re.isDocument(t.target))return!0;var r=this._getActiveItemsContainer(t.target),n=this._getItemsContainers(),a=this._searchActiveItem(t.target),s=this.$element().parents(".".concat(ga)),o=a[0]===s[0]&&a.length&&s.length,l=this._isIncludeOverlay(r,n)&&a.length;return l||o?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(a),!1):!0}_getActiveItemsContainer(t){return p(t).closest(".".concat(xo))}_getItemsContainers(){return this._overlay.$content().find(".".concat(xo))}_searchActiveItem(t){return p(t).closest(".".concat(ga)).eq(0)}_isIncludeOverlay(t,i){var r=!1;return M(i,(n,a)=>{t.is(a)&&!r&&(r=!0)}),r}_hideAllShownChildSubmenus(t){var i=t.find(".".concat(It)),r=H([],this._shownSubmenus);i.length>0&&M(r,(n,a)=>{var s=this._searchActiveItem(a.context).parent();s.parent().is(t.parent().parent())&&!s.is(t.parent())&&this._hideSubmenu(a)})}_showSubmenu(t){var i=this._dataAdapter.getNodeByItem(this._getItemData(t));if(this._hideSubmenusOnSameLevel(t),!!this._hasSubmenu(i)){var r=t.children(".".concat(It)),n=r.length;super._showSubmenu(t),n||this._renderSubmenuItems(i,t),this._isSubmenuVisible(r)||this._drawSubmenu(t)}}_hideSubmenusOnSameLevel(t){var i=t.parent(".".concat(D0)).siblings().find(".".concat(sn));i.length&&(i.removeClass(sn),this._hideSubmenu(i.find(".".concat(It))))}_hideSubmenuGroup(t){this._isSubmenuVisible(t)&&this._hideSubmenuCore(t)}_isSubmenuVisible(t){return t.css("visibility")==="visible"}_drawSubmenu(t){var i=this.option("animation")?this.option("animation").show:{},r=t.children(".".concat(It)),n=this._getSubmenuPosition(t);this._overlay&&this._overlay.option("visible")&&(P(this._shownSubmenus)||(this._shownSubmenus=[]),fe(r,this._shownSubmenus)&&this._shownSubmenus.push(r),i&&Je.stop(r),Tt.setup(r,n),i&&(De(i.to)&&(i.to.position=n),this._animate(r,i)),r.css("visibility","visible"))}_animate(t,i){Je.animate(t,i)}_getSubmenuPosition(t){var i=this.option("submenuDirection").toLowerCase(),r=t.parent(".".concat(D0)),n={collision:"flip",of:r,offset:{h:0,v:-1}};switch(i){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}_updateSubmenuVisibilityOnClick(t){if(!!t.args.length){var i=t.args[0].itemData,r=this._dataAdapter.getNodeByItem(i);if(!!r){var n=p(t.args[0].itemElement),a=n.find(".".concat(It)),s=this._hasSubmenu(r)&&!a.length;if(s&&(this._renderSubmenuItems(r,n),a=n.find(".".concat(It))),!(n.context===a.context&&a.css("visibility")==="visible")){var o=i&&i.closeMenuOnClick===!1;if(!(!i||i.disabled||o))if(this._updateSelectedItemOnClick(t),a.length===0){var l=p(n.parents(".".concat(It))[0]);this._hideSubmenu(l),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(n)}}}}_hideSubmenu(t){var i=H([],this._shownSubmenus);M(i,(r,n)=>{(t.is(n)||Li(t[0],n[0]))&&(n.parent().removeClass(sn),this._hideSubmenuCore(n))})}_hideSubmenuCore(t){var i=fe(t,this._shownSubmenus),r=this.option("animation")?this.option("animation").hide:null;i>=0&&this._shownSubmenus.splice(i,1),this._stopAnimate(t),r&&this._animate(t,r),t.css("visibility","hidden")}_stopAnimate(t){Je.stop(t,!0)}_hideAllShownSubmenus(){var t=H([],this._shownSubmenus),i=this._overlay.$content().find(".".concat(sn));i.removeClass(sn),M(t,(r,n)=>{this._hideSubmenu(n)})}_visibilityChanged(t){t&&this._renderContentImpl()}_optionChanged(t){if(fe(t.name,R0)>-1){this._initActions();return}switch(t.name){case"visible":this._renderVisibility(t.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this._invalidate();break;case"closeOnOutsideClick":break;default:super._optionChanged(t)}}_renderVisibility(t){return t?this._show():this._hide()}_toggleVisibility(){}_show(t){var i={jQEvent:t},r=new ee().reject().promise();if(this._actions.onShowing(i),i.cancel)return r;var n=this._positionContextMenu(t);if(n){var a;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",n),r=this._overlay.show(),t&&t.stopPropagation(),this._setAriaAttributes(),(t==null||(a=t.originalEvent)===null||a===void 0?void 0:a.type)===uu.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return r}_setAriaAttributes(){this._overlayContentId="dx-".concat(new Dr),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||p(re.getDocument())}_getContextMenuPosition(){return H({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(t){var i=this._getContextMenuPosition(),r=this._isInitialOptionValue("position"),n=this._createActionByOption("onPositioning",a);t&&t.preventDefault&&r&&(i.of=t);var a={position:i,event:t};return n(a),a.cancel?i=null:a.event&&(a.event.cancel=!0,t.preventDefault()),i}_refresh(){if(!Te())super._refresh();else if(this._overlay){var t=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",t)}else super._refresh()}_hide(){var t;return this._overlay&&(t=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),t||new ee().reject().promise()}toggle(t){var i=this.option("visible");return t=t===void 0?!i:t,this._renderVisibility(t)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}Ge("dxContextMenu",_c);var lt="<div>",hR=Te(),fR="dx-pivotgridfieldchooser",F0="dx-pivotgridfieldchooser-container",pR="dx-pivotgrid-fields-container",_R="dx-pivotgrid-drag-action";function N0(e,t){var i=[];if(e.items)for(var r=0;r<e.items.length;r++)i.push.apply(i,N0(e.items[r],t));else P(e.index)&&i.push(t[e.index]);return i}function vc(e,t){if(e.items)for(var i=0;i<e.items.length;i++){var r=vc(e.items[i],t);if(r)return r}if(t(e))return e}var H0=[function(e,t){var i=-!!e.isMeasure,r=+!!t.isMeasure;return i+r},function(e,t){var i=-!!(e.items&&e.items.length),r=+!!(t.items&&t.items.length);return i+r},function(e,t){var i=+!!(e.isMeasure===!1&&e.field&&e.field.levels&&e.field.levels.length),r=-!!(t.isMeasure===!1&&t.field&&t.field.levels&&t.field.levels.length);return i+r},Kd(function(e){return e.text})];function vR(e,t){for(var i=0,r=0;!i&&H0[r];)i=H0[r++](e,t);return i}function $0(e){return e.find(".dx-scrollable").dxScrollable("instance")}var V0=fc.inherit({_getDefaultOptions:function(){return H(this.callBase(),{height:400,layout:0,dataSource:null,onContextMenuPreparing:null,allowSearch:!1,searchTimeout:500,texts:{columnFields:xe.format("dxPivotGrid-columnFields"),rowFields:xe.format("dxPivotGrid-rowFields"),dataFields:xe.format("dxPivotGrid-dataFields"),filterFields:xe.format("dxPivotGrid-filterFields"),allFields:xe.format("dxPivotGrid-allFields")}})},_refreshDataSource:function(){var e=this;e._expandedPaths=[],e._changedHandler=e._changedHandler||function(){M(e._dataChangedHandlers,function(t,i){i()}),e._fireContentReadyAction(),e._skipStateChange=!0,e.option("state",e._dataSource.state()),e._skipStateChange=!1},e._disposeDataSource(),e.callBase(),e._dataSource&&e._dataSource.on("changed",e._changedHandler)},_disposeDataSource:function(){var e=this._dataSource;e&&(e.off("changed",this._changedHandler),this._dataSource=void 0)},_dispose:function(){this._disposeDataSource(),this.callBase.apply(this,arguments)},_init:function(){this.callBase(),this._refreshDataSource(),this._dataChangedHandlers=[],this._initActions()},_initActions:function(){this._actions={onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing")}},_trigger:function(e,t){this._actions[e](t)},_setOptionsByReference:function(){this.callBase(),H(this._optionsByReference,{dataSource:!0})},_optionChanged:function(e){switch(e.name){case"dataSource":this._refreshDataSource(),this._invalidate();break;case"layout":case"texts":case"allowSearch":case"searchTimeout":this._invalidate();break;case"onContextMenuPreparing":this._actions[e.name]=this._createActionByOption(e.name);break;default:this.callBase(e)}},_clean:function(e){!e&&this._dataSource&&this.option("state",this._dataSource.state()),this.$element().children("."+F0).remove()},_renderLayout0:function(e){e.addClass("dx-layout-0");var t=p(lt).addClass("dx-row").appendTo(e),i=p(lt).addClass("dx-row").appendTo(e),r=p(lt).addClass("dx-col").appendTo(t),n=p(lt).addClass("dx-col").appendTo(t),a=p(lt).addClass("dx-col").appendTo(i),s=p(lt).addClass("dx-col").appendTo(i);this._renderArea(r,"all"),this._renderArea(n,"row"),this._renderArea(n,"column"),this._renderArea(a,"filter"),this._renderArea(s,"data")},_renderLayout1:function(e){var t=p(lt).addClass("dx-col").appendTo(e),i=p(lt).addClass("dx-col").appendTo(e);this._renderArea(t,"all"),this._renderArea(i,"filter"),this._renderArea(i,"row"),this._renderArea(i,"column"),this._renderArea(i,"data")},_renderLayout2:function(e){e.addClass("dx-layout-2");var t=p(lt).addClass("dx-row").appendTo(e);this._renderArea(t,"all");var i=p(lt).addClass("dx-row").appendTo(e),r=p(lt).addClass("dx-col").appendTo(i),n=p(lt).addClass("dx-col").appendTo(i);this._renderArea(r,"filter"),this._renderArea(r,"row"),this._renderArea(n,"column"),this._renderArea(n,"data")},_initMarkup:function(){var e=this.$element(),t=p(lt).addClass(F0).appendTo(e),i=this.option("layout");this.callBase(),e.addClass(fR).addClass(pR),this._dataChangedHandlers=[];var r=this._dataSource,n=this.option("applyChangesMode")!=="instantly"&&r&&r.state();n&&this.option("state")&&r.state(this.option("state"),!0),i===0?this._renderLayout0(t):i===1?this._renderLayout1(t):this._renderLayout2(t),n&&r.state(n,!0)},_renderContentImpl:function(){this.callBase(),this.renderSortable(),this._renderContextMenu(),this.updateDimensions()},_fireContentReadyAction:function(){(!this._dataSource||!this._dataSource.isLoading())&&this.callBase()},_getContextMenuArgs:function(e){var t=p(e.target).closest(".dx-area-field"),i=p(e.target).closest(".dx-area-fields"),r,n;if(t.length){var a=t.data("field");a&&(r=this.getDataSource().field(a.index)||a)}return i.length&&(n=i.attr("group")),{event:e,field:r,area:n,items:[]}},_renderContextMenu:function(){var e=this,t=e.$element();e._contextMenu&&e._contextMenu.$element().remove(),e._contextMenu=e._createComponent(p(lt).appendTo(t),_c,{onPositioning:function(i){var r=i.event;if(!!r){var n=e._getContextMenuArgs(r);e._trigger("onContextMenuPreparing",n),n.items&&n.items.length?i.component.option("items",n.items):i.cancel=!0}},target:t,onItemClick:function(i){i.itemData.onItemClick&&i.itemData.onItemClick(i)},cssClass:"dx-pivotgridfieldchooser-context-menu"})},_createTreeItems:function(e,t,i){var r=this,n,a=[],s=[],o=t[0],l={};return o?(M(e,function(d,u){var c=u[o]||"";l[c]=l[c]||[],l[c].push(u),n===void 0&&(n=!0),n=n&&u.isMeasure===!0}),M(l,function(d,u){var c=i?i+"."+d:d,h=r._createTreeItems(u,t.slice(1),c);d?s.push({key:d,text:d,path:c,isMeasure:h.isMeasure,expanded:fe(c,r._expandedPaths)>=0,items:h}):a=h}),a=s.concat(a),a.isMeasure=n):M(e,function(d,u){var c;u.isMeasure===!0&&(c="measure"),u.isMeasure===!1&&(c=u.groupName?"hierarchy":"dimension"),a.push({index:u.index,field:u,key:u.dataField,selected:P(u.area),text:u.caption||u.dataField,icon:c,isMeasure:u.isMeasure,isDefault:u.isDefault})}),a},_createFieldsDataSource:function(e){var t=e&&e.fields()||[];t=t.filter(r=>r.visible!==!1&&!P(r.groupIndex));var i=this._createTreeItems(t,["dimension","displayFolder"]);return jd(i,function(r){r.sort(vR)},0,"items"),i},_renderFieldsTreeView:function(e){var t=this,i=t._dataSource,r=t._createComponent(e,Gu,{dataSource:t._createFieldsDataSource(i),showCheckBoxesMode:"normal",expandNodesRecursive:!1,searchEnabled:t.option("allowSearch"),searchTimeout:t.option("searchTimeout"),itemTemplate:function(n,a,s){n.icon&&Ws(n.icon).appendTo(s),p("<span>").toggleClass("dx-area-field",!n.items).data("field",n.field).text(n.text).appendTo(s)},onItemCollapsed:function(n){var a=fe(n.itemData.path,t._expandedPaths);a>=0&&t._expandedPaths.splice(a,1)},onItemExpanded:function(n){var a=fe(n.itemData.path,t._expandedPaths);a<0&&t._expandedPaths.push(n.itemData.path)},onItemSelectionChanged:function(n){var a=n.itemData,s,o,l=!0,d;if(a.items){if(a.selected){r.unselectItem(a);return}if(t._processDemandState(()=>{o=N0(a,i.fields());for(var c=0;c<o.length;c++)if(o[c].area){l=!1;break}}),l){var u=vc(a,function(c){return c.isDefault})||vc(a,function(c){return P(c.index)});u&&r.selectItem(u);return}}else s=i.fields()[a.index],a.selected&&(d=s.isMeasure?"data":"column"),s&&(o=[s]);t._applyChanges(o,{area:d,areaIndex:void 0})}});t._dataChangedHandlers.push(function(){var n=$0(e),a=n?n.scrollTop():0;r.option({dataSource:t._createFieldsDataSource(i)}),n=$0(e),n&&(n.scrollTo({y:a}),n.update())})},_renderAreaFields:function(e,t){var i=this,r=i._dataSource,n=r?H(!0,[],r.getAreaFields(t,!0)):[];e.empty(),M(n,function(a,s){s.visible!==!1&&i.renderField(s,!0).appendTo(e)})},_renderArea:function(e,t){var i=this,r=p(lt).addClass("dx-area").appendTo(e),n=p(lt).addClass("dx-area-fields-header").appendTo(r),a=i.option("texts."+t+"Fields"),s,o;p("<span>").addClass("dx-area-icon").addClass("dx-area-icon-"+t).appendTo(n),p("<span>").html("&nbsp;").appendTo(n),p("<span>").addClass("dx-area-caption").text(a).appendTo(n);var l=p(lt).addClass("dx-area-fields").addClass(_R).appendTo(r);t!=="all"?(l.attr("group",t).attr("allow-scrolling",!0),s=p(lt).addClass("dx-area-field-container").appendTo(l),o=function(){i._renderAreaFields(s,t)},i._dataChangedHandlers.push(o),o(),l.dxScrollable()):(r.addClass("dx-all-fields"),l.addClass("dx-treeview-border-visible"),i._renderFieldsTreeView(l))},_getSortableOptions:function(){return{}},_adjustSortableOnChangedArgs:function(){},resetTreeView:function(){var e=this.$element().find(".dx-treeview").dxTreeView("instance");e&&(e.option("searchValue",""),e.collapseAll())},applyChanges:function(){var e=this.option("state");P(e)&&this._dataSource.state(e)},cancelChanges:function(){var e=this._dataSource;return e.isLoading()?!1:(this.option("state",e.state()),!0)},getDataSource:function(){return this._dataSource},updateDimensions:function(){var e=this.$element().find(".dx-area .dx-scrollable");e.dxScrollable("update")},_visibilityChanged:function(e){e&&hR&&this.updateDimensions()}});Ge("dxPivotGridFieldChooser",V0);var qi=Oe(),yo=Br(),z0={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},G0={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"},gR={_revokeObjectURLTimeout:3e4,_getDataUri:function(e,t){var i=this._getMimeType(e);return"data:".concat(i,";base64,").concat(t)},_getMimeType:function(e){return G0[e]||"application/octet-stream"},_linkDownloader:function(e,t){var i=re.createElement("a");return i.download=e,i.href=t,i.target="_blank",i},_formDownloader:function(e,t,i,r){var n={method:"post",action:e,enctype:"multipart/form-data"},a=p("<form>").css({display:"none"}).attr(n);function s(o,l){for(var d in l)o.setAttribute(d,l[d]);return o}a.append(s(re.createElement("input"),{type:"hidden",name:"fileName",value:t})),a.append(s(re.createElement("input"),{type:"hidden",name:"contentType",value:i})),a.append(s(re.createElement("input"),{type:"hidden",name:"data",value:r})),a.appendTo("body"),F.trigger(a,"submit"),F.trigger(a,"submit")&&a.remove()},_saveByProxy:function(e,t,i,r){var n=this._getMimeType(i);return this._formDownloader(e,t,n,r)},_winJSBlobSave:function(e,t,i){var r=new Windows.Storage.Pickers.FileSavePicker;r.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var n=z0[i];if(n){var a=this._getMimeType(i);r.fileTypeChoices.insert(a,["."+n])}r.suggestedFileName=t,r.pickSaveFileAsync().then(function(s){s&&s.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(o){var l=e.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(l,o).then(function(){o.flushAsync().done(function(){l.close(),o.close()})})})})},_click:function(e){try{e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch(i){var t=re.getDocument().createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,qi,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},_saveBlobAs:function(e,t,i){if(this._blobSaved=!1,P(yo.msSaveOrOpenBlob))yo.msSaveOrOpenBlob(i,e),this._blobSaved=!0;else if(P(qi.WinJS))this._winJSBlobSave(i,e,t),this._blobSaved=!0;else{var r=qi.URL||qi.webkitURL||qi.mozURL||qi.msURL||qi.oURL;if(P(r)){var n=r.createObjectURL(i),a=this._linkDownloader(e,n);setTimeout(()=>{r.revokeObjectURL(n),this._objectUrlRevoked=!0},this._revokeObjectURLTimeout),this._click(a)}else Pa.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(e,t,i,r,n){var a=z0[t];if(a&&(e+="."+a),P(r)&&Ne.log("W0001","Export","proxyURL","19.2","This option is no longer required"),n)this._saveByProxy(r,e,t,i);else if(he(qi.Blob))this._saveBlobAs(e,t,i);else if(P(r)&&!P(yo.userAgent.match(/iPad/i)))this._saveByProxy(r,e,t,i);else{P(yo.userAgent.match(/iPad/i))||Ne.log("E1034");var s=this._linkDownloader(e,this._getDataUri(t,i));this._click(s)}}},W0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Co(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var U0={exports:{}};/*!

  JSZip v3.7.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/master/LICENSE
  */(function(e,t){(function(i){e.exports=i()})(function(){return function i(r,n,a){function s(d,u){if(!n[d]){if(!r[d]){var c=typeof Co=="function"&&Co;if(!u&&c)return c(d,!0);if(o)return o(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var f=n[d]={exports:{}};r[d][0].call(f.exports,function(g){var S=r[d][1][g];return s(S||g)},f,f.exports,i,r,n,a)}return n[d].exports}for(var o=typeof Co=="function"&&Co,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(i,r,n){var a=i("./utils"),s=i("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var d,u,c,h,f,g,S,C=[],T=0,D=l.length,b=D,m=a.getTypeOf(l)!=="string";T<l.length;)b=D-T,c=m?(d=l[T++],u=T<D?l[T++]:0,T<D?l[T++]:0):(d=l.charCodeAt(T++),u=T<D?l.charCodeAt(T++):0,T<D?l.charCodeAt(T++):0),h=d>>2,f=(3&d)<<4|u>>4,g=1<b?(15&u)<<2|c>>6:64,S=2<b?63&c:64,C.push(o.charAt(h)+o.charAt(f)+o.charAt(g)+o.charAt(S));return C.join("")},n.decode=function(l){var d,u,c,h,f,g,S=0,C=0,T="data:";if(l.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var D,b=3*(l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&b--,l.charAt(l.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=s.uint8array?new Uint8Array(0|b):new Array(0|b);S<l.length;)d=o.indexOf(l.charAt(S++))<<2|(h=o.indexOf(l.charAt(S++)))>>4,u=(15&h)<<4|(f=o.indexOf(l.charAt(S++)))>>2,c=(3&f)<<6|(g=o.indexOf(l.charAt(S++))),D[C++]=d,f!==64&&(D[C++]=u),g!==64&&(D[C++]=c);return D}},{"./support":30,"./utils":32}],2:[function(i,r,n){var a=i("./external"),s=i("./stream/DataWorker"),o=i("./stream/Crc32Probe"),l=i("./stream/DataLengthProbe");function d(u,c,h,f,g){this.compressedSize=u,this.uncompressedSize=c,this.crc32=h,this.compression=f,this.compressedContent=g}d.prototype={getContentWorker:function(){var u=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),c=this;return u.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(u,c,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",c)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,n){var a=i("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(s){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},n.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,n){var a=i("./utils"),s=function(){for(var o,l=[],d=0;d<256;d++){o=d;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[d]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(d,u,c,h){var f=s,g=h+c;d^=-1;for(var S=h;S<g;S++)d=d>>>8^f[255&(d^u[S])];return-1^d}(0|l,o,o.length,0):function(d,u,c,h){var f=s,g=h+c;d^=-1;for(var S=h;S<g;S++)d=d>>>8^f[255&(d^u.charCodeAt(S))];return-1^d}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(i,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(i,r,n){var a=null;a=typeof Promise!="undefined"?Promise:i("lie"),r.exports={Promise:a}},{lie:37}],7:[function(i,r,n){var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=i("pako"),o=i("./utils"),l=i("./stream/GenericWorker"),d=a?"uint8array":"array";function u(c,h){l.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}n.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(d,c.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},n.compressWorker=function(c){return new u("Deflate",c)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,n){function a(f,g){var S,C="";for(S=0;S<g;S++)C+=String.fromCharCode(255&f),f>>>=8;return C}function s(f,g,S,C,T,D){var b,m,x=f.file,E=f.compression,w=D!==d.utf8encode,k=o.transformTo("string",D(x.name)),O=o.transformTo("string",d.utf8encode(x.name)),B=x.comment,$=o.transformTo("string",D(B)),I=o.transformTo("string",d.utf8encode(B)),N=O.length!==x.name.length,v=I.length!==B.length,A="",W="",z="",q=x.dir,U=x.date,J={crc32:0,compressedSize:0,uncompressedSize:0};g&&!S||(J.crc32=f.crc32,J.compressedSize=f.compressedSize,J.uncompressedSize=f.uncompressedSize);var G=0;g&&(G|=8),w||!N&&!v||(G|=2048);var V=0,ie=0;q&&(V|=16),T==="UNIX"?(ie=798,V|=function(Y,oe){var _e=Y;return Y||(_e=oe?16893:33204),(65535&_e)<<16}(x.unixPermissions,q)):(ie=20,V|=function(Y){return 63&(Y||0)}(x.dosPermissions)),b=U.getUTCHours(),b<<=6,b|=U.getUTCMinutes(),b<<=5,b|=U.getUTCSeconds()/2,m=U.getUTCFullYear()-1980,m<<=4,m|=U.getUTCMonth()+1,m<<=5,m|=U.getUTCDate(),N&&(W=a(1,1)+a(u(k),4)+O,A+="up"+a(W.length,2)+W),v&&(z=a(1,1)+a(u($),4)+I,A+="uc"+a(z.length,2)+z);var Z="";return Z+=`
\0`,Z+=a(G,2),Z+=E.magic,Z+=a(b,2),Z+=a(m,2),Z+=a(J.crc32,4),Z+=a(J.compressedSize,4),Z+=a(J.uncompressedSize,4),Z+=a(k.length,2),Z+=a(A.length,2),{fileRecord:c.LOCAL_FILE_HEADER+Z+k+A,dirRecord:c.CENTRAL_FILE_HEADER+a(ie,2)+Z+a($.length,2)+"\0\0\0\0"+a(V,4)+a(C,4)+k+A+$}}var o=i("../utils"),l=i("../stream/GenericWorker"),d=i("../utf8"),u=i("../crc32"),c=i("../signature");function h(f,g,S,C){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=S,this.encodeFileName=C,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(f){var g=f.meta.percent||0,S=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:S?(g+100*(S-C-1))/S:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var g=this.streamFiles&&!f.file.dir;if(g){var S=s(f,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var g=this.streamFiles&&!f.file.dir,S=s(f,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),g)this.push({data:function(C){return c.DATA_DESCRIPTOR+a(C.crc32,4)+a(C.compressedSize,4)+a(C.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var S=this.bytesWritten-f,C=function(T,D,b,m,x){var E=o.transformTo("string",x(m));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(T,2)+a(T,2)+a(D,4)+a(b,4)+a(E.length,2)+E}(this.dirRecords.length,S,f,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var g=this;return f.on("data",function(S){g.processChunk(S)}),f.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),f.on("error",function(S){g.error(S)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var g=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var S=0;S<g.length;S++)try{g[S].error(f)}catch(C){}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,g=0;g<f.length;g++)f[g].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,n){var a=i("../compressions"),s=i("./ZipFileWorker");n.generateWorker=function(o,l,d){var u=new s(l.streamFiles,d,l.platform,l.encodeFileName),c=0;try{o.forEach(function(h,f){c++;var g=function(D,b){var m=D||b,x=a[m];if(!x)throw new Error(m+" is not a valid compression method !");return x}(f.options.compression,l.compression),S=f.options.compressionOptions||l.compressionOptions||{},C=f.dir,T=f.date;f._compressWorker(g,S).withStreamInfo("file",{name:h,dir:C,date:T,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=c}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,n){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=i("./object")).loadAsync=i("./load"),a.support=i("./support"),a.defaults=i("./defaults"),a.version="3.7.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=i("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,n){var a=i("./utils"),s=i("./external"),o=i("./utf8"),l=i("./zipEntries"),d=i("./stream/Crc32Probe"),u=i("./nodejsUtils");function c(h){return new s.Promise(function(f,g){var S=h.decompressed.getContentWorker().pipe(new d);S.on("error",function(C){g(C)}).on("end",function(){S.streamInfo.crc32!==h.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(h,f){var g=this;return f=a.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(S){var C=new l(f);return C.load(S),C}).then(function(S){var C=[s.Promise.resolve(S)],T=S.files;if(f.checkCRC32)for(var D=0;D<T.length;D++)C.push(c(T[D]));return s.Promise.all(C)}).then(function(S){for(var C=S.shift(),T=C.files,D=0;D<T.length;D++){var b=T[D];g.file(b.fileNameStr,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:f.createFolders})}return C.zipComment.length&&(g.comment=C.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,n){var a=i("../utils"),s=i("../stream/GenericWorker");function o(l,d){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(o,s),o.prototype._bindStream=function(l){var d=this;(this._stream=l).pause(),l.on("data",function(u){d.push({data:u,meta:{percent:0}})}).on("error",function(u){d.isPaused?this.generatedError=u:d.error(u)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,n){var a=i("readable-stream").Readable;function s(o,l,d){a.call(this,l),this._helper=o;var u=this;o.on("data",function(c,h){u.push(c)||u._helper.pause(),d&&d(h)}).on("error",function(c){u.emit("error",c)}).on("end",function(){u.push(null)})}i("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(i,r,n){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(i,r,n){function a(x,E,w){var k,O=o.getTypeOf(E),B=o.extend(w||{},u);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(x=T(x)),B.createFolders&&(k=C(x))&&D.call(this,k,!0);var $=O==="string"&&B.binary===!1&&B.base64===!1;w&&w.binary!==void 0||(B.binary=!$),(E instanceof c&&E.uncompressedSize===0||B.dir||!E||E.length===0)&&(B.base64=!1,B.binary=!0,E="",B.compression="STORE",O="string");var I=null;I=E instanceof c||E instanceof l?E:g.isNode&&g.isStream(E)?new S(x,E):o.prepareContent(x,E,B.binary,B.optimizedBinaryString,B.base64);var N=new h(x,I,B);this.files[x]=N}var s=i("./utf8"),o=i("./utils"),l=i("./stream/GenericWorker"),d=i("./stream/StreamHelper"),u=i("./defaults"),c=i("./compressedObject"),h=i("./zipObject"),f=i("./generate"),g=i("./nodejsUtils"),S=i("./nodejs/NodejsStreamInputAdapter"),C=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var E=x.lastIndexOf("/");return 0<E?x.substring(0,E):""},T=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},D=function(x,E){return E=E!==void 0?E:u.createFolders,x=T(x),this.files[x]||a.call(this,x,null,{dir:!0,createFolders:E}),this.files[x]};function b(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var E,w,k;for(E in this.files)k=this.files[E],(w=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&x(w,k)},filter:function(x){var E=[];return this.forEach(function(w,k){x(w,k)&&E.push(k)}),E},file:function(x,E,w){if(arguments.length!==1)return x=this.root+x,a.call(this,x,E,w),this;if(b(x)){var k=x;return this.filter(function(B,$){return!$.dir&&k.test(B)})}var O=this.files[this.root+x];return O&&!O.dir?O:null},folder:function(x){if(!x)return this;if(b(x))return this.filter(function(O,B){return B.dir&&x.test(O)});var E=this.root+x,w=D.call(this,E),k=this.clone();return k.root=w.name,k},remove:function(x){x=this.root+x;var E=this.files[x];if(E||(x.slice(-1)!=="/"&&(x+="/"),E=this.files[x]),E&&!E.dir)delete this.files[x];else for(var w=this.filter(function(O,B){return B.name.slice(0,x.length)===x}),k=0;k<w.length;k++)delete this.files[w[k].name];return this},generate:function(x){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var E,w={};try{if((w=o.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");o.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var k=w.comment||this.comment||"";E=f.generateWorker(this,w,k)}catch(O){(E=new l("error")).error(O)}return new d(E,w.type||"string",w.mimeType)},generateAsync:function(x,E){return this.generateInternalStream(x).accumulate(E)},generateNodeStream:function(x,E){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(E)}};r.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,n){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,n){var a=i("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}i("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),d=o.charCodeAt(1),u=o.charCodeAt(2),c=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===d&&this.data[h+2]===u&&this.data[h+3]===c)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),d=o.charCodeAt(1),u=o.charCodeAt(2),c=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&d===h[1]&&u===h[2]&&c===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(i,r,n){var a=i("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(o){},readInt:function(o){var l,d=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)d=(d<<8)+this.byteAt(l);return this.index+=o,d},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(o){},lastIndexOfSignature:function(o){},readAndCheckSignature:function(o){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(i,r,n){var a=i("./Uint8ArrayReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,n){var a=i("./DataReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(i,r,n){var a=i("./ArrayReader");function s(o){a.call(this,o)}i("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,n){var a=i("../utils"),s=i("../support"),o=i("./ArrayReader"),l=i("./StringReader"),d=i("./NodeBufferReader"),u=i("./Uint8ArrayReader");r.exports=function(c){var h=a.getTypeOf(c);return a.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new d(c):s.uint8array?new u(a.transformTo("uint8array",c)):new o(a.transformTo("array",c)):new l(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,n){var a=i("./GenericWorker"),s=i("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,n){var a=i("./GenericWorker"),s=i("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,n){var a=i("../utils"),s=i("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,n){var a=i("../utils"),s=i("./GenericWorker");function o(l){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){d.dataIsReady=!0,d.data=u,d.max=u&&u.length||0,d.type=a.getTypeOf(u),d.isPaused||d._tickAndRepeat()},function(u){d.error(u)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,d);break;case"uint8array":l=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":l=this.data.slice(this.index,d)}return this.index=d,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,n){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(i,r,n){var a=i("../utils"),s=i("./ConvertWorker"),o=i("./GenericWorker"),l=i("../base64"),d=i("../support"),u=i("../external"),c=null;if(d.nodestream)try{c=i("../nodejs/NodejsStreamOutputAdapter")}catch(g){}function h(g,S){return new u.Promise(function(C,T){var D=[],b=g._internalType,m=g._outputType,x=g._mimeType;g.on("data",function(E,w){D.push(E),S&&S(w)}).on("error",function(E){D=[],T(E)}).on("end",function(){try{var E=function(w,k,O){switch(w){case"blob":return a.newBlob(a.transformTo("arraybuffer",k),O);case"base64":return l.encode(k);default:return a.transformTo(w,k)}}(m,function(w,k){var O,B=0,$=null,I=0;for(O=0;O<k.length;O++)I+=k[O].length;switch(w){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for($=new Uint8Array(I),O=0;O<k.length;O++)$.set(k[O],B),B+=k[O].length;return $;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+w+"'")}}(b,D),x);C(E)}catch(w){T(w)}D=[]}).resume()})}function f(g,S,C){var T=S;switch(S){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=S,this._mimeType=C,a.checkSupport(T),this._worker=g.pipe(new s(T)),g.lock()}catch(D){this._worker=new o("error"),this._worker.error(D)}}f.prototype={accumulate:function(g){return h(this,g)},on:function(g,S){var C=this;return g==="data"?this._worker.on(g,function(T){S.call(C,T.data,T.meta)}):this._worker.on(g,function(){a.delay(S,arguments,C)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",n.nodebuffer=typeof Buffer!="undefined",n.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")n.blob=!1;else{var a=new ArrayBuffer(0);try{n.blob=new Blob([a],{type:"application/zip"}).size===0}catch(o){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),n.blob=s.getBlob("application/zip").size===0}catch(l){n.blob=!1}}}try{n.nodestream=!!i("readable-stream").Readable}catch(o){n.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,n){for(var a=i("./utils"),s=i("./support"),o=i("./nodejsUtils"),l=i("./stream/GenericWorker"),d=new Array(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;d[254]=d[254]=1;function c(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}n.utf8encode=function(f){return s.nodebuffer?o.newBufferFrom(f,"utf-8"):function(g){var S,C,T,D,b,m=g.length,x=0;for(D=0;D<m;D++)(64512&(C=g.charCodeAt(D)))==55296&&D+1<m&&(64512&(T=g.charCodeAt(D+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),D++),x+=C<128?1:C<2048?2:C<65536?3:4;for(S=s.uint8array?new Uint8Array(x):new Array(x),D=b=0;b<x;D++)(64512&(C=g.charCodeAt(D)))==55296&&D+1<m&&(64512&(T=g.charCodeAt(D+1)))==56320&&(C=65536+(C-55296<<10)+(T-56320),D++),C<128?S[b++]=C:(C<2048?S[b++]=192|C>>>6:(C<65536?S[b++]=224|C>>>12:(S[b++]=240|C>>>18,S[b++]=128|C>>>12&63),S[b++]=128|C>>>6&63),S[b++]=128|63&C);return S}(f)},n.utf8decode=function(f){return s.nodebuffer?a.transformTo("nodebuffer",f).toString("utf-8"):function(g){var S,C,T,D,b=g.length,m=new Array(2*b);for(S=C=0;S<b;)if((T=g[S++])<128)m[C++]=T;else if(4<(D=d[T]))m[C++]=65533,S+=D-1;else{for(T&=D===2?31:D===3?15:7;1<D&&S<b;)T=T<<6|63&g[S++],D--;1<D?m[C++]=65533:T<65536?m[C++]=T:(T-=65536,m[C++]=55296|T>>10&1023,m[C++]=56320|1023&T)}return m.length!==C&&(m.subarray?m=m.subarray(0,C):m.length=C),a.applyFromCharCode(m)}(f=a.transformTo(s.uint8array?"uint8array":"array",f))},a.inherits(c,l),c.prototype.processChunk=function(f){var g=a.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var S=g;(g=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),g.set(S,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var C=function(D,b){var m;for((b=b||D.length)>D.length&&(b=D.length),m=b-1;0<=m&&(192&D[m])==128;)m--;return m<0||m===0?b:m+d[D[m]]>b?m:b}(g),T=g;C!==g.length&&(s.uint8array?(T=g.subarray(0,C),this.leftOver=g.subarray(C,g.length)):(T=g.slice(0,C),this.leftOver=g.slice(C,g.length))),this.push({data:n.utf8decode(T),meta:f.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,a.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:n.utf8encode(f.data),meta:f.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,n){var a=i("./support"),s=i("./base64"),o=i("./nodejsUtils"),l=i("set-immediate-shim"),d=i("./external");function u(C){return C}function c(C,T){for(var D=0;D<C.length;++D)T[D]=255&C.charCodeAt(D);return T}n.newBlob=function(C,T){n.checkSupport("blob");try{return new Blob([C],{type:T})}catch(b){try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return D.append(C),D.getBlob(T)}catch(m){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(C,T,D){var b=[],m=0,x=C.length;if(x<=D)return String.fromCharCode.apply(null,C);for(;m<x;)T==="array"||T==="nodebuffer"?b.push(String.fromCharCode.apply(null,C.slice(m,Math.min(m+D,x)))):b.push(String.fromCharCode.apply(null,C.subarray(m,Math.min(m+D,x)))),m+=D;return b.join("")},stringifyByChar:function(C){for(var T="",D=0;D<C.length;D++)T+=String.fromCharCode(C[D]);return T},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(C){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch(C){return!1}}()}};function f(C){var T=65536,D=n.getTypeOf(C),b=!0;if(D==="uint8array"?b=h.applyCanBeUsed.uint8array:D==="nodebuffer"&&(b=h.applyCanBeUsed.nodebuffer),b)for(;1<T;)try{return h.stringifyByChunk(C,D,T)}catch(m){T=Math.floor(T/2)}return h.stringifyByChar(C)}function g(C,T){for(var D=0;D<C.length;D++)T[D]=C[D];return T}n.applyFromCharCode=f;var S={};S.string={string:u,array:function(C){return c(C,new Array(C.length))},arraybuffer:function(C){return S.string.uint8array(C).buffer},uint8array:function(C){return c(C,new Uint8Array(C.length))},nodebuffer:function(C){return c(C,o.allocBuffer(C.length))}},S.array={string:f,array:u,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return o.newBufferFrom(C)}},S.arraybuffer={string:function(C){return f(new Uint8Array(C))},array:function(C){return g(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:u,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return o.newBufferFrom(new Uint8Array(C))}},S.uint8array={string:f,array:function(C){return g(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:u,nodebuffer:function(C){return o.newBufferFrom(C)}},S.nodebuffer={string:f,array:function(C){return g(C,new Array(C.length))},arraybuffer:function(C){return S.nodebuffer.uint8array(C).buffer},uint8array:function(C){return g(C,new Uint8Array(C.length))},nodebuffer:u},n.transformTo=function(C,T){if(T=T||"",!C)return T;n.checkSupport(C);var D=n.getTypeOf(T);return S[D][C](T)},n.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(C)?"nodebuffer":a.uint8array&&C instanceof Uint8Array?"uint8array":a.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(C){if(!a[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(C){var T,D,b="";for(D=0;D<(C||"").length;D++)b+="\\x"+((T=C.charCodeAt(D))<16?"0":"")+T.toString(16).toUpperCase();return b},n.delay=function(C,T,D){l(function(){C.apply(D||null,T||[])})},n.inherits=function(C,T){function D(){}D.prototype=T.prototype,C.prototype=new D},n.extend=function(){var C,T,D={};for(C=0;C<arguments.length;C++)for(T in arguments[C])arguments[C].hasOwnProperty(T)&&D[T]===void 0&&(D[T]=arguments[C][T]);return D},n.prepareContent=function(C,T,D,b,m){return d.Promise.resolve(T).then(function(x){return a.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader!="undefined"?new d.Promise(function(E,w){var k=new FileReader;k.onload=function(O){E(O.target.result)},k.onerror=function(O){w(O.target.error)},k.readAsArrayBuffer(x)}):x}).then(function(x){var E=n.getTypeOf(x);return E?(E==="arraybuffer"?x=n.transformTo("uint8array",x):E==="string"&&(m?x=s.decode(x):D&&b!==!0&&(x=function(w){return c(w,a.uint8array?new Uint8Array(w.length):new Array(w.length))}(x))),x):d.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(i,r,n){var a=i("./reader/readerFor"),s=i("./utils"),o=i("./signature"),l=i("./zipEntry"),d=(i("./utf8"),i("./support"));function u(c){this.files=[],this.loadOptions=c}u.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(c)+")")}},isSignature:function(c,h){var f=this.reader.index;this.reader.setIndex(c);var g=this.reader.readString(4)===h;return this.reader.setIndex(f),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=d.uint8array?"uint8array":"array",f=s.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,f,g=this.zip64EndOfCentralSize-44;0<g;)c=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(c=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var g=h-f;if(0<g)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(c){this.reader=a(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(i,r,n){var a=i("./reader/readerFor"),s=i("./utils"),o=i("./compressedObject"),l=i("./crc32"),d=i("./utf8"),u=i("./compressions"),c=i("./support");function h(f,g){this.options=f,this.loadOptions=g}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var g,S;if(f.skip(22),this.fileNameLength=f.readInt(2),S=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(C){for(var T in u)if(u.hasOwnProperty(T)&&u[T].magic===C)return u[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var g=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(g),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(f){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(f){var g,S,C,T=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<T;)g=f.readInt(2),S=f.readInt(2),C=f.readData(S),this.extraFields[g]={id:g,length:S,value:C};f.setIndex(T)},handleUTF8:function(){var f=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var S=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var T=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var g=a(f.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:d.utf8decode(g.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var g=a(f.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:d.utf8decode(g.readData(f.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,n){function a(g,S,C){this.name=g,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=S,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var s=i("./stream/StreamHelper"),o=i("./stream/DataWorker"),l=i("./utf8"),d=i("./compressedObject"),u=i("./stream/GenericWorker");a.prototype={internalStream:function(g){var S=null,C="string";try{if(!g)throw new Error("No output type specified.");var T=(C=g.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),S=this._decompressWorker();var D=!this._dataBinary;D&&!T&&(S=S.pipe(new l.Utf8EncodeWorker)),!D&&T&&(S=S.pipe(new l.Utf8DecodeWorker))}catch(b){(S=new u("error")).error(b)}return new s(S,C,"")},async:function(g,S){return this.internalStream(g).accumulate(S)},nodeStream:function(g,S){return this.internalStream(g||"nodebuffer").toNodejsStream(S)},_compressWorker:function(g,S){if(this._data instanceof d&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new l.Utf8EncodeWorker)),d.createWorkerFrom(C,g,S)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)a.prototype[c[f]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,n){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var d=0,u=new l(g),c=a.document.createTextNode("");u.observe(c,{characterData:!0}),s=function(){c.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var S=a.document.createElement("script");S.onreadystatechange=function(){g(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},a.document.documentElement.appendChild(S)}:function(){setTimeout(g,0)};else{var h=new a.MessageChannel;h.port1.onmessage=g,s=function(){h.port2.postMessage(0)}}var f=[];function g(){var S,C;o=!0;for(var T=f.length;T;){for(C=f,f=[],S=-1;++S<T;)C[S]();T=f.length}o=!1}r.exports=function(S){f.push(S)!==1||o||s()}}).call(this,typeof W0!="undefined"?W0:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(i,r,n){var a=i("immediate");function s(){}var o={},l=["REJECTED"],d=["FULFILLED"],u=["PENDING"];function c(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,T!==s&&S(this,T)}function h(T,D,b){this.promise=T,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function f(T,D,b){a(function(){var m;try{m=D(b)}catch(x){return o.reject(T,x)}m===T?o.reject(T,new TypeError("Cannot resolve promise with itself")):o.resolve(T,m)})}function g(T){var D=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof D=="function")return function(){D.apply(T,arguments)}}function S(T,D){var b=!1;function m(w){b||(b=!0,o.reject(T,w))}function x(w){b||(b=!0,o.resolve(T,w))}var E=C(function(){D(x,m)});E.status==="error"&&m(E.value)}function C(T,D){var b={};try{b.value=T(D),b.status="success"}catch(m){b.status="error",b.value=m}return b}(r.exports=c).prototype.finally=function(T){if(typeof T!="function")return this;var D=this.constructor;return this.then(function(b){return D.resolve(T()).then(function(){return b})},function(b){return D.resolve(T()).then(function(){throw b})})},c.prototype.catch=function(T){return this.then(null,T)},c.prototype.then=function(T,D){if(typeof T!="function"&&this.state===d||typeof D!="function"&&this.state===l)return this;var b=new this.constructor(s);return this.state!==u?f(b,this.state===d?T:D,this.outcome):this.queue.push(new h(b,T,D)),b},h.prototype.callFulfilled=function(T){o.resolve(this.promise,T)},h.prototype.otherCallFulfilled=function(T){f(this.promise,this.onFulfilled,T)},h.prototype.callRejected=function(T){o.reject(this.promise,T)},h.prototype.otherCallRejected=function(T){f(this.promise,this.onRejected,T)},o.resolve=function(T,D){var b=C(g,D);if(b.status==="error")return o.reject(T,b.value);var m=b.value;if(m)S(T,m);else{T.state=d,T.outcome=D;for(var x=-1,E=T.queue.length;++x<E;)T.queue[x].callFulfilled(D)}return T},o.reject=function(T,D){T.state=l,T.outcome=D;for(var b=-1,m=T.queue.length;++b<m;)T.queue[b].callRejected(D);return T},c.resolve=function(T){return T instanceof this?T:o.resolve(new this(s),T)},c.reject=function(T){var D=new this(s);return o.reject(D,T)},c.all=function(T){var D=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=T.length,m=!1;if(!b)return this.resolve([]);for(var x=new Array(b),E=0,w=-1,k=new this(s);++w<b;)O(T[w],w);return k;function O(B,$){D.resolve(B).then(function(I){x[$]=I,++E!==b||m||(m=!0,o.resolve(k,x))},function(I){m||(m=!0,o.reject(k,I))})}},c.race=function(T){var D=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=T.length,m=!1;if(!b)return this.resolve([]);for(var x=-1,E=new this(s);++x<b;)w=T[x],D.resolve(w).then(function(k){m||(m=!0,o.resolve(E,k))},function(k){m||(m=!0,o.reject(E,k))});var w;return E}},{immediate:36}],38:[function(i,r,n){var a={};(0,i("./lib/utils/common").assign)(a,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,n){var a=i("./zlib/deflate"),s=i("./utils/common"),o=i("./utils/strings"),l=i("./zlib/messages"),d=i("./zlib/zstream"),u=Object.prototype.toString,c=0,h=-1,f=0,g=8;function S(T){if(!(this instanceof S))return new S(T);this.options=s.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},T||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var b=a.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(b!==c)throw new Error(l[b]);if(D.header&&a.deflateSetHeader(this.strm,D.header),D.dictionary){var m;if(m=typeof D.dictionary=="string"?o.string2buf(D.dictionary):u.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(b=a.deflateSetDictionary(this.strm,m))!==c)throw new Error(l[b]);this._dict_set=!0}}function C(T,D){var b=new S(D);if(b.push(T,!0),b.err)throw b.msg||l[b.err];return b.result}S.prototype.push=function(T,D){var b,m,x=this.strm,E=this.options.chunkSize;if(this.ended)return!1;m=D===~~D?D:D===!0?4:0,typeof T=="string"?x.input=o.string2buf(T):u.call(T)==="[object ArrayBuffer]"?x.input=new Uint8Array(T):x.input=T,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new s.Buf8(E),x.next_out=0,x.avail_out=E),(b=a.deflate(x,m))!==1&&b!==c)return this.onEnd(b),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||m!==4&&m!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(x.output,x.next_out))):this.onData(s.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&b!==1);return m===4?(b=a.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===c):m!==2||(this.onEnd(c),!(x.avail_out=0))},S.prototype.onData=function(T){this.chunks.push(T)},S.prototype.onEnd=function(T){T===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},n.Deflate=S,n.deflate=C,n.deflateRaw=function(T,D){return(D=D||{}).raw=!0,C(T,D)},n.gzip=function(T,D){return(D=D||{}).gzip=!0,C(T,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,n){var a=i("./zlib/inflate"),s=i("./utils/common"),o=i("./utils/strings"),l=i("./zlib/constants"),d=i("./zlib/messages"),u=i("./zlib/zstream"),c=i("./zlib/gzheader"),h=Object.prototype.toString;function f(S){if(!(this instanceof f))return new f(S);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},S||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||S&&S.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var T=a.inflateInit2(this.strm,C.windowBits);if(T!==l.Z_OK)throw new Error(d[T]);this.header=new c,a.inflateGetHeader(this.strm,this.header)}function g(S,C){var T=new f(C);if(T.push(S,!0),T.err)throw T.msg||d[T.err];return T.result}f.prototype.push=function(S,C){var T,D,b,m,x,E,w=this.strm,k=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;D=C===~~C?C:C===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof S=="string"?w.input=o.binstring2buf(S):h.call(S)==="[object ArrayBuffer]"?w.input=new Uint8Array(S):w.input=S,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(k),w.next_out=0,w.avail_out=k),(T=a.inflate(w,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(E=typeof O=="string"?o.string2buf(O):h.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,T=a.inflateSetDictionary(this.strm,E)),T===l.Z_BUF_ERROR&&B===!0&&(T=l.Z_OK,B=!1),T!==l.Z_STREAM_END&&T!==l.Z_OK)return this.onEnd(T),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&T!==l.Z_STREAM_END&&(w.avail_in!==0||D!==l.Z_FINISH&&D!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(w.output,w.next_out),m=w.next_out-b,x=o.buf2string(w.output,b),w.next_out=m,w.avail_out=k-m,m&&s.arraySet(w.output,w.output,b,m,0),this.onData(x)):this.onData(s.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(B=!0)}while((0<w.avail_in||w.avail_out===0)&&T!==l.Z_STREAM_END);return T===l.Z_STREAM_END&&(D=l.Z_FINISH),D===l.Z_FINISH?(T=a.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===l.Z_OK):D!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(w.avail_out=0))},f.prototype.onData=function(S){this.chunks.push(S)},f.prototype.onEnd=function(S){S===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},n.Inflate=f,n.inflate=g,n.inflateRaw=function(S,C){return(C=C||{}).raw=!0,g(S,C)},n.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,n){var a=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";n.assign=function(l){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])}}return l},n.shrinkBuf=function(l,d){return l.length===d?l:l.subarray?l.subarray(0,d):(l.length=d,l)};var s={arraySet:function(l,d,u,c,h){if(d.subarray&&l.subarray)l.set(d.subarray(u,u+c),h);else for(var f=0;f<c;f++)l[h+f]=d[u+f]},flattenChunks:function(l){var d,u,c,h,f,g;for(d=c=0,u=l.length;d<u;d++)c+=l[d].length;for(g=new Uint8Array(c),d=h=0,u=l.length;d<u;d++)f=l[d],g.set(f,h),h+=f.length;return g}},o={arraySet:function(l,d,u,c,h){for(var f=0;f<c;f++)l[h+f]=d[u+f]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(a)},{}],42:[function(i,r,n){var a=i("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var l=new a.Buf8(256),d=0;d<256;d++)l[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function u(c,h){if(h<65537&&(c.subarray&&o||!c.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(c,h));for(var f="",g=0;g<h;g++)f+=String.fromCharCode(c[g]);return f}l[254]=l[254]=1,n.string2buf=function(c){var h,f,g,S,C,T=c.length,D=0;for(S=0;S<T;S++)(64512&(f=c.charCodeAt(S)))==55296&&S+1<T&&(64512&(g=c.charCodeAt(S+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),S++),D+=f<128?1:f<2048?2:f<65536?3:4;for(h=new a.Buf8(D),S=C=0;C<D;S++)(64512&(f=c.charCodeAt(S)))==55296&&S+1<T&&(64512&(g=c.charCodeAt(S+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),S++),f<128?h[C++]=f:(f<2048?h[C++]=192|f>>>6:(f<65536?h[C++]=224|f>>>12:(h[C++]=240|f>>>18,h[C++]=128|f>>>12&63),h[C++]=128|f>>>6&63),h[C++]=128|63&f);return h},n.buf2binstring=function(c){return u(c,c.length)},n.binstring2buf=function(c){for(var h=new a.Buf8(c.length),f=0,g=h.length;f<g;f++)h[f]=c.charCodeAt(f);return h},n.buf2string=function(c,h){var f,g,S,C,T=h||c.length,D=new Array(2*T);for(f=g=0;f<T;)if((S=c[f++])<128)D[g++]=S;else if(4<(C=l[S]))D[g++]=65533,f+=C-1;else{for(S&=C===2?31:C===3?15:7;1<C&&f<T;)S=S<<6|63&c[f++],C--;1<C?D[g++]=65533:S<65536?D[g++]=S:(S-=65536,D[g++]=55296|S>>10&1023,D[g++]=56320|1023&S)}return u(D,g)},n.utf8border=function(c,h){var f;for((h=h||c.length)>c.length&&(h=c.length),f=h-1;0<=f&&(192&c[f])==128;)f--;return f<0||f===0?h:f+l[c[f]]>h?f:h}},{"./common":41}],43:[function(i,r,n){r.exports=function(a,s,o,l){for(var d=65535&a|0,u=a>>>16&65535|0,c=0;o!==0;){for(o-=c=2e3<o?2e3:o;u=u+(d=d+s[l++]|0)|0,--c;);d%=65521,u%=65521}return d|u<<16|0}},{}],44:[function(i,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,n){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,d){var u=a,c=d+l;s^=-1;for(var h=d;h<c;h++)s=s>>>8^u[255&(s^o[h])];return-1^s}},{}],46:[function(i,r,n){var a,s=i("../utils/common"),o=i("./trees"),l=i("./adler32"),d=i("./crc32"),u=i("./messages"),c=0,h=4,f=0,g=-2,S=-1,C=4,T=2,D=8,b=9,m=286,x=30,E=19,w=2*m+1,k=15,O=3,B=258,$=B+O+1,I=42,N=113,v=1,A=2,W=3,z=4;function q(y,te){return y.msg=u[te],te}function U(y){return(y<<1)-(4<y?9:0)}function J(y){for(var te=y.length;0<=--te;)y[te]=0}function G(y){var te=y.state,j=te.pending;j>y.avail_out&&(j=y.avail_out),j!==0&&(s.arraySet(y.output,te.pending_buf,te.pending_out,j,y.next_out),y.next_out+=j,te.pending_out+=j,y.total_out+=j,y.avail_out-=j,te.pending-=j,te.pending===0&&(te.pending_out=0))}function V(y,te){o._tr_flush_block(y,0<=y.block_start?y.block_start:-1,y.strstart-y.block_start,te),y.block_start=y.strstart,G(y.strm)}function ie(y,te){y.pending_buf[y.pending++]=te}function Z(y,te){y.pending_buf[y.pending++]=te>>>8&255,y.pending_buf[y.pending++]=255&te}function Y(y,te){var j,R,L=y.max_chain_length,K=y.strstart,ne=y.prev_length,ae=y.nice_match,X=y.strstart>y.w_size-$?y.strstart-(y.w_size-$):0,le=y.window,pe=y.w_mask,ue=y.prev,Ce=y.strstart+B,Ve=le[K+ne-1],Pe=le[K+ne];y.prev_length>=y.good_match&&(L>>=2),ae>y.lookahead&&(ae=y.lookahead);do if(le[(j=te)+ne]===Pe&&le[j+ne-1]===Ve&&le[j]===le[K]&&le[++j]===le[K+1]){K+=2,j++;do;while(le[++K]===le[++j]&&le[++K]===le[++j]&&le[++K]===le[++j]&&le[++K]===le[++j]&&le[++K]===le[++j]&&le[++K]===le[++j]&&le[++K]===le[++j]&&le[++K]===le[++j]&&K<Ce);if(R=B-(Ce-K),K=Ce-B,ne<R){if(y.match_start=te,ae<=(ne=R))break;Ve=le[K+ne-1],Pe=le[K+ne]}}while((te=ue[te&pe])>X&&--L!=0);return ne<=y.lookahead?ne:y.lookahead}function oe(y){var te,j,R,L,K,ne,ae,X,le,pe,ue=y.w_size;do{if(L=y.window_size-y.lookahead-y.strstart,y.strstart>=ue+(ue-$)){for(s.arraySet(y.window,y.window,ue,ue,0),y.match_start-=ue,y.strstart-=ue,y.block_start-=ue,te=j=y.hash_size;R=y.head[--te],y.head[te]=ue<=R?R-ue:0,--j;);for(te=j=ue;R=y.prev[--te],y.prev[te]=ue<=R?R-ue:0,--j;);L+=ue}if(y.strm.avail_in===0)break;if(ne=y.strm,ae=y.window,X=y.strstart+y.lookahead,le=L,pe=void 0,pe=ne.avail_in,le<pe&&(pe=le),j=pe===0?0:(ne.avail_in-=pe,s.arraySet(ae,ne.input,ne.next_in,pe,X),ne.state.wrap===1?ne.adler=l(ne.adler,ae,pe,X):ne.state.wrap===2&&(ne.adler=d(ne.adler,ae,pe,X)),ne.next_in+=pe,ne.total_in+=pe,pe),y.lookahead+=j,y.lookahead+y.insert>=O)for(K=y.strstart-y.insert,y.ins_h=y.window[K],y.ins_h=(y.ins_h<<y.hash_shift^y.window[K+1])&y.hash_mask;y.insert&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[K+O-1])&y.hash_mask,y.prev[K&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=K,K++,y.insert--,!(y.lookahead+y.insert<O)););}while(y.lookahead<$&&y.strm.avail_in!==0)}function _e(y,te){for(var j,R;;){if(y.lookahead<$){if(oe(y),y.lookahead<$&&te===c)return v;if(y.lookahead===0)break}if(j=0,y.lookahead>=O&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,j=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),j!==0&&y.strstart-j<=y.w_size-$&&(y.match_length=Y(y,j)),y.match_length>=O)if(R=o._tr_tally(y,y.strstart-y.match_start,y.match_length-O),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&y.lookahead>=O){for(y.match_length--;y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,j=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart,--y.match_length!=0;);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else R=o._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(R&&(V(y,!1),y.strm.avail_out===0))return v}return y.insert=y.strstart<O-1?y.strstart:O-1,te===h?(V(y,!0),y.strm.avail_out===0?W:z):y.last_lit&&(V(y,!1),y.strm.avail_out===0)?v:A}function de(y,te){for(var j,R,L;;){if(y.lookahead<$){if(oe(y),y.lookahead<$&&te===c)return v;if(y.lookahead===0)break}if(j=0,y.lookahead>=O&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,j=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),y.prev_length=y.match_length,y.prev_match=y.match_start,y.match_length=O-1,j!==0&&y.prev_length<y.max_lazy_match&&y.strstart-j<=y.w_size-$&&(y.match_length=Y(y,j),y.match_length<=5&&(y.strategy===1||y.match_length===O&&4096<y.strstart-y.match_start)&&(y.match_length=O-1)),y.prev_length>=O&&y.match_length<=y.prev_length){for(L=y.strstart+y.lookahead-O,R=o._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-O),y.lookahead-=y.prev_length-1,y.prev_length-=2;++y.strstart<=L&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,j=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),--y.prev_length!=0;);if(y.match_available=0,y.match_length=O-1,y.strstart++,R&&(V(y,!1),y.strm.avail_out===0))return v}else if(y.match_available){if((R=o._tr_tally(y,0,y.window[y.strstart-1]))&&V(y,!1),y.strstart++,y.lookahead--,y.strm.avail_out===0)return v}else y.match_available=1,y.strstart++,y.lookahead--}return y.match_available&&(R=o._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0),y.insert=y.strstart<O-1?y.strstart:O-1,te===h?(V(y,!0),y.strm.avail_out===0?W:z):y.last_lit&&(V(y,!1),y.strm.avail_out===0)?v:A}function ce(y,te,j,R,L){this.good_length=y,this.max_lazy=te,this.nice_length=j,this.max_chain=R,this.func=L}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*w),this.dyn_dtree=new s.Buf16(2*(2*x+1)),this.bl_tree=new s.Buf16(2*(2*E+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(k+1),this.heap=new s.Buf16(2*m+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*m+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(y){var te;return y&&y.state?(y.total_in=y.total_out=0,y.data_type=T,(te=y.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?I:N,y.adler=te.wrap===2?0:1,te.last_flush=c,o._tr_init(te),f):q(y,g)}function be(y){var te=ve(y);return te===f&&function(j){j.window_size=2*j.w_size,J(j.head),j.max_lazy_match=a[j.level].max_lazy,j.good_match=a[j.level].good_length,j.nice_match=a[j.level].nice_length,j.max_chain_length=a[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=O-1,j.match_available=0,j.ins_h=0}(y.state),te}function ke(y,te,j,R,L,K){if(!y)return g;var ne=1;if(te===S&&(te=6),R<0?(ne=0,R=-R):15<R&&(ne=2,R-=16),L<1||b<L||j!==D||R<8||15<R||te<0||9<te||K<0||C<K)return q(y,g);R===8&&(R=9);var ae=new me;return(y.state=ae).strm=y,ae.wrap=ne,ae.gzhead=null,ae.w_bits=R,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=L+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+O-1)/O),ae.window=new s.Buf8(2*ae.w_size),ae.head=new s.Buf16(ae.hash_size),ae.prev=new s.Buf16(ae.w_size),ae.lit_bufsize=1<<L+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new s.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=te,ae.strategy=K,ae.method=j,be(y)}a=[new ce(0,0,0,0,function(y,te){var j=65535;for(j>y.pending_buf_size-5&&(j=y.pending_buf_size-5);;){if(y.lookahead<=1){if(oe(y),y.lookahead===0&&te===c)return v;if(y.lookahead===0)break}y.strstart+=y.lookahead,y.lookahead=0;var R=y.block_start+j;if((y.strstart===0||y.strstart>=R)&&(y.lookahead=y.strstart-R,y.strstart=R,V(y,!1),y.strm.avail_out===0)||y.strstart-y.block_start>=y.w_size-$&&(V(y,!1),y.strm.avail_out===0))return v}return y.insert=0,te===h?(V(y,!0),y.strm.avail_out===0?W:z):(y.strstart>y.block_start&&(V(y,!1),y.strm.avail_out),v)}),new ce(4,4,8,4,_e),new ce(4,5,16,8,_e),new ce(4,6,32,32,_e),new ce(4,4,16,16,de),new ce(8,16,32,32,de),new ce(8,16,128,128,de),new ce(8,32,128,256,de),new ce(32,128,258,1024,de),new ce(32,258,258,4096,de)],n.deflateInit=function(y,te){return ke(y,te,D,15,8,0)},n.deflateInit2=ke,n.deflateReset=be,n.deflateResetKeep=ve,n.deflateSetHeader=function(y,te){return y&&y.state?y.state.wrap!==2?g:(y.state.gzhead=te,f):g},n.deflate=function(y,te){var j,R,L,K;if(!y||!y.state||5<te||te<0)return y?q(y,g):g;if(R=y.state,!y.output||!y.input&&y.avail_in!==0||R.status===666&&te!==h)return q(y,y.avail_out===0?-5:g);if(R.strm=y,j=R.last_flush,R.last_flush=te,R.status===I)if(R.wrap===2)y.adler=0,ie(R,31),ie(R,139),ie(R,8),R.gzhead?(ie(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),ie(R,255&R.gzhead.time),ie(R,R.gzhead.time>>8&255),ie(R,R.gzhead.time>>16&255),ie(R,R.gzhead.time>>24&255),ie(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ie(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(ie(R,255&R.gzhead.extra.length),ie(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(y.adler=d(y.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(ie(R,0),ie(R,0),ie(R,0),ie(R,0),ie(R,0),ie(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ie(R,3),R.status=N);else{var ne=D+(R.w_bits-8<<4)<<8;ne|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ne|=32),ne+=31-ne%31,R.status=N,Z(R,ne),R.strstart!==0&&(Z(R,y.adler>>>16),Z(R,65535&y.adler)),y.adler=1}if(R.status===69)if(R.gzhead.extra){for(L=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>L&&(y.adler=d(y.adler,R.pending_buf,R.pending-L,L)),G(y),L=R.pending,R.pending!==R.pending_buf_size));)ie(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>L&&(y.adler=d(y.adler,R.pending_buf,R.pending-L,L)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){L=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>L&&(y.adler=d(y.adler,R.pending_buf,R.pending-L,L)),G(y),L=R.pending,R.pending===R.pending_buf_size)){K=1;break}K=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,ie(R,K)}while(K!==0);R.gzhead.hcrc&&R.pending>L&&(y.adler=d(y.adler,R.pending_buf,R.pending-L,L)),K===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){L=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>L&&(y.adler=d(y.adler,R.pending_buf,R.pending-L,L)),G(y),L=R.pending,R.pending===R.pending_buf_size)){K=1;break}K=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,ie(R,K)}while(K!==0);R.gzhead.hcrc&&R.pending>L&&(y.adler=d(y.adler,R.pending_buf,R.pending-L,L)),K===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&G(y),R.pending+2<=R.pending_buf_size&&(ie(R,255&y.adler),ie(R,y.adler>>8&255),y.adler=0,R.status=N)):R.status=N),R.pending!==0){if(G(y),y.avail_out===0)return R.last_flush=-1,f}else if(y.avail_in===0&&U(te)<=U(j)&&te!==h)return q(y,-5);if(R.status===666&&y.avail_in!==0)return q(y,-5);if(y.avail_in!==0||R.lookahead!==0||te!==c&&R.status!==666){var ae=R.strategy===2?function(X,le){for(var pe;;){if(X.lookahead===0&&(oe(X),X.lookahead===0)){if(le===c)return v;break}if(X.match_length=0,pe=o._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,pe&&(V(X,!1),X.strm.avail_out===0))return v}return X.insert=0,le===h?(V(X,!0),X.strm.avail_out===0?W:z):X.last_lit&&(V(X,!1),X.strm.avail_out===0)?v:A}(R,te):R.strategy===3?function(X,le){for(var pe,ue,Ce,Ve,Pe=X.window;;){if(X.lookahead<=B){if(oe(X),X.lookahead<=B&&le===c)return v;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=O&&0<X.strstart&&(ue=Pe[Ce=X.strstart-1])===Pe[++Ce]&&ue===Pe[++Ce]&&ue===Pe[++Ce]){Ve=X.strstart+B;do;while(ue===Pe[++Ce]&&ue===Pe[++Ce]&&ue===Pe[++Ce]&&ue===Pe[++Ce]&&ue===Pe[++Ce]&&ue===Pe[++Ce]&&ue===Pe[++Ce]&&ue===Pe[++Ce]&&Ce<Ve);X.match_length=B-(Ve-Ce),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=O?(pe=o._tr_tally(X,1,X.match_length-O),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(pe=o._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),pe&&(V(X,!1),X.strm.avail_out===0))return v}return X.insert=0,le===h?(V(X,!0),X.strm.avail_out===0?W:z):X.last_lit&&(V(X,!1),X.strm.avail_out===0)?v:A}(R,te):a[R.level].func(R,te);if(ae!==W&&ae!==z||(R.status=666),ae===v||ae===W)return y.avail_out===0&&(R.last_flush=-1),f;if(ae===A&&(te===1?o._tr_align(R):te!==5&&(o._tr_stored_block(R,0,0,!1),te===3&&(J(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),G(y),y.avail_out===0))return R.last_flush=-1,f}return te!==h?f:R.wrap<=0?1:(R.wrap===2?(ie(R,255&y.adler),ie(R,y.adler>>8&255),ie(R,y.adler>>16&255),ie(R,y.adler>>24&255),ie(R,255&y.total_in),ie(R,y.total_in>>8&255),ie(R,y.total_in>>16&255),ie(R,y.total_in>>24&255)):(Z(R,y.adler>>>16),Z(R,65535&y.adler)),G(y),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?f:1)},n.deflateEnd=function(y){var te;return y&&y.state?(te=y.state.status)!==I&&te!==69&&te!==73&&te!==91&&te!==103&&te!==N&&te!==666?q(y,g):(y.state=null,te===N?q(y,-3):f):g},n.deflateSetDictionary=function(y,te){var j,R,L,K,ne,ae,X,le,pe=te.length;if(!y||!y.state||(K=(j=y.state).wrap)===2||K===1&&j.status!==I||j.lookahead)return g;for(K===1&&(y.adler=l(y.adler,te,pe,0)),j.wrap=0,pe>=j.w_size&&(K===0&&(J(j.head),j.strstart=0,j.block_start=0,j.insert=0),le=new s.Buf8(j.w_size),s.arraySet(le,te,pe-j.w_size,j.w_size,0),te=le,pe=j.w_size),ne=y.avail_in,ae=y.next_in,X=y.input,y.avail_in=pe,y.next_in=0,y.input=te,oe(j);j.lookahead>=O;){for(R=j.strstart,L=j.lookahead-(O-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[R+O-1])&j.hash_mask,j.prev[R&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=R,R++,--L;);j.strstart=R,j.lookahead=O-1,oe(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=O-1,j.match_available=0,y.next_in=ae,y.input=X,y.avail_in=ne,j.wrap=K,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,n){r.exports=function(a,s){var o,l,d,u,c,h,f,g,S,C,T,D,b,m,x,E,w,k,O,B,$,I,N,v,A;o=a.state,l=a.next_in,v=a.input,d=l+(a.avail_in-5),u=a.next_out,A=a.output,c=u-(s-a.avail_out),h=u+(a.avail_out-257),f=o.dmax,g=o.wsize,S=o.whave,C=o.wnext,T=o.window,D=o.hold,b=o.bits,m=o.lencode,x=o.distcode,E=(1<<o.lenbits)-1,w=(1<<o.distbits)-1;e:do{b<15&&(D+=v[l++]<<b,b+=8,D+=v[l++]<<b,b+=8),k=m[D&E];t:for(;;){if(D>>>=O=k>>>24,b-=O,(O=k>>>16&255)==0)A[u++]=65535&k;else{if(!(16&O)){if((64&O)==0){k=m[(65535&k)+(D&(1<<O)-1)];continue t}if(32&O){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}B=65535&k,(O&=15)&&(b<O&&(D+=v[l++]<<b,b+=8),B+=D&(1<<O)-1,D>>>=O,b-=O),b<15&&(D+=v[l++]<<b,b+=8,D+=v[l++]<<b,b+=8),k=x[D&w];i:for(;;){if(D>>>=O=k>>>24,b-=O,!(16&(O=k>>>16&255))){if((64&O)==0){k=x[(65535&k)+(D&(1<<O)-1)];continue i}a.msg="invalid distance code",o.mode=30;break e}if($=65535&k,b<(O&=15)&&(D+=v[l++]<<b,(b+=8)<O&&(D+=v[l++]<<b,b+=8)),f<($+=D&(1<<O)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(D>>>=O,b-=O,(O=u-c)<$){if(S<(O=$-O)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(N=T,(I=0)===C){if(I+=g-O,O<B){for(B-=O;A[u++]=T[I++],--O;);I=u-$,N=A}}else if(C<O){if(I+=g+C-O,(O-=C)<B){for(B-=O;A[u++]=T[I++],--O;);if(I=0,C<B){for(B-=O=C;A[u++]=T[I++],--O;);I=u-$,N=A}}}else if(I+=C-O,O<B){for(B-=O;A[u++]=T[I++],--O;);I=u-$,N=A}for(;2<B;)A[u++]=N[I++],A[u++]=N[I++],A[u++]=N[I++],B-=3;B&&(A[u++]=N[I++],1<B&&(A[u++]=N[I++]))}else{for(I=u-$;A[u++]=A[I++],A[u++]=A[I++],A[u++]=A[I++],2<(B-=3););B&&(A[u++]=A[I++],1<B&&(A[u++]=A[I++]))}break}}break}}while(l<d&&u<h);l-=B=b>>3,D&=(1<<(b-=B<<3))-1,a.next_in=l,a.next_out=u,a.avail_in=l<d?d-l+5:5-(l-d),a.avail_out=u<h?h-u+257:257-(u-h),o.hold=D,o.bits=b}},{}],49:[function(i,r,n){var a=i("../utils/common"),s=i("./adler32"),o=i("./crc32"),l=i("./inffast"),d=i("./inftrees"),u=1,c=2,h=0,f=-2,g=1,S=852,C=592;function T(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(I){var N;return I&&I.state?(N=I.state,I.total_in=I.total_out=N.total=0,I.msg="",N.wrap&&(I.adler=1&N.wrap),N.mode=g,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new a.Buf32(S),N.distcode=N.distdyn=new a.Buf32(C),N.sane=1,N.back=-1,h):f}function m(I){var N;return I&&I.state?((N=I.state).wsize=0,N.whave=0,N.wnext=0,b(I)):f}function x(I,N){var v,A;return I&&I.state?(A=I.state,N<0?(v=0,N=-N):(v=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?f:(A.window!==null&&A.wbits!==N&&(A.window=null),A.wrap=v,A.wbits=N,m(I))):f}function E(I,N){var v,A;return I?(A=new D,(I.state=A).window=null,(v=x(I,N))!==h&&(I.state=null),v):f}var w,k,O=!0;function B(I){if(O){var N;for(w=new a.Buf32(512),k=new a.Buf32(32),N=0;N<144;)I.lens[N++]=8;for(;N<256;)I.lens[N++]=9;for(;N<280;)I.lens[N++]=7;for(;N<288;)I.lens[N++]=8;for(d(u,I.lens,0,288,w,0,I.work,{bits:9}),N=0;N<32;)I.lens[N++]=5;d(c,I.lens,0,32,k,0,I.work,{bits:5}),O=!1}I.lencode=w,I.lenbits=9,I.distcode=k,I.distbits=5}function $(I,N,v,A){var W,z=I.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new a.Buf8(z.wsize)),A>=z.wsize?(a.arraySet(z.window,N,v-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(A<(W=z.wsize-z.wnext)&&(W=A),a.arraySet(z.window,N,v-A,W,z.wnext),(A-=W)?(a.arraySet(z.window,N,v-A,A,0),z.wnext=A,z.whave=z.wsize):(z.wnext+=W,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=W))),0}n.inflateReset=m,n.inflateReset2=x,n.inflateResetKeep=b,n.inflateInit=function(I){return E(I,15)},n.inflateInit2=E,n.inflate=function(I,N){var v,A,W,z,q,U,J,G,V,ie,Z,Y,oe,_e,de,ce,me,ve,be,ke,y,te,j,R,L=0,K=new a.Buf8(4),ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return f;(v=I.state).mode===12&&(v.mode=13),q=I.next_out,W=I.output,J=I.avail_out,z=I.next_in,A=I.input,U=I.avail_in,G=v.hold,V=v.bits,ie=U,Z=J,te=h;e:for(;;)switch(v.mode){case g:if(v.wrap===0){v.mode=13;break}for(;V<16;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(2&v.wrap&&G===35615){K[v.check=0]=255&G,K[1]=G>>>8&255,v.check=o(v.check,K,2,0),V=G=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&G)<<8)+(G>>8))%31){I.msg="incorrect header check",v.mode=30;break}if((15&G)!=8){I.msg="unknown compression method",v.mode=30;break}if(V-=4,y=8+(15&(G>>>=4)),v.wbits===0)v.wbits=y;else if(y>v.wbits){I.msg="invalid window size",v.mode=30;break}v.dmax=1<<y,I.adler=v.check=1,v.mode=512&G?10:12,V=G=0;break;case 2:for(;V<16;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(v.flags=G,(255&v.flags)!=8){I.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){I.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=G>>8&1),512&v.flags&&(K[0]=255&G,K[1]=G>>>8&255,v.check=o(v.check,K,2,0)),V=G=0,v.mode=3;case 3:for(;V<32;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}v.head&&(v.head.time=G),512&v.flags&&(K[0]=255&G,K[1]=G>>>8&255,K[2]=G>>>16&255,K[3]=G>>>24&255,v.check=o(v.check,K,4,0)),V=G=0,v.mode=4;case 4:for(;V<16;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}v.head&&(v.head.xflags=255&G,v.head.os=G>>8),512&v.flags&&(K[0]=255&G,K[1]=G>>>8&255,v.check=o(v.check,K,2,0)),V=G=0,v.mode=5;case 5:if(1024&v.flags){for(;V<16;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}v.length=G,v.head&&(v.head.extra_len=G),512&v.flags&&(K[0]=255&G,K[1]=G>>>8&255,v.check=o(v.check,K,2,0)),V=G=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(U<(Y=v.length)&&(Y=U),Y&&(v.head&&(y=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),a.arraySet(v.head.extra,A,z,Y,y)),512&v.flags&&(v.check=o(v.check,A,Y,z)),U-=Y,z+=Y,v.length-=Y),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(U===0)break e;for(Y=0;y=A[z+Y++],v.head&&y&&v.length<65536&&(v.head.name+=String.fromCharCode(y)),y&&Y<U;);if(512&v.flags&&(v.check=o(v.check,A,Y,z)),U-=Y,z+=Y,y)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(U===0)break e;for(Y=0;y=A[z+Y++],v.head&&y&&v.length<65536&&(v.head.comment+=String.fromCharCode(y)),y&&Y<U;);if(512&v.flags&&(v.check=o(v.check,A,Y,z)),U-=Y,z+=Y,y)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;V<16;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(G!==(65535&v.check)){I.msg="header crc mismatch",v.mode=30;break}V=G=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),I.adler=v.check=0,v.mode=12;break;case 10:for(;V<32;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}I.adler=v.check=T(G),V=G=0,v.mode=11;case 11:if(v.havedict===0)return I.next_out=q,I.avail_out=J,I.next_in=z,I.avail_in=U,v.hold=G,v.bits=V,2;I.adler=v.check=1,v.mode=12;case 12:if(N===5||N===6)break e;case 13:if(v.last){G>>>=7&V,V-=7&V,v.mode=27;break}for(;V<3;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}switch(v.last=1&G,V-=1,3&(G>>>=1)){case 0:v.mode=14;break;case 1:if(B(v),v.mode=20,N!==6)break;G>>>=2,V-=2;break e;case 2:v.mode=17;break;case 3:I.msg="invalid block type",v.mode=30}G>>>=2,V-=2;break;case 14:for(G>>>=7&V,V-=7&V;V<32;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if((65535&G)!=(G>>>16^65535)){I.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&G,V=G=0,v.mode=15,N===6)break e;case 15:v.mode=16;case 16:if(Y=v.length){if(U<Y&&(Y=U),J<Y&&(Y=J),Y===0)break e;a.arraySet(W,A,z,Y,q),U-=Y,z+=Y,J-=Y,q+=Y,v.length-=Y;break}v.mode=12;break;case 17:for(;V<14;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(v.nlen=257+(31&G),G>>>=5,V-=5,v.ndist=1+(31&G),G>>>=5,V-=5,v.ncode=4+(15&G),G>>>=4,V-=4,286<v.nlen||30<v.ndist){I.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;V<3;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}v.lens[ne[v.have++]]=7&G,G>>>=3,V-=3}for(;v.have<19;)v.lens[ne[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,j={bits:v.lenbits},te=d(0,v.lens,0,19,v.lencode,0,v.work,j),v.lenbits=j.bits,te){I.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;ce=(L=v.lencode[G&(1<<v.lenbits)-1])>>>16&255,me=65535&L,!((de=L>>>24)<=V);){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(me<16)G>>>=de,V-=de,v.lens[v.have++]=me;else{if(me===16){for(R=de+2;V<R;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(G>>>=de,V-=de,v.have===0){I.msg="invalid bit length repeat",v.mode=30;break}y=v.lens[v.have-1],Y=3+(3&G),G>>>=2,V-=2}else if(me===17){for(R=de+3;V<R;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}V-=de,y=0,Y=3+(7&(G>>>=de)),G>>>=3,V-=3}else{for(R=de+7;V<R;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}V-=de,y=0,Y=11+(127&(G>>>=de)),G>>>=7,V-=7}if(v.have+Y>v.nlen+v.ndist){I.msg="invalid bit length repeat",v.mode=30;break}for(;Y--;)v.lens[v.have++]=y}}if(v.mode===30)break;if(v.lens[256]===0){I.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,j={bits:v.lenbits},te=d(u,v.lens,0,v.nlen,v.lencode,0,v.work,j),v.lenbits=j.bits,te){I.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,j={bits:v.distbits},te=d(c,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,j),v.distbits=j.bits,te){I.msg="invalid distances set",v.mode=30;break}if(v.mode=20,N===6)break e;case 20:v.mode=21;case 21:if(6<=U&&258<=J){I.next_out=q,I.avail_out=J,I.next_in=z,I.avail_in=U,v.hold=G,v.bits=V,l(I,Z),q=I.next_out,W=I.output,J=I.avail_out,z=I.next_in,A=I.input,U=I.avail_in,G=v.hold,V=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;ce=(L=v.lencode[G&(1<<v.lenbits)-1])>>>16&255,me=65535&L,!((de=L>>>24)<=V);){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(ce&&(240&ce)==0){for(ve=de,be=ce,ke=me;ce=(L=v.lencode[ke+((G&(1<<ve+be)-1)>>ve)])>>>16&255,me=65535&L,!(ve+(de=L>>>24)<=V);){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}G>>>=ve,V-=ve,v.back+=ve}if(G>>>=de,V-=de,v.back+=de,v.length=me,ce===0){v.mode=26;break}if(32&ce){v.back=-1,v.mode=12;break}if(64&ce){I.msg="invalid literal/length code",v.mode=30;break}v.extra=15&ce,v.mode=22;case 22:if(v.extra){for(R=v.extra;V<R;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}v.length+=G&(1<<v.extra)-1,G>>>=v.extra,V-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;ce=(L=v.distcode[G&(1<<v.distbits)-1])>>>16&255,me=65535&L,!((de=L>>>24)<=V);){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if((240&ce)==0){for(ve=de,be=ce,ke=me;ce=(L=v.distcode[ke+((G&(1<<ve+be)-1)>>ve)])>>>16&255,me=65535&L,!(ve+(de=L>>>24)<=V);){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}G>>>=ve,V-=ve,v.back+=ve}if(G>>>=de,V-=de,v.back+=de,64&ce){I.msg="invalid distance code",v.mode=30;break}v.offset=me,v.extra=15&ce,v.mode=24;case 24:if(v.extra){for(R=v.extra;V<R;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}v.offset+=G&(1<<v.extra)-1,G>>>=v.extra,V-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){I.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(J===0)break e;if(Y=Z-J,v.offset>Y){if((Y=v.offset-Y)>v.whave&&v.sane){I.msg="invalid distance too far back",v.mode=30;break}oe=Y>v.wnext?(Y-=v.wnext,v.wsize-Y):v.wnext-Y,Y>v.length&&(Y=v.length),_e=v.window}else _e=W,oe=q-v.offset,Y=v.length;for(J<Y&&(Y=J),J-=Y,v.length-=Y;W[q++]=_e[oe++],--Y;);v.length===0&&(v.mode=21);break;case 26:if(J===0)break e;W[q++]=v.length,J--,v.mode=21;break;case 27:if(v.wrap){for(;V<32;){if(U===0)break e;U--,G|=A[z++]<<V,V+=8}if(Z-=J,I.total_out+=Z,v.total+=Z,Z&&(I.adler=v.check=v.flags?o(v.check,W,Z,q-Z):s(v.check,W,Z,q-Z)),Z=J,(v.flags?G:T(G))!==v.check){I.msg="incorrect data check",v.mode=30;break}V=G=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;V<32;){if(U===0)break e;U--,G+=A[z++]<<V,V+=8}if(G!==(4294967295&v.total)){I.msg="incorrect length check",v.mode=30;break}V=G=0}v.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return f}return I.next_out=q,I.avail_out=J,I.next_in=z,I.avail_in=U,v.hold=G,v.bits=V,(v.wsize||Z!==I.avail_out&&v.mode<30&&(v.mode<27||N!==4))&&$(I,I.output,I.next_out,Z-I.avail_out)?(v.mode=31,-4):(ie-=I.avail_in,Z-=I.avail_out,I.total_in+=ie,I.total_out+=Z,v.total+=Z,v.wrap&&Z&&(I.adler=v.check=v.flags?o(v.check,W,Z,I.next_out-Z):s(v.check,W,Z,I.next_out-Z)),I.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(ie==0&&Z===0||N===4)&&te===h&&(te=-5),te)},n.inflateEnd=function(I){if(!I||!I.state)return f;var N=I.state;return N.window&&(N.window=null),I.state=null,h},n.inflateGetHeader=function(I,N){var v;return I&&I.state?(2&(v=I.state).wrap)==0?f:((v.head=N).done=!1,h):f},n.inflateSetDictionary=function(I,N){var v,A=N.length;return I&&I.state?(v=I.state).wrap!==0&&v.mode!==11?f:v.mode===11&&s(1,N,A,0)!==v.check?-3:$(I,N,A,A)?(v.mode=31,-4):(v.havedict=1,h):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,n){var a=i("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,c,h,f,g,S,C,T){var D,b,m,x,E,w,k,O,B,$=T.bits,I=0,N=0,v=0,A=0,W=0,z=0,q=0,U=0,J=0,G=0,V=null,ie=0,Z=new a.Buf16(16),Y=new a.Buf16(16),oe=null,_e=0;for(I=0;I<=15;I++)Z[I]=0;for(N=0;N<f;N++)Z[c[h+N]]++;for(W=$,A=15;1<=A&&Z[A]===0;A--);if(A<W&&(W=A),A===0)return g[S++]=20971520,g[S++]=20971520,T.bits=1,0;for(v=1;v<A&&Z[v]===0;v++);for(W<v&&(W=v),I=U=1;I<=15;I++)if(U<<=1,(U-=Z[I])<0)return-1;if(0<U&&(u===0||A!==1))return-1;for(Y[1]=0,I=1;I<15;I++)Y[I+1]=Y[I]+Z[I];for(N=0;N<f;N++)c[h+N]!==0&&(C[Y[c[h+N]]++]=N);if(w=u===0?(V=oe=C,19):u===1?(V=s,ie-=257,oe=o,_e-=257,256):(V=l,oe=d,-1),I=v,E=S,q=N=G=0,m=-1,x=(J=1<<(z=W))-1,u===1&&852<J||u===2&&592<J)return 1;for(;;){for(k=I-q,B=C[N]<w?(O=0,C[N]):C[N]>w?(O=oe[_e+C[N]],V[ie+C[N]]):(O=96,0),D=1<<I-q,v=b=1<<z;g[E+(G>>q)+(b-=D)]=k<<24|O<<16|B|0,b!==0;);for(D=1<<I-1;G&D;)D>>=1;if(D!==0?(G&=D-1,G+=D):G=0,N++,--Z[I]==0){if(I===A)break;I=c[h+C[N]]}if(W<I&&(G&x)!==m){for(q===0&&(q=W),E+=v,U=1<<(z=I-q);z+q<A&&!((U-=Z[z+q])<=0);)z++,U<<=1;if(J+=1<<z,u===1&&852<J||u===2&&592<J)return 1;g[m=G&x]=W<<24|z<<16|E-S|0}}return G!==0&&(g[E+G]=I-q<<24|64<<16|0),T.bits=W,0}},{"../utils/common":41}],51:[function(i,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,n){var a=i("../utils/common"),s=0,o=1;function l(L){for(var K=L.length;0<=--K;)L[K]=0}var d=0,u=29,c=256,h=c+1+u,f=30,g=19,S=2*h+1,C=15,T=16,D=7,b=256,m=16,x=17,E=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(h+2));l($);var I=new Array(2*f);l(I);var N=new Array(512);l(N);var v=new Array(256);l(v);var A=new Array(u);l(A);var W,z,q,U=new Array(f);function J(L,K,ne,ae,X){this.static_tree=L,this.extra_bits=K,this.extra_base=ne,this.elems=ae,this.max_length=X,this.has_stree=L&&L.length}function G(L,K){this.dyn_tree=L,this.max_code=0,this.stat_desc=K}function V(L){return L<256?N[L]:N[256+(L>>>7)]}function ie(L,K){L.pending_buf[L.pending++]=255&K,L.pending_buf[L.pending++]=K>>>8&255}function Z(L,K,ne){L.bi_valid>T-ne?(L.bi_buf|=K<<L.bi_valid&65535,ie(L,L.bi_buf),L.bi_buf=K>>T-L.bi_valid,L.bi_valid+=ne-T):(L.bi_buf|=K<<L.bi_valid&65535,L.bi_valid+=ne)}function Y(L,K,ne){Z(L,ne[2*K],ne[2*K+1])}function oe(L,K){for(var ne=0;ne|=1&L,L>>>=1,ne<<=1,0<--K;);return ne>>>1}function _e(L,K,ne){var ae,X,le=new Array(C+1),pe=0;for(ae=1;ae<=C;ae++)le[ae]=pe=pe+ne[ae-1]<<1;for(X=0;X<=K;X++){var ue=L[2*X+1];ue!==0&&(L[2*X]=oe(le[ue]++,ue))}}function de(L){var K;for(K=0;K<h;K++)L.dyn_ltree[2*K]=0;for(K=0;K<f;K++)L.dyn_dtree[2*K]=0;for(K=0;K<g;K++)L.bl_tree[2*K]=0;L.dyn_ltree[2*b]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function ce(L){8<L.bi_valid?ie(L,L.bi_buf):0<L.bi_valid&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function me(L,K,ne,ae){var X=2*K,le=2*ne;return L[X]<L[le]||L[X]===L[le]&&ae[K]<=ae[ne]}function ve(L,K,ne){for(var ae=L.heap[ne],X=ne<<1;X<=L.heap_len&&(X<L.heap_len&&me(K,L.heap[X+1],L.heap[X],L.depth)&&X++,!me(K,ae,L.heap[X],L.depth));)L.heap[ne]=L.heap[X],ne=X,X<<=1;L.heap[ne]=ae}function be(L,K,ne){var ae,X,le,pe,ue=0;if(L.last_lit!==0)for(;ae=L.pending_buf[L.d_buf+2*ue]<<8|L.pending_buf[L.d_buf+2*ue+1],X=L.pending_buf[L.l_buf+ue],ue++,ae===0?Y(L,X,K):(Y(L,(le=v[X])+c+1,K),(pe=w[le])!==0&&Z(L,X-=A[le],pe),Y(L,le=V(--ae),ne),(pe=k[le])!==0&&Z(L,ae-=U[le],pe)),ue<L.last_lit;);Y(L,b,K)}function ke(L,K){var ne,ae,X,le=K.dyn_tree,pe=K.stat_desc.static_tree,ue=K.stat_desc.has_stree,Ce=K.stat_desc.elems,Ve=-1;for(L.heap_len=0,L.heap_max=S,ne=0;ne<Ce;ne++)le[2*ne]!==0?(L.heap[++L.heap_len]=Ve=ne,L.depth[ne]=0):le[2*ne+1]=0;for(;L.heap_len<2;)le[2*(X=L.heap[++L.heap_len]=Ve<2?++Ve:0)]=1,L.depth[X]=0,L.opt_len--,ue&&(L.static_len-=pe[2*X+1]);for(K.max_code=Ve,ne=L.heap_len>>1;1<=ne;ne--)ve(L,le,ne);for(X=Ce;ne=L.heap[1],L.heap[1]=L.heap[L.heap_len--],ve(L,le,1),ae=L.heap[1],L.heap[--L.heap_max]=ne,L.heap[--L.heap_max]=ae,le[2*X]=le[2*ne]+le[2*ae],L.depth[X]=(L.depth[ne]>=L.depth[ae]?L.depth[ne]:L.depth[ae])+1,le[2*ne+1]=le[2*ae+1]=X,L.heap[1]=X++,ve(L,le,1),2<=L.heap_len;);L.heap[--L.heap_max]=L.heap[1],function(Pe,Nt){var Aa,di,Da,Qe,Lo,Hc,Ai=Nt.dyn_tree,ay=Nt.max_code,u4=Nt.stat_desc.static_tree,c4=Nt.stat_desc.has_stree,h4=Nt.stat_desc.extra_bits,sy=Nt.stat_desc.extra_base,Oa=Nt.stat_desc.max_length,Po=0;for(Qe=0;Qe<=C;Qe++)Pe.bl_count[Qe]=0;for(Ai[2*Pe.heap[Pe.heap_max]+1]=0,Aa=Pe.heap_max+1;Aa<S;Aa++)Oa<(Qe=Ai[2*Ai[2*(di=Pe.heap[Aa])+1]+1]+1)&&(Qe=Oa,Po++),Ai[2*di+1]=Qe,ay<di||(Pe.bl_count[Qe]++,Lo=0,sy<=di&&(Lo=h4[di-sy]),Hc=Ai[2*di],Pe.opt_len+=Hc*(Qe+Lo),c4&&(Pe.static_len+=Hc*(u4[2*di+1]+Lo)));if(Po!==0){do{for(Qe=Oa-1;Pe.bl_count[Qe]===0;)Qe--;Pe.bl_count[Qe]--,Pe.bl_count[Qe+1]+=2,Pe.bl_count[Oa]--,Po-=2}while(0<Po);for(Qe=Oa;Qe!==0;Qe--)for(di=Pe.bl_count[Qe];di!==0;)ay<(Da=Pe.heap[--Aa])||(Ai[2*Da+1]!==Qe&&(Pe.opt_len+=(Qe-Ai[2*Da+1])*Ai[2*Da],Ai[2*Da+1]=Qe),di--)}}(L,K),_e(le,Ve,L.bl_count)}function y(L,K,ne){var ae,X,le=-1,pe=K[1],ue=0,Ce=7,Ve=4;for(pe===0&&(Ce=138,Ve=3),K[2*(ne+1)+1]=65535,ae=0;ae<=ne;ae++)X=pe,pe=K[2*(ae+1)+1],++ue<Ce&&X===pe||(ue<Ve?L.bl_tree[2*X]+=ue:X!==0?(X!==le&&L.bl_tree[2*X]++,L.bl_tree[2*m]++):ue<=10?L.bl_tree[2*x]++:L.bl_tree[2*E]++,le=X,Ve=(ue=0)===pe?(Ce=138,3):X===pe?(Ce=6,3):(Ce=7,4))}function te(L,K,ne){var ae,X,le=-1,pe=K[1],ue=0,Ce=7,Ve=4;for(pe===0&&(Ce=138,Ve=3),ae=0;ae<=ne;ae++)if(X=pe,pe=K[2*(ae+1)+1],!(++ue<Ce&&X===pe)){if(ue<Ve)for(;Y(L,X,L.bl_tree),--ue!=0;);else X!==0?(X!==le&&(Y(L,X,L.bl_tree),ue--),Y(L,m,L.bl_tree),Z(L,ue-3,2)):ue<=10?(Y(L,x,L.bl_tree),Z(L,ue-3,3)):(Y(L,E,L.bl_tree),Z(L,ue-11,7));le=X,Ve=(ue=0)===pe?(Ce=138,3):X===pe?(Ce=6,3):(Ce=7,4)}}l(U);var j=!1;function R(L,K,ne,ae){Z(L,(d<<1)+(ae?1:0),3),function(X,le,pe,ue){ce(X),ue&&(ie(X,pe),ie(X,~pe)),a.arraySet(X.pending_buf,X.window,le,pe,X.pending),X.pending+=pe}(L,K,ne,!0)}n._tr_init=function(L){j||(function(){var K,ne,ae,X,le,pe=new Array(C+1);for(X=ae=0;X<u-1;X++)for(A[X]=ae,K=0;K<1<<w[X];K++)v[ae++]=X;for(v[ae-1]=X,X=le=0;X<16;X++)for(U[X]=le,K=0;K<1<<k[X];K++)N[le++]=X;for(le>>=7;X<f;X++)for(U[X]=le<<7,K=0;K<1<<k[X]-7;K++)N[256+le++]=X;for(ne=0;ne<=C;ne++)pe[ne]=0;for(K=0;K<=143;)$[2*K+1]=8,K++,pe[8]++;for(;K<=255;)$[2*K+1]=9,K++,pe[9]++;for(;K<=279;)$[2*K+1]=7,K++,pe[7]++;for(;K<=287;)$[2*K+1]=8,K++,pe[8]++;for(_e($,h+1,pe),K=0;K<f;K++)I[2*K+1]=5,I[2*K]=oe(K,5);W=new J($,w,c+1,h,C),z=new J(I,k,0,f,C),q=new J(new Array(0),O,0,g,D)}(),j=!0),L.l_desc=new G(L.dyn_ltree,W),L.d_desc=new G(L.dyn_dtree,z),L.bl_desc=new G(L.bl_tree,q),L.bi_buf=0,L.bi_valid=0,de(L)},n._tr_stored_block=R,n._tr_flush_block=function(L,K,ne,ae){var X,le,pe=0;0<L.level?(L.strm.data_type===2&&(L.strm.data_type=function(ue){var Ce,Ve=4093624447;for(Ce=0;Ce<=31;Ce++,Ve>>>=1)if(1&Ve&&ue.dyn_ltree[2*Ce]!==0)return s;if(ue.dyn_ltree[18]!==0||ue.dyn_ltree[20]!==0||ue.dyn_ltree[26]!==0)return o;for(Ce=32;Ce<c;Ce++)if(ue.dyn_ltree[2*Ce]!==0)return o;return s}(L)),ke(L,L.l_desc),ke(L,L.d_desc),pe=function(ue){var Ce;for(y(ue,ue.dyn_ltree,ue.l_desc.max_code),y(ue,ue.dyn_dtree,ue.d_desc.max_code),ke(ue,ue.bl_desc),Ce=g-1;3<=Ce&&ue.bl_tree[2*B[Ce]+1]===0;Ce--);return ue.opt_len+=3*(Ce+1)+5+5+4,Ce}(L),X=L.opt_len+3+7>>>3,(le=L.static_len+3+7>>>3)<=X&&(X=le)):X=le=ne+5,ne+4<=X&&K!==-1?R(L,K,ne,ae):L.strategy===4||le===X?(Z(L,2+(ae?1:0),3),be(L,$,I)):(Z(L,4+(ae?1:0),3),function(ue,Ce,Ve,Pe){var Nt;for(Z(ue,Ce-257,5),Z(ue,Ve-1,5),Z(ue,Pe-4,4),Nt=0;Nt<Pe;Nt++)Z(ue,ue.bl_tree[2*B[Nt]+1],3);te(ue,ue.dyn_ltree,Ce-1),te(ue,ue.dyn_dtree,Ve-1)}(L,L.l_desc.max_code+1,L.d_desc.max_code+1,pe+1),be(L,L.dyn_ltree,L.dyn_dtree)),de(L),ae&&ce(L)},n._tr_tally=function(L,K,ne){return L.pending_buf[L.d_buf+2*L.last_lit]=K>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&K,L.pending_buf[L.l_buf+L.last_lit]=255&ne,L.last_lit++,K===0?L.dyn_ltree[2*ne]++:(L.matches++,K--,L.dyn_ltree[2*(v[ne]+c+1)]++,L.dyn_dtree[2*V(K)]++),L.last_lit===L.lit_bufsize-1},n._tr_align=function(L){Z(L,2,3),Y(L,b,$),function(K){K.bi_valid===16?(ie(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)}(L)}},{"../utils/common":41}],53:[function(i,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,n){r.exports=typeof setImmediate=="function"?setImmediate:function(){var a=[].slice.apply(arguments);a.splice(1,0,0),setTimeout.apply(null,a)}},{}]},{},[10])(10)})})(U0);var mR=U0.exports,K0=1632,j0={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},xR=/a+/g,yR=/E/g,CR=/dE+/g,SR=/L/g,ER=/h/g,bR=/./g,So={_applyPrecision:function(e,t){var i,r;if(t>0){for(i=e!=="decimal"?".":"",r=0;r<t;r++)i+="0";return i}return""},_hasArabicDigits:function(e){for(var t,i=0;i<e.length;i++)if(t=e.charCodeAt(i),t>=K0&&t<K0+10)return!0;return!1},_convertDateFormatToOpenXml:function(e){return e.split("/").join("\\/").split("'").map(function(t,i){return i%2==0?t.replace(xR,"AM/PM").replace(CR,"d").replace(yR,"d").replace(SR,"M").replace(ER,"H").split("[").join("\\[").split("]").join("\\]"):t?t.replace(bR,"\\$&"):"'"}).join("")},_convertDateFormat:function(e){var t=(ft.format(new Date(2009,8,8,6,5,4),e)||"").toString(),i=p_(r=>ft.format(r,e));return i&&(i=this._convertDateFormatToOpenXml(i),i=this._getLanguageInfo(t)+i),i},_getLanguageInfo:function(e){var t=Bv(),i=t?t.toString(16):"",r="";if(this._hasArabicDigits(e)){for(;i.length<3;)i="0"+i;r="[$-2010"+i+"]"}else i&&(r="[$-"+i+"]");return r},_convertNumberFormat:function(e,t,i){var r,n;return e==="currency"?n=xt.getOpenXmlCurrencyFormat(i):n=j0[e.toLowerCase()],n&&(r=He(n,this._applyPrecision(e,t))),r},convertFormat:function(e,t,i,r){if(P(e)){if(i==="date")return So._convertDateFormat(e);if(Ae(e)&&j0[e.toLowerCase()])return So._convertNumberFormat(e,t,r)}}},dt={toXml:function(e,t,i){var r=["<",e];for(var n in t){var a=t[n];P(a)&&r.push(" ",n,'="',a,'"')}return P(i)&&i!==""?r.push(">",i,"</",e,">"):r.push(" />"),r.join("")}},wi={tryCreateTag:function(e){var t=null;return P(e)&&(t={vertical:e.vertical,wrapText:e.wrapText,horizontal:e.horizontal},wi.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return P(e)&&(t={},e.horizontal!==void 0&&(t.horizontal=e.horizontal),e.vertical!==void 0&&(t.vertical=e.vertical),e.wrapText!==void 0&&(t.wrapText=e.wrapText)),t},areEqual:function(e,t){return wi.isEmpty(e)&&wi.isEmpty(t)||P(e)&&P(t)&&e.vertical===t.vertical&&e.wrapText===t.wrapText&&e.horizontal===t.horizontal},isEmpty:function(e){return!P(e)||!P(e.vertical)&&!P(e.wrapText)&&!P(e.horizontal)},toXml:function(e){return dt.toXml("alignment",{vertical:e.vertical,wrapText:P(e.wrapText)?Number(e.wrapText):void 0,horizontal:e.horizontal})}},pt={_tryConvertColor:function(e){if(typeof e!="string")return e;var t;if(e.length>0&&e[0]==="#"){var i=e.substr(1,e.length);i.length===6?t="FF"+i:i.length===8?t=i[6]+i[7]+i.substr(0,6):t=i}else t=e;return t},tryCreateTag:function(e){var t=null;return P(e)&&(typeof e=="string"?t={rgb:this._tryConvertColor(e)}:t={rgb:this._tryConvertColor(e.rgb),theme:e.theme},pt.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return P(e)&&(typeof e=="string"?t=e:(t={},e.rgb!==void 0&&(t.rgb=e.rgb),e.theme!==void 0&&(t.theme=e.theme))),t},isEmpty:function(e){return!P(e)||!P(e.rgb)&&!P(e.theme)},areEqual:function(e,t){return pt.isEmpty(e)&&pt.isEmpty(t)||P(e)&&P(t)&&e.rgb===t.rgb&&e.theme===t.theme},toXml:function(e,t){return dt.toXml(e,{rgb:t.rgb,theme:t.theme})}},Yi={tryCreateTag:function(e){var t=null;return P(e)&&(t={patternType:e.patternType,backgroundColor:pt.tryCreateTag(e.backgroundColor),foregroundColor:pt.tryCreateTag(e.foregroundColor)},Yi.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return P(e)&&(t={},e.patternType!==void 0&&(t.patternType=e.patternType),e.backgroundColor!==void 0&&(t.backgroundColor=pt.copy(e.backgroundColor)),e.foregroundColor!==void 0&&(t.foregroundColor=pt.copy(e.foregroundColor))),t},areEqual:function(e,t){return Yi.isEmpty(e)&&Yi.isEmpty(t)||P(e)&&P(t)&&e.patternType===t.patternType&&pt.areEqual(e.backgroundColor,t.backgroundColor)&&pt.areEqual(e.foregroundColor,t.foregroundColor)},isEmpty:function(e){return!P(e)||!P(e.patternType)},toXml:function(e){var t=[P(e.foregroundColor)?pt.toXml("fgColor",e.foregroundColor):"",P(e.backgroundColor)?pt.toXml("bgColor",e.backgroundColor):""].join("");return dt.toXml("patternFill",{patternType:e.patternType},t)}},qt={tryCreateTag:function(e){var t=null;return P(e)&&(t={patternFill:Yi.tryCreateTag(e.patternFill)},qt.isEmpty(t)&&(t=null)),t},tryCreateFillFromSimpleFormat:function(){var{backgroundColor:e,fillPatternType:t,fillPatternColor:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(P(e)&&!(P(t)&&P(i)))return{patternFill:{patternType:"solid",foregroundColor:{rgb:e}}};if(P(t)&&P(i))return{patternFill:{patternType:t,foregroundColor:{rgb:i},backgroundColor:{rgb:e}}}},copySimpleFormat:function(e,t){e.backgroundColor!==void 0&&(t.backgroundColor=e.backgroundColor),e.fillPatternType!==void 0&&(t.fillPatternType=e.fillPatternType),e.fillPatternColor!==void 0&&(t.fillPatternColor=e.fillPatternColor)},copy:function(e){var t=null;return P(e)&&(t={},e.patternFill!==void 0&&(t.patternFill=Yi.copy(e.patternFill))),t},areEqual:function(e,t){return qt.isEmpty(e)&&qt.isEmpty(t)||P(e)&&P(t)&&Yi.areEqual(e.patternFill,t.patternFill)},isEmpty:function(e){return!P(e)||Yi.isEmpty(e.patternFill)},toXml:function(e){return dt.toXml("fill",{},Yi.toXml(e.patternFill))}},Sr={tryCreateTag:function(e){var t=null;return P(e)&&(t={size:e.size,name:e.name,family:e.family,scheme:e.scheme,bold:e.bold,italic:e.italic,underline:e.underline,color:pt.tryCreateTag(e.color)},Sr.isEmpty(t)&&(t=null)),t},copy:function(e){var t=null;return P(e)&&(t={},e.size!==void 0&&(t.size=e.size),e.name!==void 0&&(t.name=e.name),e.family!==void 0&&(t.family=e.family),e.scheme!==void 0&&(t.scheme=e.scheme),e.bold!==void 0&&(t.bold=e.bold),e.italic!==void 0&&(t.italic=e.italic),e.underline!==void 0&&(t.underline=e.underline),e.color!==void 0&&(t.color=pt.copy(e.color))),t},areEqual:function(e,t){return Sr.isEmpty(e)&&Sr.isEmpty(t)||P(e)&&P(t)&&e.size===t.size&&e.name===t.name&&e.family===t.family&&e.scheme===t.scheme&&(e.bold===t.bold||!e.bold==!t.bold)&&(e.italic===t.italic||!e.italic==!t.italic)&&e.underline===t.underline&&pt.areEqual(e.color,t.color)},isEmpty:function(e){return!P(e)||!P(e.size)&&!P(e.name)&&!P(e.family)&&!P(e.scheme)&&(!P(e.bold)||!e.bold)&&(!P(e.italic)||!e.italic)&&!P(e.underline)&&pt.isEmpty(e.color)},toXml:function(e){var t=[P(e.bold)&&e.bold?dt.toXml("b",{}):"",P(e.size)?dt.toXml("sz",{val:e.size}):"",P(e.color)?pt.toXml("color",e.color):"",P(e.name)?dt.toXml("name",{val:e.name}):"",P(e.family)?dt.toXml("family",{val:e.family}):"",P(e.scheme)?dt.toXml("scheme",{val:e.scheme}):"",P(e.italic)&&e.italic?dt.toXml("i",{}):"",P(e.underline)?dt.toXml("u",{val:e.underline}):""].join("");return dt.toXml("font",{},t)}},Er={tryCreateTag:function(e,t){var i=null;if(P(e)){var r;typeof e.numberFormat=="number"?r=e.numberFormat:r=t.registerNumberFormat(e.numberFormat);var n=e.fill;P(n)||(n=qt.tryCreateFillFromSimpleFormat(e)),i={numberFormatId:r,alignment:wi.tryCreateTag(e.alignment),fontId:t.registerFont(e.font),fillId:t.registerFill(n)},Er.isEmpty(i)&&(i=null)}return i},copy:function(e){var t;return e===null?t=null:P(e)&&(t={},e.numberFormat!==void 0&&(t.numberFormat=e.numberFormat),e.fill!==void 0?t.fill=qt.copy(e.fill):qt.copySimpleFormat(e,t),e.alignment!==void 0&&(t.alignment=wi.copy(e.alignment)),e.font!==void 0&&(t.font=Sr.copy(e.font))),t},areEqual:function(e,t){return Er.isEmpty(e)&&Er.isEmpty(t)||P(e)&&P(t)&&e.fontId===t.fontId&&e.numberFormatId===t.numberFormatId&&e.fillId===t.fillId&&wi.areEqual(e.alignment,t.alignment)},isEmpty:function(e){return!P(e)||!P(e.fontId)&&!P(e.numberFormatId)&&!P(e.fillId)&&wi.isEmpty(e.alignment)},toXml:function(e){var t=wi.isEmpty(e.alignment),i;return P(e.numberFormatId)&&(i=e.numberFormatId>0?1:0),dt.toXml("xf",{xfId:0,applyAlignment:t?null:1,fontId:e.fontId,applyNumberFormat:i,fillId:e.fillId,numFmtId:e.numberFormatId},t?null:wi.toXml(e.alignment))}},oi={ID_PROPERTY_NAME:"id",tryCreateTag:function(e){var t=null;return typeof e=="string"&&(t={formatCode:e},oi.isEmpty(t)&&(t=null)),t},areEqual:function(e,t){return oi.isEmpty(e)&&oi.isEmpty(t)||P(e)&&P(t)&&e.formatCode===t.formatCode},isEmpty:function(e){return!P(e)||!P(e.formatCode)||e.formatCode===""},toXml:function(e){return dt.toXml("numFmt",{numFmtId:e[oi.ID_PROPERTY_NAME],formatCode:e.formatCode})}};class X0{constructor(){this._cellFormatTags=[],this._fillTags=[],this._fontTags=[],this._numberFormatTags=[],this._fillTags.push(qt.tryCreateTag({patternFill:{patternType:"none"}}))}registerCellFormat(t){var i,r=Er.tryCreateTag(t,{registerFill:this.registerFill.bind(this),registerFont:this.registerFont.bind(this),registerNumberFormat:this.registerNumberFormat.bind(this)});if(P(r)){for(var n=0;n<this._cellFormatTags.length;n++)if(Er.areEqual(this._cellFormatTags[n],r)){i=n;break}i===void 0&&(i=this._cellFormatTags.push(r)-1)}return i}static copyCellFormat(t){return Er.copy(t)}generateCellFormatsXml(){var t=this._cellFormatTags.map(i=>Er.toXml(i));return dt.toXml("cellXfs",{count:t.length},t.join(""))}registerFill(t){var i,r=qt.tryCreateTag(t);if(P(r)){for(var n=0;n<this._fillTags.length;n++)if(qt.areEqual(this._fillTags[n],r)){i=n;break}i===void 0&&(this._fillTags.length<2&&this._fillTags.push(qt.tryCreateTag({patternFill:{patternType:"Gray125"}})),i=this._fillTags.push(r)-1)}return i}generateFillsXml(){var t=this._fillTags.map(i=>qt.toXml(i));return dt.toXml("fills",{count:t.length},t.join(""))}registerFont(t){var i,r=Sr.tryCreateTag(t);if(P(r)){for(var n=0;n<this._fontTags.length;n++)if(Sr.areEqual(this._fontTags[n],r)){i=n;break}i===void 0&&(i=this._fontTags.push(r)-1)}return i}generateFontsXml(){var t=this._fontTags.map(i=>Sr.toXml(i));return dt.toXml("fonts",{count:t.length},t.join(""))}_convertNumberFormatIndexToId(t){return 165+t}registerNumberFormat(t){var i,r=oi.tryCreateTag(t);if(P(r)){for(var n=0;n<this._numberFormatTags.length;n++)if(oi.areEqual(this._numberFormatTags[n],r)){i=this._numberFormatTags[n][oi.ID_PROPERTY_NAME];break}i===void 0&&(r[oi.ID_PROPERTY_NAME]=this._convertNumberFormatIndexToId(this._numberFormatTags.length),i=r[oi.ID_PROPERTY_NAME],this._numberFormatTags.push(r))}return i}generateNumberFormatsXml(){if(this._numberFormatTags.length>0){var t=this._numberFormatTags.map(i=>oi.toXml(i));return dt.toXml("numFmts",{count:t.length},t.join(""))}else return""}}var on='<?xml version="1.0" encoding="utf-8"?>',TR='<sheetPr><outlinePr summaryBelow="0"/></sheetPr>',wR="<sheetPr/>",IR='<borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/></left><right style="thin"><color rgb="FFD3D3D3"/></right><top style="thin"><color rgb="FFD3D3D3"/></top><bottom style="thin"><color rgb="FFD3D3D3"/></bottom></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',br="http://schemas.openxmlformats.org",gc="rels",Eo="xl",mc="workbook.xml",AR="[Content_Types].xml",q0="sharedStrings.xml",Y0="styles.xml",DR="worksheets",Z0="sheet1.xml",OR='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',Et={boolean:"b",date:"d",number:"n",string:"s"},kR=Date.UTC(1899,11,30),LR=60,PR=7,BR={quarter:"shortDate",quarterAndYear:"shortDate",minute:"longTime",millisecond:"longTime"},ma=Ee.inherit({_getXMLTag:function(e,t,i){var r="<"+e,n,a=t.length,s;for(n=0;n<a;n++)s=t[n],s.value!==void 0&&(r=r+" "+s.name+'="'+s.value+'"');return P(i)?r+">"+i+"</"+e+">":r+" />"},_convertToExcelCellRef:function(e,t){for(var i="",r,n;!n;)r=65+(t>=26?t%26:Math.ceil(t)),i=String.fromCharCode(r)+i,t>=26?t=Math.floor(t/26)-1:n=!0;return i+(e+1)},_convertToExcelCellRefAndTrackMaxIndex:function(e,t){return this._maxRowIndex<Number(e)&&(this._maxRowIndex=Number(e)),this._maxColumnIndex<Number(t)&&(this._maxColumnIndex=Number(t)),this._convertToExcelCellRef(e,t)},_getDataType:function(e){return Et[e]||Et.string},_tryGetExcelCellDataType:function(e){if(P(e)){if(typeof e=="number")return isFinite(e)?Et.number:Et.string;if(Ae(e))return Et.string;if(Pt(e))return Et.number;if(ka(e))return Et.boolean}},_formatObjectConverter:function(e,t){var i={format:e,precision:e&&e.precision,dataType:t};return Be(e)?H(i,e,{format:e.formatter||e.type,currency:e.currency}):i},_tryConvertToExcelNumberFormat:function(e,t){var i=this._formatObjectConverter(e,t);e=i.format;var r=i.currency;return t=i.dataType,P(e)&&t==="date"&&(e=BR[e&&e.type||e]||e),So.convertFormat(e,i.precision,t,r)},_appendString:function(e){if(P(e)&&(e=String(e),e.length))return e=Wc(e),this._stringHash[e]===void 0&&(this._stringHash[e]=this._stringArray.length,this._stringArray.push(e)),this._stringHash[e]},_tryGetExcelDateValue:function(e){var t,i;if(Pt(e))return t=Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-kR)/864e5),t<LR&&t--,i=(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400,t+i},_prepareValue:function(e,t){var i=this._dataProvider,{cellSourceData:r}=i.getCellData(e,t)||{},{value:n}=i.getCellData(e,t)||{},a,s=this._getDataType(i.getCellType(e,t));switch(s===Et.date&&!Pt(n)&&(s=Et.string),s){case Et.string:a=n,n=this._appendString(n);break;case Et.date:a=n,n=this._tryGetExcelDateValue(n),s=Et.number}return{value:n,type:s,sourceValue:a,cellSourceData:r}},_callCustomizeExcelCell:function(e){var{dataProvider:t,value:i,style:r,sourceData:n}=e,a=X0.copyCellFormat(r),s={value:i,numberFormat:a.numberFormat,clearStyle:function(){this.horizontalAlignment=null,this.verticalAlignment=null,this.wrapTextEnabled=null,this.font=null,this.numberFormat=null}};P(a)&&(P(a.alignment)&&(s.horizontalAlignment=a.alignment.horizontal,s.verticalAlignment=a.alignment.vertical,s.wrapTextEnabled=a.alignment.wrapText),s.backgroundColor=a.backgroundColor,s.fillPatternType=a.fillPatternType,s.fillPatternColor=a.fillPatternColor,s.font=a.font),t.customizeExcelCell(s,n);var o=a||{};return o.font=s.font,o.alignment=o.alignment||{},o.alignment.horizontal=s.horizontalAlignment,o.alignment.vertical=s.verticalAlignment,o.alignment.wrapText=s.wrapTextEnabled,o.backgroundColor=s.backgroundColor,o.fillPatternType=s.fillPatternType,o.fillPatternColor=s.fillPatternColor,o.numberFormat=s.numberFormat,{value:s.value,style:o}},_getDataArray:function(){var e,t,i,r,n=[],a=this._dataProvider,s=a.getRowsCount(),o=a.getColumns(),l;for(e=0;e<s;e++){for(i=[],l=o.length,t=0;t!==l;t++){r=this._prepareValue(e,t);var d=a.getStyleId(e,t),u=this._styleArrayIndexToCellStyleIdMap[d];if(a.hasCustomizeExcelCell&&a.hasCustomizeExcelCell()){var c=r.sourceValue||r.value,h=this._callCustomizeExcelCell({dataProvider:a,value:c,style:this._styleArray[d],sourceData:r.cellSourceData});if(h.value!==c){if(typeof h.value!=typeof c||typeof h.value=="number"&&!isFinite(h.value)){var f=this._tryGetExcelCellDataType(h.value);P(f)&&(r.type=f)}switch(r.type){case Et.string:r.value=this._appendString(h.value);break;case Et.date:r.value=h.value;break;case Et.number:var g=h.value,S=this._tryGetExcelDateValue(g);P(S)&&(g=S),r.value=g;break;default:r.value=h.value}}u=this._excelFile.registerCellFormat(h.style)}i.push({style:u,value:r.value,type:r.type})}!this._needSheetPr&&a.getGroupLevel(e)>0&&(this._needSheetPr=!0),n.push(i)}return n},_calculateWidth:function(e){return e=parseInt(e,10),(!e||e<5)&&(e=100),Math.min(255,Math.floor((e-5)/PR*100+.5)/100)},_prepareStyleData:function(){var e=this,t=e._dataProvider.getStyles();e._dataProvider.getColumns().forEach(function(r){e._colsArray.push(e._calculateWidth(r.width))});var i=[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!1},{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!0}];this._excelFile.registerFont(i[0]),this._excelFile.registerFont(i[1]),t.forEach(function(r){var n=e._tryConvertToExcelNumberFormat(r.format,r.dataType);P(n)||(n=0),e._styleArray.push({font:i[Number(!!r.bold)],numberFormat:n,alignment:{vertical:"top",wrapText:!!r.wrapText,horizontal:r.alignment||"left"}})}),e._styleArrayIndexToCellStyleIdMap=e._styleArray.map(r=>this._excelFile.registerCellFormat(r))},_prepareCellData:function(){this._cellsArray=this._getDataArray()},_createXMLRelationships:function(e){return this._getXMLTag("Relationships",[{name:"xmlns",value:br+"/package/2006/relationships"}],e)},_createXMLRelationship:function(e,t,i){return this._getXMLTag("Relationship",[{name:"Id",value:"rId"+e},{name:"Type",value:br+"/officeDocument/2006/relationships/"+t},{name:"Target",value:i}])},_getWorkbookContent:function(){return on+this._getXMLTag("workbook",[{name:"xmlns:r",value:br+"/officeDocument/2006/relationships"},{name:"xmlns",value:br+"/spreadsheetml/2006/main"}],'<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/></bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /></sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1</definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332</definedName></definedNames>')},_getContentTypesContent:function(){return on+'<Types xmlns="'+br+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /></Types>'},_generateStylesXML:function(){var e=this._zip.folder(Eo),t="";t+=this._excelFile.generateNumberFormatsXml(),t+=this._excelFile.generateFontsXml(),t+=this._excelFile.generateFillsXml(),t+=IR,t+=this._excelFile.generateCellFormatsXml(),t+=this._getXMLTag("cellStyles",[{name:"count",value:1}],this._getXMLTag("cellStyle",[{name:"name",value:"Normal"},{name:"xfId",value:0},{name:"builtinId",value:0}])),t=on+this._getXMLTag("styleSheet",[{name:"xmlns",value:br+"/spreadsheetml/2006/main"}],t),e.file(Y0,t),this._styleArray=[]},_generateStringsXML:function(){var e=this._zip.folder(Eo),t,i=this._stringArray.length,r=on;for(t=0;t<i;t++)this._stringArray[t]=this._getXMLTag("si",[],this._getXMLTag("t",[],this._stringArray[t]));r+=this._getXMLTag("sst",[{name:"xmlns",value:br+"/spreadsheetml/2006/main"},{name:"count",value:this._stringArray.length},{name:"uniqueCount",value:this._stringArray.length}],this._stringArray.join("")),e.file(q0,r),this._stringArray=[]},_getPaneXML:function(){var e=[{name:"activePane",value:"bottomLeft"},{name:"state",value:"frozen"}],t=this._dataProvider.getFrozenArea();return t.x||t.y?(t.x&&e.push({name:"xSplit",value:t.x}),t.y&&e.push({name:"ySplit",value:t.y}),e.push({name:"topLeftCell",value:this._convertToExcelCellRefAndTrackMaxIndex(t.y,t.x)}),this._getXMLTag("pane",e)):""},_getAutoFilterXML:function(e){return this._options.autoFilterEnabled?'<autoFilter ref="A'+this._dataProvider.getHeaderRowCount()+":"+e+'" />':""},_getIgnoredErrorsXML:function(e){return this._options.ignoreErrors?'<ignoredErrors><ignoredError sqref="A1:'+e+'" numberStoredAsText="1" /></ignoredErrors>':""},_generateWorksheetXML:function(){var e,t,i,r,n=[],a=this._cellsArray.length,s,o=this._colsArray.length,l="1:"+o,d=this._dataProvider.getHeaderRowCount?this._dataProvider.getHeaderRowCount():1,u=[OR];for(u.push(this._needSheetPr?TR:wR),u.push('<dimension ref="A1:C1"/>'),u.push("<sheetViews><sheetView "),u.push(this._rtlEnabled?'rightToLeft="1" ':""),u.push('tabSelected="1" workbookViewId="0">'),u.push(this._getPaneXML()),u.push("</sheetView></sheetViews>"),u.push('<sheetFormatPr defaultRowHeight="15"'),u.push(' outlineLevelRow="'+(this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0)+'"'),u.push(' x14ac:dyDescent="0.25"/>'),e=0;e<o;e++)this._colsArray[e]=this._getXMLTag("col",[{name:"width",value:this._colsArray[e]},{name:"min",value:Number(e)+1},{name:"max",value:Number(e)+1},{name:"customWidth",value:1}]);for(u.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>"),t=0;t<a;t++){for(r=[],s=this._cellsArray[t].length,e=0;e<s;e++)t=Number(t),i=this._cellsArray[t][e],r.push(this._getXMLTag("c",[{name:"r",value:this._convertToExcelCellRefAndTrackMaxIndex(t,e)},{name:"s",value:i.style},{name:"t",value:i.type}],P(i.value)?this._getXMLTag("v",[],i.value):null));n.push(this._getXMLTag("row",[{name:"r",value:Number(t)+1},{name:"spans",value:l},{name:"outlineLevel",value:t>=d?this._dataProvider.getGroupLevel(t):0},{name:"x14ac:dyDescent",value:"0.25"}],r.join(""))),this._cellsArray[t]=null,n.length>1e4&&(u.push(n.join("")),n=[])}u.push(n.join("")),n=[];var c=this._convertToExcelCellRef(this._maxRowIndex,this._maxColumnIndex);u.push("</sheetData>"+this._getAutoFilterXML(c)+this._generateMergingXML()+this._getIgnoredErrorsXML(c)+"</worksheet>"),this._zip.folder(Eo).folder(DR).file(Z0,u.join("")),this._colsArray=[],this._cellsArray=[],u=[]},_generateMergingXML:function(){var e,t,i,r,n=P(this._dataProvider.getHeaderRowCount)?this._dataProvider.getHeaderRowCount():this._dataProvider.getRowsCount(),a=this._dataProvider.getColumns().length,s=[],o=[],l,d="";for(r=0;r<n;r++)for(i=0;i!==a;i++)if(!P(s[r])||!P(s[r][i])){var u=this._dataProvider.getCellMerging(r,i);if(u.colspan||u.rowspan)for(o.push({start:this._convertToExcelCellRefAndTrackMaxIndex(r,i),end:this._convertToExcelCellRefAndTrackMaxIndex(r+(u.rowspan||0),i+(u.colspan||0))}),e=r;e<=r+u.rowspan;e++)for(t=i;t<=i+u.colspan;t++)P(s[e])||(s[e]=[]),s[e][t]=!0}var c=o.length;for(l=0;l<c;l++)d+=this._getXMLTag("mergeCell",[{name:"ref",value:o[l].start+":"+o[l].end}]);return d.length?this._getXMLTag("mergeCells",[{name:"count",value:c}],d):""},_generateCommonXML:function(){var e=on+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/"+mc)),t=this._zip.folder(Eo),i=on;this._zip.folder("_"+gc).file("."+gc,e);var r=this._createXMLRelationship(1,"worksheet","worksheets/"+Z0)+this._createXMLRelationship(2,"styles",Y0)+this._createXMLRelationship(3,"sharedStrings",q0);i+=this._createXMLRelationships(r),t.folder("_"+gc).file(mc+".rels",i),t.file(mc,this._getWorkbookContent()),this._zip.file(AR,this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(e,t){this._rtlEnabled=t&&!!t.rtlEnabled,this._options=t,this._maxRowIndex=0,this._maxColumnIndex=0,this._stringArray=[],this._stringHash={},this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._needSheetPr=!1,this._dataProvider=e,this._excelFile=new X0,P(ma.JSZip)?this._zip=new ma.JSZip:this._zip=null},_checkZipState:function(){if(!this._zip)throw Ne.Error("E1041","JSZip")},ready:function(){return this._dataProvider.ready()},getData:function(e){var t={type:e?"blob":"base64",compression:"DEFLATE",mimeType:G0.EXCEL},i=new ee;return this._checkZipState(),this._generateContent(),this._zip.generateAsync?this._zip.generateAsync(t).then(i.resolve):i.resolve(this._zip.generate(t)),i}});ma.JSZip=mR;function RR(e,t){var i=new ma(e,t);return i._checkZipState(),i.ready().then(()=>i.getData(he(Oe().Blob)))}function MR(e,t,i){if(!e)return new ee().resolve();var r=t.exportingAction,n=t.exportedAction,a=t.fileSavingAction,s={fileName:t.fileName,format:t.format,cancel:!1};return he(r)&&r(s),s.cancel?new ee().resolve():i(e,t).then(o=>{he(n)&&n(),he(a)&&(s.data=o,a(s)),s.cancel||gR.saveAs(s.fileName,t.format,o,t.proxyUrl,t.forceProxy)})}var FR={creator:ma,getData:RR,formatConverter:So},NR={_getEmptyCell:function(){return{text:"",value:void 0,colspan:1,rowspan:1}},_defaultSetter:function(e){return e||1},_cloneItem:function(e){return H({},e,this._getEmptyCell())},_prepareItems:function(e){var t=this,i=[],r=(e[0]||[]).reduce((d,u)=>d+t._defaultSetter(u.colspan),0),n=function(d){var u=0,c=0;return function(){var h=d[u]||[],f=h[c++];return c>=h.length&&(u++,c=0),f&&(f.colspan=t._defaultSetter(f.colspan),f.rowspan=t._defaultSetter(f.rowspan)),f}}(e);function a(d,u,c){var h=i[d]=i[d]||[];if(h[u]=c,c.colspan>1||c.rowspan>1){for(var f=t._cloneItem(c),g=1;g<c.colspan;g++)a(d,u+g,f);for(var S=1;S<c.rowspan;S++)for(var C=0;C<c.colspan;C++)a(d+S,u+C,f)}}for(var s=n(),o=0;s;){for(var l=0;l<r&&s;l++)i[o]&&i[o][l]||(a(o,l,s),l+=s.colspan-1,s=n());o++}return i}},HR="string",J0=100,$R=H({},NR,{exportToExcel:function(){MR(this.getDataProvider(),{fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"EXCEL",rtlEnabled:this.option("rtlEnabled"),ignoreErrors:this.option("export.ignoreExcelErrors"),exportingAction:this._actions.onExporting,exportedAction:this._actions.onExported,fileSavingAction:this._actions.onFileSaving},FR.getData)},_getLength:function(e){var t,i=e[0].length,r=0;for(t=0;t<i;t++)r+=e[0][t].colspan||1;return r},_correctCellsInfoItemLengths:function(e,t){for(var i=0;i<e.length;i++)for(;e[i].length<t;)e[i].push({});return e},_calculateCellInfoItemLength:function(e){for(var t=0,i=0;i<e.length;i++)t+=P(e[i].colspan)?e[i].colspan:1;return t},_getAllItems:function(e,t,i){var r,n,a=i,s=this._getLength(t),o=e.length;if(e.length>0&&e[0].length>0&&i.length>0&&i[0].length===0){var l=this._calculateCellInfoItemLength(e[0]);l>0&&(a=this._correctCellsInfoItemLengths(i,l))}var d=e.concat(a);for(n=0;n<t.length;n++)for(r=t[n].length-1;r>=0;r--)P(d[n+o])||(d[n+o]=[]),d[n+o].splice(0,0,H({},t[n][r]));return d[0].splice(0,0,H({},this._getEmptyCell(),{alignment:ls(this._options.rtlEnabled),colspan:s,rowspan:o})),this._prepareItems(d)},getDataProvider:function(){return new VR(this)}}),VR=Ee.inherit({ctor:function(e){this._exportController=e},ready:function(){this._initOptions();var e=this._options;return ye(e.items).done(t=>{var i=t[0][0].rowspan,r=t[i-1];M(r,(n,a)=>{a.width=J0}),e.columns=r,e.items=t})},_initOptions:function(){var e=this._exportController,t=e._dataController,i=new ee;t.beginLoading(),setTimeout(function(){var r=H(!0,[],t.getColumnsInfo(!0)),n=H(!0,[],t.getRowsInfo(!0)),a=t.getCellsInfo(!0);i.resolve(e._getAllItems(r,n,a)),t.endLoading()}),this._options={items:i,rtlEnabled:e.option("rtlEnabled"),dataFields:e.getDataSource().getAreaFields("data"),customizeExcelCell:e.option("export.customizeExcelCell"),rowsArea:e._rowsArea,columnsArea:e._columnsArea}},getColumns:function(){return this._options.columns},getColumnsWidths:function(){var e=this._options.columnsArea,t=this._options.rowsArea,i=this._options.columns,r=!Te()||e.option("scrolling.mode")==="virtual"||e.element().is(":hidden");return r?i.map(n=>J0):t.getColumnsWidth().concat(e.getColumnsWidth())},getRowsCount:function(){return this._options.items.length},getGroupLevel:function(){return 0},getCellMerging:function(e,t){var i=this._options.items,r=i[e]&&i[e][t];return r?{colspan:r.colspan-1,rowspan:r.rowspan-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){return{x:this.getRowAreaColCount(),y:this.getColumnAreaRowCount()}},getCellType:function(e,t){var i=this.getStyles()[this.getStyleId(e,t)];return i&&i.dataType||"string"},getCellData:function(e,t,i){var r={},n=this._options.items,a=n[e]&&n[e][t]||{};if(i){r.cellSourceData=a;var s=this._tryGetAreaName(a,e,t);s&&(r.cellSourceData.area=s),r.cellSourceData.rowIndex=e,r.cellSourceData.columnIndex=t}return this.getCellType(e,t)==="string"?r.value=a.text:r.value=a.value,r.cellSourceData&&r.cellSourceData.isWhiteSpace&&(r.value=""),r},_tryGetAreaName(e,t,i){if(this.isColumnAreaCell(t,i))return"column";if(this.isRowAreaCell(t,i))return"row";if(P(e.dataIndex))return"data"},isRowAreaCell(e,t){return e>=this.getColumnAreaRowCount()&&t<this.getRowAreaColCount()},isColumnAreaCell(e,t){return t>=this.getRowAreaColCount()&&e<this.getColumnAreaRowCount()},getColumnAreaRowCount(){return this._options.items[0][0].rowspan},getRowAreaColCount(){return this._options.items[0][0].colspan},getHeaderStyles(){return[{alignment:"center",dataType:"string"},{alignment:ls(this._options.rtlEnabled),dataType:"string"}]},getDataFieldStyles(){var e=this._options.dataFields,t={alignment:this._options.rtlEnabled?"left":"right"},i=[];return e.length?(e.forEach(r=>{i.push(st({},t,{format:r.format,dataType:this.getCellDataType(r)}))}),i):[t]},getStyles:function(){return this._styles?this._styles:(this._styles=[...this.getHeaderStyles(),...this.getDataFieldStyles()],this._styles)},getCellDataType:function(e){if(e&&e.customizeText)return"string";if(e.dataType)return e.dataType;if(e.format){if(xt.parse(Xn.format(1,e.format))===1)return"number";if(Xn.format(new Date,e.format))return"date"}return HR},getStyleId:function(e,t){var i=this._options.items,r=i[e]&&i[e][t]||{};return t===0&&e===0||this.isColumnAreaCell(e,t)?0:this.isRowAreaCell(e,t)?1:this.getHeaderStyles().length+(r.dataIndex||0)},hasCustomizeExcelCell:function(){return P(this._options.customizeExcelCell)},customizeExcelCell:function(e){this._options.customizeExcelCell&&this._options.customizeExcelCell(e)}}),zR={number:"numeric",date:"datetime"},xc="dxPivotGridUnbinding";function Q0(e,t){var i=[],r=t.length-1;return M(e,function(n,a){i.push(a.text||Ud(a.value,t[r-n]))}),i.reverse()}function ex(e){var t=0;return at(e,function(i){t=Math.max(t,i.length-1)}),t}function GR(e,t){var i=e.chartDataItem,r=t&&t(e);return r?(i=H({},i,r.chartDataItem),r=H({},e,r,{chartDataItem:i}),r):e}function WR(e,t,i){var r=e.getData(),n=[],a=e.getAreaFields("data"),s=e.getAreaFields("row"),o=e.getAreaFields("column"),l=[{index:r.grandTotalColumnIndex,children:r.columns}],d=[{index:r.grandTotalRowIndex,children:r.rows}],u=ex(d),c=ex(l),h,f,g,S,C,T,D,b,m,x;function E(){var O=(r.values[g]||[])[D]||[],B=O[h],$,I={rowPath:T,maxRowLevel:u,rowPathFormatted:C,rowFields:s,columnPathFormatted:x,maxColumnLevel:c,columnPath:m,columnFields:o,dataFields:a,dataIndex:h,dataValues:O,visible:b&&S},N=(t.inverted?x:C).join(" - "),v=(t.inverted?C:x).join("/");a.length>1&&((t.putDataFieldsInto==="args"||t.putDataFieldsInto==="both")&&(v+=" | "+f.caption),t.putDataFieldsInto!=="args"&&(N+=" | "+f.caption,t.dataFieldsDisplayMode!=="singleAxis"&&($=f.caption))),I.chartDataItem={val:B===void 0?null:B,series:N,arg:v},I=GR(I,t.processCell),I.visible&&(i[I.chartDataItem.series]=i[I.chartDataItem.series]||$,n.push(I.chartDataItem))}function w(O){at(d,function(B){g=B[0].index,B=B.slice(0,B.length-1),S=u===B.length,T=Lt(B),C=Q0(B,s),T.length===0&&(C=[t.grandTotalText]),at(l,function($){D=$[0].index,$=$.slice(0,$.length-1),b=c===$.length,m=Lt($),x=Q0($,o),m.length===0&&(x=[t.grandTotalText]),O()})})}function k(O){M(a,function(B,$){f=$,h=B,O()})}return t.alternateDataFields===!1?k(function(){w(E)}):w(function(){k(E)}),n}function UR(e,t){var i=e.getAreaFields("data");if(t.putDataFieldsInto!=="args"&&t.dataFieldsDisplayMode!=="singleAxis"||i.length===1){var r=[];return M(i,function(n,a){var s={name:a.caption,title:a.caption,valueType:zR[a.dataType]||a.dataType,label:{format:a.format}};a.customizeText&&(s.label.customizeText=function(o){return a.customizeText.call(a,o)}),t.dataFieldsDisplayMode==="splitPanes"&&(s.pane=a.caption),r.push(s)}),r}return[{}]}function KR(e,t){var i=[],r=e.getAreaFields("data");return r.length>1&&t.dataFieldsDisplayMode==="splitPanes"&&t.putDataFieldsInto!=="args"&&M(r,function(n,a){i.push({name:a.caption})}),i.length||i.push({}),i}function jR(e,t){var i=t.customizeSeries,r=t.customizeChart,n={valueAxis:UR(e,t),panes:KR(e,t)},a={};return r&&(n=H(!0,{},n,r(n))),n.dataSource=WR(e,t,a),n.seriesTemplate={nameField:"series",customizeSeries:function(s){var o={};return t.dataFieldsDisplayMode==="splitPanes"?o.pane=a[s]:t.dataFieldsDisplayMode!=="singleAxis"&&(o.axis=a[s]),i&&(o=H(o,i(s,o))),o}},n}function XR(e){if(!e)return!1;if(e.NAME)return e.NAME==="dxChart"&&e;var t=p(e);return t.data("dxChart")&&t.dxChart("instance")}function qR(e){var t=e.$element().data(xc);t&&t()}var YR={bindChart:function(e,t){t=H({},t);var i=this,r=function(){t.grandTotalText=i.option("texts.grandTotal");var a=jR(i.getDataSource(),t);e.option(a)};if(e=XR(e),!e)return null;qR(e),i.on("changed",r),r();var n=function(){e.$element().removeData(xc),i.off("changed",r)};return e.on("disposing",n),this.on("disposing",n),e.$element().data(xc,n),n}},tx=Oe(),ix="dx-area-data-cell",yc="dx-area-row-cell",rx="dx-area-column-cell",Cc="dx-area-description-cell",nx="dx-pivotgrid-border",ax="dx-pivotgrid",ZR="dx-row-lines",JR="dx-bottom-row",bo="dx-bottom-border",QR="dx-pivotgrid-fields-container",sx="dx-area-fields",eM="dx-fieldchooser-popup",ox="dx-incompressible-fields",Sc="dx-overflow-hidden",To="<tr>",ln="<td>",Zi="<div>",lx=66666,dx=["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"];function Ec(e){var t=0;return M(e,function(i,r){t+=r||0}),t}function wo(e,t){for(var i=t/e.length,r=0;r<e.length;r++)e[r]-=i}function ux(e){e.off("scroll").off("stop")}function tM(e,t){ux(e),e.on("scroll",t).on("stop",t)}var Io={};function iM(e){if(Io[e])return Io[e];var t,i={},r=p(Zi).css({position:"absolute",visibility:"hidden",top:-1e3,left:-1e3,width:100,height:100}).appendTo("body"),n=p("<p>").css({width:"100%",height:200}).appendTo(r);e!=="auto"&&(i.useNative=!!e,i.useSimulatedScrollbar=!e),r.dxScrollable(i);var a=r.dxScrollable("instance").option("useNative");return t=a?r.width()-n.width():0,r.remove(),Io[e]={scrollBarWidth:t,scrollBarUseNative:a},Io[e]}function cx(e,t){var i=t==="width"?["borderLeftWidth","borderRightWidth"]:["borderTopWidth","borderBottomWidth"],r=0;return M(e,function(n,a){var s=tx.getComputedStyle(a.get(0));i.forEach(function(o){r+=parseFloat(s[o])||0})}),r}function rM(e){return e.closest("."+sx).length||e.find("."+sx).length}var hx=ei.inherit({_getDefaultOptions:function(){return H(this.callBase(),{scrolling:{timeout:300,renderingThreshold:150,minTimeout:10,mode:"standard",useNative:"auto",removeInvisiblePages:!0,virtualRowHeight:50,virtualColumnWidth:100,loadTwoPagesOnStart:!0},encodeHtml:!0,dataSource:null,activeStateEnabled:!1,fieldChooser:{minWidth:250,minHeight:250,enabled:!0,allowSearch:!1,searchTimeout:500,layout:0,title:xe.format("dxPivotGrid-fieldChooserTitle"),width:600,height:600,applyChangesMode:"instantly"},onContextMenuPreparing:null,allowSorting:!1,allowSortingBySummary:!1,allowFiltering:!1,allowExpandAll:!1,wordWrapEnabled:!0,fieldPanel:{showColumnFields:!0,showFilterFields:!0,showDataFields:!0,showRowFields:!0,allowFieldDragging:!0,visible:!1,texts:{columnFieldArea:xe.format("dxPivotGrid-columnFieldArea"),rowFieldArea:xe.format("dxPivotGrid-rowFieldArea"),filterFieldArea:xe.format("dxPivotGrid-filterFieldArea"),dataFieldArea:xe.format("dxPivotGrid-dataFieldArea")}},dataFieldArea:"column",export:{enabled:!1,fileName:"PivotGrid",proxyUrl:void 0,ignoreExcelErrors:!0},showRowTotals:!0,showRowGrandTotals:!0,showColumnTotals:!0,showColumnGrandTotals:!0,hideEmptySummaryCells:!0,showTotalsPrior:"none",rowHeaderLayout:"standard",loadPanel:{enabled:!0,text:xe.format("Loading"),width:200,height:70,showIndicator:!0,indicatorSrc:"",showPane:!0},texts:{grandTotal:xe.format("dxPivotGrid-grandTotal"),total:xe.getFormatter("dxPivotGrid-total"),noData:xe.format("dxDataGrid-noDataText"),showFieldChooser:xe.format("dxPivotGrid-showFieldChooser"),expandAll:xe.format("dxPivotGrid-expandAll"),collapseAll:xe.format("dxPivotGrid-collapseAll"),sortColumnBySummary:xe.getFormatter("dxPivotGrid-sortColumnBySummary"),sortRowBySummary:xe.getFormatter("dxPivotGrid-sortRowBySummary"),removeAllSorting:xe.format("dxPivotGrid-removeAllSorting"),exportToExcel:xe.format("dxDataGrid-exportToExcel"),dataNotAvailable:xe.format("dxPivotGrid-dataNotAvailable")},onCellClick:null,onCellPrepared:null,showBorders:!1,stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3},onExpandValueChanging:null,renderCellCountLimit:2e4,onExporting:null,onExported:null,onFileSaving:null,headerFilter:{width:252,height:325,allowSearch:!1,showRelevantValues:!1,searchTimeout:500,texts:{emptyValue:xe.format("dxDataGrid-headerFilterEmptyValue"),ok:xe.format("dxDataGrid-headerFilterOK"),cancel:xe.format("dxDataGrid-headerFilterCancel")}}})},_updateCalculatedOptions:function(e){var t=this;M(e,function(i,r){M(dx,function(n,a){var s=r._initProperties&&a in r._initProperties&&r._initProperties[a]===void 0,o=r[a]===void 0||s;o&&yi(r,a,t.option(a))})})},_getDataControllerOptions:function(){var e=this;return{component:e,dataSource:e.option("dataSource"),texts:e.option("texts"),showRowTotals:e.option("showRowTotals"),showRowGrandTotals:e.option("showRowGrandTotals"),showColumnTotals:e.option("showColumnTotals"),showTotalsPrior:e.option("showTotalsPrior"),showColumnGrandTotals:e.option("showColumnGrandTotals"),dataFieldArea:e.option("dataFieldArea"),rowHeaderLayout:e.option("rowHeaderLayout"),hideEmptySummaryCells:e.option("hideEmptySummaryCells"),onFieldsPrepared:function(t){e._updateCalculatedOptions(t)}}},_initDataController:function(){var e=this;e._dataController&&e._dataController.dispose(),e._dataController=new qA(e._getDataControllerOptions()),Te()&&e._dataController.changed.add(function(){e._render()}),e._dataController.scrollChanged.add(function(i){e._scrollLeft=i.left,e._scrollTop=i.top}),e._dataController.loadingChanged.add(function(i){e._updateLoading()}),e._dataController.progressChanged.add(e._updateLoading.bind(e)),e._dataController.dataSourceChanged.add(function(){e._trigger("onChanged")});var t=e.option("onExpandValueChanging");t&&e._dataController.expandValueChanging.add(function(i){t(i)})},_init:function(){this.callBase(),this._initDataController(),this._scrollLeft=this._scrollTop=null,this._initActions()},_initActions:function(){this._actions={onChanged:this._createActionByOption("onChanged"),onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing"),onCellClick:this._createActionByOption("onCellClick"),onExporting:this._createActionByOption("onExporting"),onExported:this._createActionByOption("onExported"),onFileSaving:this._createActionByOption("onFileSaving"),onCellPrepared:this._createActionByOption("onCellPrepared")}},_trigger:function(e,t){this._actions[e](t)},_optionChanged:function(e){if(dx.indexOf(e.name)>=0){var t=this.getDataSource().fields();this._updateCalculatedOptions(t)}switch(e.name){case"dataSource":case"allowSorting":case"allowFiltering":case"allowExpandAll":case"allowSortingBySummary":case"scrolling":case"stateStoring":this._initDataController(),this._fieldChooserPopup.hide(),this._renderFieldChooser(),this._invalidate();break;case"texts":case"showTotalsPrior":case"showRowTotals":case"showRowGrandTotals":case"showColumnTotals":case"showColumnGrandTotals":case"hideEmptySummaryCells":case"dataFieldArea":this._dataController.updateViewOptions(this._getDataControllerOptions());break;case"useNativeScrolling":case"encodeHtml":case"renderCellCountLimit":break;case"rtlEnabled":this.callBase(e),this._renderFieldChooser(),this._renderContextMenu(),Te()&&this._renderLoadPanel(this._dataArea.groupElement(),this.$element()),this._invalidate();break;case"export":this._renderDescriptionArea();break;case"onExpandValueChanging":break;case"onCellClick":case"onContextMenuPreparing":case"onExporting":case"onExported":case"onFileSaving":case"onCellPrepared":this._actions[e.name]=this._createActionByOption(e.name);break;case"fieldChooser":this._renderFieldChooser(),this._renderDescriptionArea();break;case"loadPanel":Te()&&(e.fullName==="loadPanel.enabled"?(clearTimeout(this._hideLoadingTimeoutID),this._renderLoadPanel(this._dataArea.groupElement(),this.$element())):(this._renderLoadPanel(this._dataArea.groupElement(),this.$element()),this._invalidate()));break;case"fieldPanel":this._renderDescriptionArea(),this._invalidate();break;case"headerFilter":this._renderFieldChooser(),this._invalidate();break;case"showBorders":this._tableElement().toggleClass(nx,!!e.value),this.updateDimensions();break;case"wordWrapEnabled":this._tableElement().toggleClass("dx-word-wrap",!!e.value),this.updateDimensions();break;case"rowHeaderLayout":this._tableElement().find("."+yc).toggleClass("dx-area-tree-view",e.value==="tree"),this._dataController.updateViewOptions(this._getDataControllerOptions());break;case"height":case"width":this._hasHeight=null,this.callBase(e),this.resize();break;default:this.callBase(e)}},_updateScrollPosition:function(e,t,i){var r,n,a=this._scrollTop||this._scrollLeft;this._scrollUpdating||(this._scrollUpdating=!0,t&&!t.hasScroll()&&this._hasHeight&&(this._scrollTop=null),e&&!e.hasScroll()&&(this._scrollLeft=null),(this._scrollTop!==null||this._scrollLeft!==null||a||this.option("rtlEnabled"))&&(r=this._scrollTop||0,n=this._scrollLeft||0,i.scrollTo({x:n,y:r}),e.scrollTo(n),t.scrollTo(r),this._dataController.updateWindowScrollPosition(this._scrollTop)),this._scrollUpdating=!1)},_subscribeToEvents:function(e,t,i){var r=this,n=function(a){var s=a.scrollOffset,o=P(s.left)?s.left:r._scrollLeft,l=P(s.top)&&r._hasHeight?s.top:r._scrollTop;((r._scrollLeft||0)!==(o||0)||(r._scrollTop||0)!==(l||0))&&(r._scrollLeft=o,r._scrollTop=l,r._updateScrollPosition(e,t,i),r.option("scrolling.mode")==="virtual"&&r._dataController.setViewportPosition(r._scrollLeft,r._scrollTop))};M([e,t,i],function(a,s){tM(s,n)}),!r._hasHeight&&r._dataController.subscribeToWindowScrollEvents(i.groupElement())},_clean:Q,_needDelayResizing:function(e){var t=e.length*(e.length?e[0].length:0);return t>this.option("renderCellCountLimit")},_renderFieldChooser:function(){var e=this,t=e._pivotGridContainer,i=e.option("fieldChooser")||{},r=i.applyChangesMode==="onDemand"?[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:xe.format("OK"),onClick:function(s){e._fieldChooserPopup.$content().dxPivotGridFieldChooser("applyChanges"),e._fieldChooserPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:xe.format("Cancel"),onClick:function(s){e._fieldChooserPopup.hide()}}}]:[],n={layout:i.layout,texts:i.texts||{},dataSource:e.getDataSource(),allowSearch:i.allowSearch,searchTimeout:i.searchTimeout,width:void 0,height:void 0,headerFilter:e.option("headerFilter"),encodeHtml:e.option("encodeHtml"),applyChangesMode:i.applyChangesMode,onContextMenuPreparing:function(s){e._trigger("onContextMenuPreparing",s)}},a={shading:!1,title:i.title,width:i.width,height:i.height,showCloseButton:!0,resizeEnabled:!0,minWidth:i.minWidth,minHeight:i.minHeight,toolbarItems:r,onResize:function(s){s.component.$content().dxPivotGridFieldChooser("updateDimensions")},onShown:function(s){e._createComponent(s.component.content(),V0,n)},onHidden:function(s){var o=s.component.$content().dxPivotGridFieldChooser("instance");o.resetTreeView(),o.cancelChanges()}};e._fieldChooserPopup?(e._fieldChooserPopup.option(a),e._fieldChooserPopup.$content().dxPivotGridFieldChooser(n)):e._fieldChooserPopup=e._createComponent(p(Zi).addClass(eM).appendTo(t),qr,a)},_renderContextMenu:function(){var e=this,t=e._pivotGridContainer;e._contextMenu&&e._contextMenu.$element().remove(),e._contextMenu=e._createComponent(p(Zi).appendTo(t),_c,{onPositioning:function(i){var r=i.event;if(i.cancel=!0,!!r){var n=r.target.cellIndex>=0?r.target:p(r.target).closest("td").get(0);if(!!n){var a=e._createEventArgs(n,r),s=e._getContextMenuItems(a);if(s){i.component.option("items",s),i.cancel=!1;return}}}},onItemClick:function(i){i.itemData.onItemClick&&i.itemData.onItemClick(i)},cssClass:ax,target:e.$element()})},_getContextMenuItems:function(e){var t=this,i=[],r=t.option("texts");if(e.area==="row"||e.area==="column"){var n=e[e.area+"Fields"],a=e[e.area==="column"?"rowFields":"columnFields"],s=e.cell.path&&n[e.cell.path.length-1],o=t.getDataSource();if(s&&s.allowExpandAll&&e.cell.path.length<e[e.area+"Fields"].length&&!o.paginate()&&(i.push({beginGroup:!0,icon:"none",text:r.expandAll,onItemClick:function(){o.expandAll(s.index)}}),i.push({text:r.collapseAll,icon:"none",onItemClick:function(){o.collapseAll(s.index)}})),e.cell.isLast&&!o.paginate()){var l=0;M(a,function(d,u){!u.allowSortingBySummary||M(e.dataFields,function(c,h){if(!(P(e.cell.dataIndex)&&e.cell.dataIndex!==c)){var f=!P(e.cell.dataIndex)&&e.dataFields.length>1,g=e.area==="column"?r.sortColumnBySummary:r.sortRowBySummary,S=Ur(e.dataFields,u.sortBySummaryField)===c&&(e.cell.path||[]).join("/")===(u.sortBySummaryPath||[]).join("/"),C=He(g,f?u.caption+" - "+h.caption:u.caption);i.push({beginGroup:l===0,icon:S?u.sortOrder==="desc"?"sortdowntext":"sortuptext":"none",text:C,onItemClick:function(){o.field(u.index,{sortBySummaryField:h.name||h.caption||h.dataField,sortBySummaryPath:e.cell.path,sortOrder:u.sortOrder==="desc"?"asc":"desc"}),o.load()}}),l++}})}),M(a,function(d,u){if(!(!u.allowSortingBySummary||!P(u.sortBySummaryField)))return i.push({beginGroup:l===0,icon:"none",text:r.removeAllSorting,onItemClick:function(){M(a,function(c,h){o.field(h.index,{sortBySummaryField:void 0,sortBySummaryPath:void 0,sortOrder:void 0})}),o.load()}}),!1})}}if(t.option("fieldChooser.enabled")&&i.push({beginGroup:!0,icon:"columnchooser",text:r.showFieldChooser,onItemClick:function(){t._fieldChooserPopup.show()}}),t.option("export.enabled")&&i.push({beginGroup:!0,icon:"xlsxfile",text:r.exportToExcel,onItemClick:function(){t.exportToExcel()}}),e.items=i,t._trigger("onContextMenuPreparing",e),i=e.items,i&&i.length)return i},_createEventArgs:function(e,t){var i=this.getDataSource(),r={rowFields:i.getAreaFields("row"),columnFields:i.getAreaFields("column"),dataFields:i.getAreaFields("data"),event:t};return rM(p(e))?H(this._createFieldArgs(e),r):H(this._createCellArgs(e),r)},_createFieldArgs:function(e){var t=p(e).children().data("field"),i={field:t};return P(t)?i:{}},_createCellArgs:function(e){var t=p(e),i=e.cellIndex,r=e.parentElement.rowIndex,n=t.closest("table"),a=n.data("data"),s=a&&a[r]&&a[r][i],o={area:n.data("area"),rowIndex:r,columnIndex:i,cellElement:Ie(t),cell:s};return o},_handleCellClick:function(e){var t=this,i=t._createEventArgs(e.currentTarget,e),r=i.cell;!r||!i.area&&(i.rowIndex||i.columnIndex)||(t._trigger("onCellClick",i),r&&!i.cancel&&P(r.expanded)&&setTimeout(function(){t._dataController[r.expanded?"collapseHeaderItem":"expandHeaderItem"](i.area,r.path)}))},_getNoDataText:function(){return this.option("texts.noData")},_renderNoDataText:Os.renderNoDataText,_renderLoadPanel:Os.renderLoadPanel,_updateLoading:function(e){var t=this,i=t._dataController.isLoading();if(!!t._loadPanel){var r=t._loadPanel.option("visible");r||(t._startLoadingTime=new Date),i&&(e?new Date-t._startLoadingTime>=1e3&&t._loadPanel.option("message",Math.floor(100*e)+"%"):t._loadPanel.option("message",t.option("loadPanel.text"))),clearTimeout(t._hideLoadingTimeoutID),r&&!i?t._hideLoadingTimeoutID=setTimeout(function(){t._loadPanel.option("visible",!1),t.$element().removeClass(Sc)}):(t._loadPanel.option("visible",i),t.$element().toggleClass(Sc,!i))}},_renderDescriptionArea:function(){var e=this.$element(),t=e.find("."+Cc),i=p(Zi).addClass("dx-pivotgrid-toolbar"),r=this.option("fieldPanel"),n=e.find(".dx-filter-header"),a=e.find(".dx-column-header"),s;if(r.visible&&r.showFilterFields?s=n:r.visible&&(r.showDataFields||r.showColumnFields)?s=a:s=t,a.toggleClass(bo,!!(r.visible&&(r.showDataFields||r.showColumnFields))),n.toggleClass(bo,!!(r.visible&&r.showFilterFields)),t.toggleClass("dx-pivotgrid-background",r.visible&&(r.showDataFields||r.showColumnFields||r.showRowFields)),this.$element().find(".dx-pivotgrid-toolbar").remove(),i.prependTo(s),this.option("fieldChooser.enabled")){var o=p(Zi).appendTo(i).addClass("dx-pivotgrid-field-chooser-button"),l={icon:"columnchooser",hint:this.option("texts.showFieldChooser"),onClick:()=>{this.getFieldChooserPopup().show()}};this._createComponent(o,"dxButton",l)}if(this.option("export.enabled")){var d=p(Zi).appendTo(i).addClass("dx-pivotgrid-export-button"),u={icon:"xlsxfile",hint:this.option("texts.exportToExcel"),onClick:()=>{this.exportToExcel()}};this._createComponent(d,"dxButton",u)}},_detectHasContainerHeight:function(){var e=this.$element();if(P(this._hasHeight)){var t=this.option("height")||this.$element().get(0).style.height;t&&this._hasHeight^t!=="auto"&&(this._hasHeight=null)}if(!(P(this._hasHeight)||e.is(":hidden"))){this._pivotGridContainer.addClass("dx-hidden");var i=p(Zi).height(lx);e.append(i),this._hasHeight=e.height()!==lx,this._pivotGridContainer.removeClass("dx-hidden"),i.remove()}},_renderHeaders:function(e,t,i,r){var n=this.getDataSource();this._rowFields=this._rowFields||new mo(this,"row"),this._rowFields.render(e,n.getAreaFields("row")),this._columnFields=this._columnFields||new mo(this,"column"),this._columnFields.render(t,n.getAreaFields("column")),this._filterFields=this._filterFields||new mo(this,"filter"),this._filterFields.render(i,n.getAreaFields("filter")),this._dataFields=this._dataFields||new mo(this,"data"),this._dataFields.render(r,n.getAreaFields("data")),this.$element().dxPivotGridFieldChooserBase("instance").renderSortable()},_createTableElement:function(){var e=p("<table>").css({width:"100%"}).toggleClass(nx,!!this.option("showBorders")).toggleClass("dx-word-wrap",!!this.option("wordWrapEnabled"));return F.on(e,se(it,"dxPivotGrid"),"td",this._handleCellClick.bind(this)),e},_renderDataArea:function(e){var t=this._dataArea||new rD(this);return this._dataArea=t,t.render(e,this._dataController.getCellsInfo()),t},_renderRowsArea:function(e){var t=this._rowsArea||new pD(this);return this._rowsArea=t,t.render(e,this._dataController.getRowsInfo()),t},_renderColumnsArea:function(e){var t=this._columnsArea||new Uv(this);return this._columnsArea=t,t.render(e,this._dataController.getColumnsInfo()),t},_initMarkup:function(){var e=this;e.callBase.apply(this,arguments),e.$element().addClass(ax)},_renderContentImpl:function(){var e,t,i,r,n=!this._pivotGridContainer,a,s,o,l;r=!n&&this._tableElement(),r||(this.$element().addClass(ZR).addClass(QR),this._pivotGridContainer=p(Zi).addClass("dx-pivotgrid-container"),this._renderFieldChooser(),this._renderContextMenu(),e=p(ln).addClass(rx),t=p(ln).addClass(yc),i=p(ln).addClass(ix),r=this._createTableElement(),l=p(ln).addClass("dx-data-header"),o=p("<td>").attr("colspan","2").addClass("dx-filter-header"),s=p(ln).addClass("dx-column-header"),a=p(ln).addClass(Cc),p(To).append(o).appendTo(r),p(To).append(l).append(s).appendTo(r),p(To).toggleClass("dx-ie",Fe.msie===!0).append(a).append(e).appendTo(r),p(To).addClass(JR).append(t).append(i).appendTo(r),this._pivotGridContainer.append(r),this.$element().append(this._pivotGridContainer),this.option("rowHeaderLayout")==="tree"&&t.addClass("dx-area-tree-view")),this.$element().addClass(Sc),this._createComponent(this.$element(),fc,{dataSource:this.getDataSource(),encodeHtml:this.option("encodeHtml"),allowFieldDragging:this.option("fieldPanel.allowFieldDragging"),headerFilter:this.option("headerFilter"),visible:this.option("visible")});var d=this._renderDataArea(i),u=this._renderRowsArea(t),c=this._renderColumnsArea(e);d.tableElement().prepend(c.headElement()),n&&(this._renderLoadPanel(d.groupElement().parent(),this.$element()),this._renderDescriptionArea(),u.processScroll(),c.processScroll()),[d,u,c].forEach(function(h){ux(h)}),this._renderHeaders(a,s,o,l),this._update(n)},_update:function(e){var t=this,i=function(){t.updateDimensions()};t._needDelayResizing(t._dataArea.getData())&&e?setTimeout(i):i()},_fireContentReadyAction:function(){this._dataController.isLoading()||this.callBase()},getScrollPath:function(e){return e==="column"?this._columnsArea.getScrollPath(this._scrollLeft):this._rowsArea.getScrollPath(this._scrollTop)},getDataSource:function(){return this._dataController.getDataSource()},getFieldChooserPopup:function(){return this._fieldChooserPopup},hasScroll:function(e){return e==="column"?this._columnsArea.hasScroll():this._rowsArea.hasScroll()},_dimensionChanged:function(){this.updateDimensions()},_visibilityChanged:function(e){e&&this.updateDimensions()},_dispose:function(){var e=this;clearTimeout(e._hideLoadingTimeoutID),e.callBase.apply(e,arguments),e._dataController&&e._dataController.dispose()},_tableElement:function(){return this.$element().find("table").first()},addWidgetPrefix:function(e){return"dx-pivotgrid-"+e},resize:function(){this.updateDimensions()},isReady:function(){return this.callBase()&&!this._dataController.isLoading()},updateDimensions:function(){var e=this,t,i=e._tableElement(),r=e._rowsArea,n=e._columnsArea,a=e._dataArea,s,o=0,l=0,d=0,u,c,h=e.option("scrolling")||{},f=iM(h.useNative),g=f.scrollBarWidth,S=i.find("."+ix),C=i.find("."+yc),T=i.find("."+rx),D=i.find("."+Cc),b=i.find(".dx-filter-header"),m=i.find(".dx-column-header"),x=e._rowFields,E=new ee;if(!!Te()){var w=x.isVisible()&&e.option("rowHeaderLayout")!=="tree";e._detectHasContainerHeight(),a.headElement().length||a.tableElement().prepend(n.headElement()),w&&(r.updateColspans(x.getColumnsCount()),r.tableElement().prepend(x.headElement())),i.addClass(ox),a.reset(),r.reset(),n.reset(),x.reset();var k=(B,$)=>$-B>=1,O=(B,$,I,N,v)=>I?B:$+(N?v:0);return Lr(function(){var B=a.getColumnsWidth(),$=r.getRowsHeight(),I=w?$.slice(1):$,N=a.getRowsHeight(),v=il(D[0],"height",{paddings:!0,borders:!0,margins:!0})+(w?$[0]:0),A=e._dataController.getColumnsInfo().length,W=VI(I,N.slice(A)),z=N.slice(0,A),q=Ec(z),U=r.getColumnsWidth(),J=0,G=0;if(e._hasHeight){J=b.height();var V=i.find(".dx-data-header"),ie=Fe.msie?il(V.get(0),"height",{paddings:!1,borders:!1,margins:!1}):V.height();s=cx([T,S,i,m,b],"height"),G=e.$element().height()-J-ie-(Math.max(a.headElement().height(),T.height(),v)+s)}if(o=a.tableElement().width(),l=Ec(W),!o||!l){E.resolve();return}d=Ec(U);var Z=e.$element().width();s=cx([C,S,i],"width"),t=Z-d-s,t=t>0?t:o;var Y=o-t,oe=Y>=0&&Y<=2;oe&&(wo(B,Y),o=t),u=e._hasHeight&&k(G,l),c=k(t,o);var _e=O(G,l,u,c,g);Qi(function(){if(n.tableElement().append(a.headElement()),x.tableElement().append(r.headElement()),!c&&u&&g&&(wo(B,g),o-=g),v>q&&(wo(z,q-v),n.setRowsHeight(z)),i.removeClass(ox),m.children().css("maxWidth",t),n.groupWidth(t),n.processScrollBarSpacing(u?g:0),n.setColumnsWidth(B),r.groupHeight(e._hasHeight?_e:"auto"),r.processScrollBarSpacing(c?g:0),r.setColumnsWidth(U),r.setRowsHeight(W),a.setColumnsWidth(B),a.setRowsHeight(W),a.groupWidth(t),a.groupHeight(e._hasHeight?_e:"auto"),w&&x.setColumnsWidth(U),S.toggleClass(bo,!u),C.toggleClass(bo,!u),!e._hasHeight&&Z!==e.$element().width()){var de=Z-e.$element().width();c||(wo(B,de),n.setColumnsWidth(B),a.setColumnsWidth(B)),a.groupWidth(t-de),n.groupWidth(t-de)}if(e._hasHeight&&e._filterFields.isVisible()&&b.height()!==J){var ce=b.height()-J;if(ce>0){u=k(G-ce,l);var me=O(G-ce,l,u,c,g);a.groupHeight(me),r.groupHeight(me)}}if(h.mode==="virtual"){var ve=e._dataController.calculateVirtualContentParams({virtualRowHeight:h.virtualRowHeight,virtualColumnWidth:h.virtualColumnWidth,itemWidths:B,itemHeights:W,rowCount:W.length,columnCount:B.length,viewportWidth:t,viewportHeight:e._hasHeight?_e:p(tx).outerHeight()});a.setVirtualContentParams({top:ve.contentTop,left:ve.contentLeft,width:ve.width,height:ve.height}),r.setVirtualContentParams({top:ve.contentTop,width:d,height:ve.height}),n.setVirtualContentParams({left:ve.contentLeft,width:ve.width,height:n.groupElement().height()})}var be=[];a.processScroll(f.scrollBarUseNative,e.option("rtlEnabled"),c,u),M([n,r,a],function(ke,y){be.push(y&&y.updateScrollable())}),e._updateLoading(),e._renderNoDataText(S),ye.apply(p,be).done(function(){e._updateScrollPosition(n,r,a),e._subscribeToEvents(n,r,a),E.resolve()})})}),E}},applyPartialDataSource:function(e,t,i){this._dataController.applyPartialDataSource(e,t,i)}}).inherit($R).include(YR);Ge("dxPivotGrid",hx);var _4="",v4="",g4="";function xa(e){return Object.entries(e).map(([t,i])=>(t=t.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`),`${t}:${i}`)).join(";")}function ya(e){return typeof e=="string"}function nM(e){return typeof e=="function"}function aM(){return navigator.platform.indexOf("Mac")>-1}class dn{static setCustomFields(t){var i;!t.customFields||!((i=t.dataSource)==null?void 0:i.fields)||(t.dataSource.fields=t.dataSource.fields.concat(t.customFields))}static setTdCustomStyle(t){var r;if(!t.tdCustomStyle)return;let i={};if(ya(t.tdCustomStyle))i.all=t.tdCustomStyle;else{let{all:n,data:a,row:s,column:o}=t.tdCustomStyle;n||a||s||o?(i.all=ya(n)?n:xa(n!=null?n:{}),i.data=ya(a)?a:xa(a!=null?a:{}),i.row=ya(s)?s:xa(s!=null?s:{}),i.column=ya(o)?o:xa(o!=null?o:{})):i.all=xa((r=t.tdCustomStyle)!=null?r:{})}t._customStyleHandler=function({area:n,cellElement:a}){let s=a.querySelector("span");switch(n){case"data":s.style.cssText=[i.all,i.data].join(";");break;case"row":s.style.cssText=[i.all,i.row].join(";");break;case"column":s.style.cssText=[i.all,i.column].join(";");break}},t.onCellPrepared||(t.onCellPrepared=function(){})}static expandAllHandler(t){if(!!t)for(let i=0;i<t.length;i++)t[i].expanded=!0}static setEmptyPlaceHolder(t,i){if(!(!t||!i))for(let r=0;r<t.length;r++)t[r].emptyPlaceHolder=i}static setSummaryType(t,i){if(!!t)for(let r=0;r<t.length;r++)t[r].area==="data"&&(t[r].summaryType=i)}static setWordWrapHandler(t,i){if(!!t)for(let r=0;r<t.length;r++)t[r].wordWrapEnabled=i}}function sM(e,t,i,r){var n,a=!1,s=0;function o(){n&&clearTimeout(n)}function l(){o(),a=!0}typeof t!="boolean"&&(r=i,i=t,t=void 0);function d(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var f=this,g=Date.now()-s;if(a)return;function S(){s=Date.now(),i.apply(f,c)}function C(){n=void 0}r&&!n&&S(),o(),r===void 0&&g>e?S():t!==!0&&(n=setTimeout(r?C:S,r===void 0?e-g:e))}return d.cancel=l,d}class oM{constructor(){pn(this,"options",{});pn(this,"DP",null);pn(this,"defaultOption",{})}getFirstField(){let t=this.DP.getDataSource();return{row:t._fields.find(i=>i.area==="row"),column:t._fields.find(i=>i.area==="column")}}setInheritHeight(){this.options.height="inherit";const t=sM(300,()=>{var i,r;(r=(i=this==null?void 0:this.DP)==null?void 0:i.updateDimensions)==null||r.call(i)});window.addEventListener("resize",()=>t())}setExportable(){this.options.export={enabled:!0}}useBetterScroller(){this.options.scrolling={mode:"virtual"},!aM()&&this.setClassName("use-better-scroller")}setClassName(t){this.options.elementAttr?this.options.elementAttr.class=this.options.elementAttr.class?this.options.elementAttr.class+` ${t}`:t:this.options.elementAttr={class:t}}}var lM=typeof global=="object"&&global&&global.Object===Object&&global,fx=lM,dM=typeof self=="object"&&self&&self.Object===Object&&self,uM=fx||dM||Function("return this")(),li=uM,cM=li.Symbol,un=cM,px=Object.prototype,hM=px.hasOwnProperty,fM=px.toString,Ca=un?un.toStringTag:void 0;function pM(e){var t=hM.call(e,Ca),i=e[Ca];try{e[Ca]=void 0;var r=!0}catch(a){}var n=fM.call(e);return r&&(t?e[Ca]=i:delete e[Ca]),n}var _M=Object.prototype,vM=_M.toString;function gM(e){return vM.call(e)}var mM="[object Null]",xM="[object Undefined]",_x=un?un.toStringTag:void 0;function Sa(e){return e==null?e===void 0?xM:mM:_x&&_x in Object(e)?pM(e):gM(e)}function Ea(e){return e!=null&&typeof e=="object"}var yM=Array.isArray,bc=yM;function ba(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var CM="[object AsyncFunction]",SM="[object Function]",EM="[object GeneratorFunction]",bM="[object Proxy]";function vx(e){if(!ba(e))return!1;var t=Sa(e);return t==SM||t==EM||t==CM||t==bM}var TM=li["__core-js_shared__"],Tc=TM,gx=function(){var e=/[^.]+$/.exec(Tc&&Tc.keys&&Tc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wM(e){return!!gx&&gx in e}var IM=Function.prototype,AM=IM.toString;function Tr(e){if(e!=null){try{return AM.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var DM=/[\\^$.*+?()[\]{}|]/g,OM=/^\[object .+?Constructor\]$/,kM=Function.prototype,LM=Object.prototype,PM=kM.toString,BM=LM.hasOwnProperty,RM=RegExp("^"+PM.call(BM).replace(DM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MM(e){if(!ba(e)||wM(e))return!1;var t=vx(e)?RM:OM;return t.test(Tr(e))}function FM(e,t){return e==null?void 0:e[t]}function wr(e,t){var i=FM(e,t);return MM(i)?i:void 0}var NM=wr(li,"WeakMap"),wc=NM,mx=Object.create,HM=function(){function e(){}return function(t){if(!ba(t))return{};if(mx)return mx(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),$M=HM;function VM(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}var zM=function(){try{var e=wr(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),xx=zM;function GM(e,t){for(var i=-1,r=e==null?0:e.length;++i<r&&t(e[i],i,e)!==!1;);return e}var WM=9007199254740991,UM=/^(?:0|[1-9]\d*)$/;function KM(e,t){var i=typeof e;return t=t==null?WM:t,!!t&&(i=="number"||i!="symbol"&&UM.test(e))&&e>-1&&e%1==0&&e<t}function yx(e,t,i){t=="__proto__"&&xx?xx(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Cx(e,t){return e===t||e!==e&&t!==t}var jM=Object.prototype,XM=jM.hasOwnProperty;function Sx(e,t,i){var r=e[t];(!(XM.call(e,t)&&Cx(r,i))||i===void 0&&!(t in e))&&yx(e,t,i)}function Ao(e,t,i,r){var n=!i;i||(i={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=r?r(i[o],e[o],o,i,e):void 0;l===void 0&&(l=e[o]),n?yx(i,o,l):Sx(i,o,l)}return i}var qM=9007199254740991;function Ex(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qM}function bx(e){return e!=null&&Ex(e.length)&&!vx(e)}var YM=Object.prototype;function Ic(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||YM;return e===i}function ZM(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}var JM="[object Arguments]";function Tx(e){return Ea(e)&&Sa(e)==JM}var wx=Object.prototype,QM=wx.hasOwnProperty,eF=wx.propertyIsEnumerable,tF=Tx(function(){return arguments}())?Tx:function(e){return Ea(e)&&QM.call(e,"callee")&&!eF.call(e,"callee")},iF=tF;function rF(){return!1}var Ix=typeof ze=="object"&&ze&&!ze.nodeType&&ze,Ax=Ix&&typeof module=="object"&&module&&!module.nodeType&&module,nF=Ax&&Ax.exports===Ix,Dx=nF?li.Buffer:void 0,aF=Dx?Dx.isBuffer:void 0,sF=aF||rF,Ox=sF,oF="[object Arguments]",lF="[object Array]",dF="[object Boolean]",uF="[object Date]",cF="[object Error]",hF="[object Function]",fF="[object Map]",pF="[object Number]",_F="[object Object]",vF="[object RegExp]",gF="[object Set]",mF="[object String]",xF="[object WeakMap]",yF="[object ArrayBuffer]",CF="[object DataView]",SF="[object Float32Array]",EF="[object Float64Array]",bF="[object Int8Array]",TF="[object Int16Array]",wF="[object Int32Array]",IF="[object Uint8Array]",AF="[object Uint8ClampedArray]",DF="[object Uint16Array]",OF="[object Uint32Array]",We={};We[SF]=We[EF]=We[bF]=We[TF]=We[wF]=We[IF]=We[AF]=We[DF]=We[OF]=!0,We[oF]=We[lF]=We[yF]=We[dF]=We[CF]=We[uF]=We[cF]=We[hF]=We[fF]=We[pF]=We[_F]=We[vF]=We[gF]=We[mF]=We[xF]=!1;function kF(e){return Ea(e)&&Ex(e.length)&&!!We[Sa(e)]}function Ac(e){return function(t){return e(t)}}var kx=typeof ze=="object"&&ze&&!ze.nodeType&&ze,Ta=kx&&typeof module=="object"&&module&&!module.nodeType&&module,LF=Ta&&Ta.exports===kx,Dc=LF&&fx.process,PF=function(){try{var e=Ta&&Ta.require&&Ta.require("util").types;return e||Dc&&Dc.binding&&Dc.binding("util")}catch(t){}}(),cn=PF,Lx=cn&&cn.isTypedArray,BF=Lx?Ac(Lx):kF,RF=BF,MF=Object.prototype,FF=MF.hasOwnProperty;function Px(e,t){var i=bc(e),r=!i&&iF(e),n=!i&&!r&&Ox(e),a=!i&&!r&&!n&&RF(e),s=i||r||n||a,o=s?ZM(e.length,String):[],l=o.length;for(var d in e)(t||FF.call(e,d))&&!(s&&(d=="length"||n&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||KM(d,l)))&&o.push(d);return o}function Bx(e,t){return function(i){return e(t(i))}}var NF=Bx(Object.keys,Object),HF=NF,$F=Object.prototype,VF=$F.hasOwnProperty;function zF(e){if(!Ic(e))return HF(e);var t=[];for(var i in Object(e))VF.call(e,i)&&i!="constructor"&&t.push(i);return t}function Oc(e){return bx(e)?Px(e):zF(e)}function GF(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var WF=Object.prototype,UF=WF.hasOwnProperty;function KF(e){if(!ba(e))return GF(e);var t=Ic(e),i=[];for(var r in e)r=="constructor"&&(t||!UF.call(e,r))||i.push(r);return i}function kc(e){return bx(e)?Px(e,!0):KF(e)}var jF=wr(Object,"create"),wa=jF;function XF(){this.__data__=wa?wa(null):{},this.size=0}function qF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var YF="__lodash_hash_undefined__",ZF=Object.prototype,JF=ZF.hasOwnProperty;function QF(e){var t=this.__data__;if(wa){var i=t[e];return i===YF?void 0:i}return JF.call(t,e)?t[e]:void 0}var eN=Object.prototype,tN=eN.hasOwnProperty;function iN(e){var t=this.__data__;return wa?t[e]!==void 0:tN.call(t,e)}var rN="__lodash_hash_undefined__";function nN(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=wa&&t===void 0?rN:t,this}function Ir(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Ir.prototype.clear=XF,Ir.prototype.delete=qF,Ir.prototype.get=QF,Ir.prototype.has=iN,Ir.prototype.set=nN;function aN(){this.__data__=[],this.size=0}function Do(e,t){for(var i=e.length;i--;)if(Cx(e[i][0],t))return i;return-1}var sN=Array.prototype,oN=sN.splice;function lN(e){var t=this.__data__,i=Do(t,e);if(i<0)return!1;var r=t.length-1;return i==r?t.pop():oN.call(t,i,1),--this.size,!0}function dN(e){var t=this.__data__,i=Do(t,e);return i<0?void 0:t[i][1]}function uN(e){return Do(this.__data__,e)>-1}function cN(e,t){var i=this.__data__,r=Do(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}function Ii(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}Ii.prototype.clear=aN,Ii.prototype.delete=lN,Ii.prototype.get=dN,Ii.prototype.has=uN,Ii.prototype.set=cN;var hN=wr(li,"Map"),Ia=hN;function fN(){this.size=0,this.__data__={hash:new Ir,map:new(Ia||Ii),string:new Ir}}function pN(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Oo(e,t){var i=e.__data__;return pN(t)?i[typeof t=="string"?"string":"hash"]:i.map}function _N(e){var t=Oo(this,e).delete(e);return this.size-=t?1:0,t}function vN(e){return Oo(this,e).get(e)}function gN(e){return Oo(this,e).has(e)}function mN(e,t){var i=Oo(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}function hn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}hn.prototype.clear=fN,hn.prototype.delete=_N,hn.prototype.get=vN,hn.prototype.has=gN,hn.prototype.set=mN;function Rx(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}var xN=Bx(Object.getPrototypeOf,Object),Mx=xN;function yN(){this.__data__=new Ii,this.size=0}function CN(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function SN(e){return this.__data__.get(e)}function EN(e){return this.__data__.has(e)}var bN=200;function TN(e,t){var i=this.__data__;if(i instanceof Ii){var r=i.__data__;if(!Ia||r.length<bN-1)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new hn(r)}return i.set(e,t),this.size=i.size,this}function fn(e){var t=this.__data__=new Ii(e);this.size=t.size}fn.prototype.clear=yN,fn.prototype.delete=CN,fn.prototype.get=SN,fn.prototype.has=EN,fn.prototype.set=TN;function wN(e,t){return e&&Ao(t,Oc(t),e)}function IN(e,t){return e&&Ao(t,kc(t),e)}var Fx=typeof ze=="object"&&ze&&!ze.nodeType&&ze,Nx=Fx&&typeof module=="object"&&module&&!module.nodeType&&module,AN=Nx&&Nx.exports===Fx,Hx=AN?li.Buffer:void 0,$x=Hx?Hx.allocUnsafe:void 0;function DN(e,t){if(t)return e.slice();var i=e.length,r=$x?$x(i):new e.constructor(i);return e.copy(r),r}function ON(e,t){for(var i=-1,r=e==null?0:e.length,n=0,a=[];++i<r;){var s=e[i];t(s,i,e)&&(a[n++]=s)}return a}function Vx(){return[]}var kN=Object.prototype,LN=kN.propertyIsEnumerable,zx=Object.getOwnPropertySymbols,PN=zx?function(e){return e==null?[]:(e=Object(e),ON(zx(e),function(t){return LN.call(e,t)}))}:Vx,Lc=PN;function BN(e,t){return Ao(e,Lc(e),t)}var RN=Object.getOwnPropertySymbols,MN=RN?function(e){for(var t=[];e;)Rx(t,Lc(e)),e=Mx(e);return t}:Vx,Gx=MN;function FN(e,t){return Ao(e,Gx(e),t)}function Wx(e,t,i){var r=t(e);return bc(e)?r:Rx(r,i(e))}function NN(e){return Wx(e,Oc,Lc)}function HN(e){return Wx(e,kc,Gx)}var $N=wr(li,"DataView"),Pc=$N,VN=wr(li,"Promise"),Bc=VN,zN=wr(li,"Set"),Rc=zN,Ux="[object Map]",GN="[object Object]",Kx="[object Promise]",jx="[object Set]",Xx="[object WeakMap]",qx="[object DataView]",WN=Tr(Pc),UN=Tr(Ia),KN=Tr(Bc),jN=Tr(Rc),XN=Tr(wc),Ar=Sa;(Pc&&Ar(new Pc(new ArrayBuffer(1)))!=qx||Ia&&Ar(new Ia)!=Ux||Bc&&Ar(Bc.resolve())!=Kx||Rc&&Ar(new Rc)!=jx||wc&&Ar(new wc)!=Xx)&&(Ar=function(e){var t=Sa(e),i=t==GN?e.constructor:void 0,r=i?Tr(i):"";if(r)switch(r){case WN:return qx;case UN:return Ux;case KN:return Kx;case jN:return jx;case XN:return Xx}return t});var Mc=Ar,qN=Object.prototype,YN=qN.hasOwnProperty;function ZN(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&YN.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var JN=li.Uint8Array,Yx=JN;function Fc(e){var t=new e.constructor(e.byteLength);return new Yx(t).set(new Yx(e)),t}function QN(e,t){var i=t?Fc(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var eH=/\w*$/;function tH(e){var t=new e.constructor(e.source,eH.exec(e));return t.lastIndex=e.lastIndex,t}var Zx=un?un.prototype:void 0,Jx=Zx?Zx.valueOf:void 0;function iH(e){return Jx?Object(Jx.call(e)):{}}function rH(e,t){var i=t?Fc(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var nH="[object Boolean]",aH="[object Date]",sH="[object Map]",oH="[object Number]",lH="[object RegExp]",dH="[object Set]",uH="[object String]",cH="[object Symbol]",hH="[object ArrayBuffer]",fH="[object DataView]",pH="[object Float32Array]",_H="[object Float64Array]",vH="[object Int8Array]",gH="[object Int16Array]",mH="[object Int32Array]",xH="[object Uint8Array]",yH="[object Uint8ClampedArray]",CH="[object Uint16Array]",SH="[object Uint32Array]";function EH(e,t,i){var r=e.constructor;switch(t){case hH:return Fc(e);case nH:case aH:return new r(+e);case fH:return QN(e,i);case pH:case _H:case vH:case gH:case mH:case xH:case yH:case CH:case SH:return rH(e,i);case sH:return new r;case oH:case uH:return new r(e);case lH:return tH(e);case dH:return new r;case cH:return iH(e)}}function bH(e){return typeof e.constructor=="function"&&!Ic(e)?$M(Mx(e)):{}}var TH="[object Map]";function wH(e){return Ea(e)&&Mc(e)==TH}var Qx=cn&&cn.isMap,IH=Qx?Ac(Qx):wH,AH=IH,DH="[object Set]";function OH(e){return Ea(e)&&Mc(e)==DH}var ey=cn&&cn.isSet,kH=ey?Ac(ey):OH,LH=kH,PH=1,BH=2,RH=4,ty="[object Arguments]",MH="[object Array]",FH="[object Boolean]",NH="[object Date]",HH="[object Error]",iy="[object Function]",$H="[object GeneratorFunction]",VH="[object Map]",zH="[object Number]",ry="[object Object]",GH="[object RegExp]",WH="[object Set]",UH="[object String]",KH="[object Symbol]",jH="[object WeakMap]",XH="[object ArrayBuffer]",qH="[object DataView]",YH="[object Float32Array]",ZH="[object Float64Array]",JH="[object Int8Array]",QH="[object Int16Array]",e4="[object Int32Array]",t4="[object Uint8Array]",i4="[object Uint8ClampedArray]",r4="[object Uint16Array]",n4="[object Uint32Array]",$e={};$e[ty]=$e[MH]=$e[XH]=$e[qH]=$e[FH]=$e[NH]=$e[YH]=$e[ZH]=$e[JH]=$e[QH]=$e[e4]=$e[VH]=$e[zH]=$e[ry]=$e[GH]=$e[WH]=$e[UH]=$e[KH]=$e[t4]=$e[i4]=$e[r4]=$e[n4]=!0,$e[HH]=$e[iy]=$e[jH]=!1;function ko(e,t,i,r,n,a){var s,o=t&PH,l=t&BH,d=t&RH;if(i&&(s=n?i(e,r,n,a):i(e)),s!==void 0)return s;if(!ba(e))return e;var u=bc(e);if(u){if(s=ZN(e),!o)return VM(e,s)}else{var c=Mc(e),h=c==iy||c==$H;if(Ox(e))return DN(e,o);if(c==ry||c==ty||h&&!n){if(s=l||h?{}:bH(e),!o)return l?FN(e,IN(s,e)):BN(e,wN(s,e))}else{if(!$e[c])return n?e:{};s=EH(e,c,o)}}a||(a=new fn);var f=a.get(e);if(f)return f;a.set(e,s),LH(e)?e.forEach(function(C){s.add(ko(C,t,i,C,e,a))}):AH(e)&&e.forEach(function(C,T){s.set(T,ko(C,t,i,T,e,a))});var g=d?l?HN:NN:l?kc:Oc,S=u?void 0:g(e);return GM(S||e,function(C,T){S&&(T=C,C=e[T]),Sx(s,T,ko(C,t,i,T,e,a))}),s}var a4=1,s4=4;function ny(e){return ko(e,a4|s4)}var o4={zh:{Yes:"\u662F",No:"\u5426",Cancel:"\u53D6\u6D88",Clear:"\u6E05\u9664",Done:"\u5B8C\u6210",Loading:"\u6B63\u5728\u52A0\u8F7D...",Select:"\u9009\u62E9...",Search:"\u641C\u7D22",Back:"\u8FD4\u56DE",OK:"\u786E\u5B9A","dxCollectionWidget-noDataText":"\u6CA1\u6709\u8981\u663E\u793A\u7684\u6570\u636E","dxDropDownEditor-selectLabel":"\u9009\u62E9","validation-required":"\u5FC5\u9700","validation-required-formatted":"{0} \u662F\u5FC5\u9700\u7684","validation-numeric":"\u503C\u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57","validation-numeric-formatted":"{0} \u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57","validation-range":"\u503C\u8D85\u51FA\u8303\u56F4","validation-range-formatted":"{0} \u8D85\u51FA\u8303\u56F4","validation-stringLength":"\u8BE5\u503C\u7684\u957F\u5EA6\u4E0D\u6B63\u786E","validation-stringLength-formatted":"{0} \u7684\u957F\u5EA6\u4E0D\u6B63\u786E","validation-custom":"\u503C\u65E0\u6548","validation-custom-formatted":"{0} \u503C\u65E0\u6548","validation-async":"\u503C\u65E0\u6548","validation-async-formatted":"{0} \u503C\u65E0\u6548","validation-compare":"\u503C\u4E0D\u5339\u914D","validation-compare-formatted":"{0} \u4E0D\u5339\u914D","validation-pattern":"\u503C\u4E0D\u7B26\u5408\u8BE5\u6A21\u5F0F","validation-pattern-formatted":"{0} \u4E0D\u5339\u914D\u8BE5\u6A21\u5F0F","validation-email":"\u7535\u5B50\u90AE\u4EF6\u65E0\u6548","validation-email-formatted":"{0} \u65E0\u6548","validation-mask":"\u503C\u65E0\u6548","dxLookup-searchPlaceholder":"\u6700\u5C0F\u5B57\u7B26\u6570: {0}","dxList-pullingDownText":"\u4E0B\u62C9\u4EE5\u5237\u65B0...","dxList-pulledDownText":"\u653E\u5F00\u4EE5\u5237\u65B0...","dxList-refreshingText":"\u5237\u65B0\u4E2D...","dxList-pageLoadingText":"\u6B63\u5728\u52A0\u8F7D...","dxList-nextButtonText":"\u66F4\u591A","dxList-selectAll":"\u5168\u9009","dxListEditDecorator-delete":"\u5220\u9664","dxListEditDecorator-more":"\u66F4\u591A","dxScrollView-pullingDownText":"\u4E0B\u62C9\u4EE5\u5237\u65B0...","dxScrollView-pulledDownText":"\u653E\u5F00\u4EE5\u5237\u65B0...","dxScrollView-refreshingText":"\u5237\u65B0\u4E2D...","dxScrollView-reachBottomText":"\u6B63\u5728\u52A0\u8F7D...","dxDateBox-simulatedDataPickerTitleTime":"\u9009\u62E9\u65F6\u95F4","dxDateBox-simulatedDataPickerTitleDate":"\u9009\u62E9\u65E5\u671F","dxDateBox-simulatedDataPickerTitleDateTime":"\u9009\u62E9\u65E5\u671F\u548C\u65F6\u95F4","dxDateBox-validation-datetime":"\u503C\u5FC5\u987B\u662F\u65E5\u671F\u6216\u65F6\u95F4","dxFileUploader-selectFile":"\u9009\u62E9\u6587\u4EF6","dxFileUploader-dropFile":"\u6216\u8005\u628A\u6587\u4EF6\u653E\u5728\u6B64\u5904","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"\u4E0A\u4F20","dxFileUploader-uploaded":"\u5DF2\u4E0A\u4F20","dxFileUploader-readyToUpload":"\u51C6\u5907\u4E0A\u4F20","dxFileUploader-uploadAbortedMessage":"TODO","dxFileUploader-uploadFailedMessage":"\u4E0A\u4F20\u5931\u8D25","dxFileUploader-invalidFileExtension":"\u6587\u4EF6\u7C7B\u578B\u9519\u8BEF","dxFileUploader-invalidMaxFileSize":"\u6587\u4EF6\u8FC7\u5927","dxFileUploader-invalidMinFileSize":"\u6587\u4EF6\u8FC7\u5C0F","dxRangeSlider-ariaFrom":"\u4ECE","dxRangeSlider-ariaTill":"\u81F3","dxSwitch-switchedOnText":"\u5F00","dxSwitch-switchedOffText":"\u5173","dxForm-optionalMark":"\u53EF\u9009","dxForm-requiredMessage":"{0} \u662F\u5FC5\u987B\u7684","dxNumberBox-invalidValueMessage":"\u503C\u5FC5\u987B\u662F\u4E00\u4E2A\u6570\u5B57","dxNumberBox-noDataText":"\u65E0\u6570\u636E","dxDataGrid-columnChooserTitle":"\u5217\u9009\u62E9\u5668","dxDataGrid-columnChooserEmptyText":"\u5728\u8FD9\u91CC\u62D6\u52A8\u4E00\u5217\u9690\u85CF\u5B83","dxDataGrid-groupContinuesMessage":"\u4E0B\u4E00\u9875","dxDataGrid-groupContinuedMessage":"\u4E0A\u4E00\u9875","dxDataGrid-groupHeaderText":"\u901A\u8FC7\u8BE5\u5217\u5206\u7EC4","dxDataGrid-ungroupHeaderText":"\u53D6\u6D88\u5206\u7EC4","dxDataGrid-ungroupAllText":"\u53D6\u6D88\u6240\u6709\u5206\u7EC4","dxDataGrid-editingEditRow":"\u7F16\u8F91","dxDataGrid-editingSaveRowChanges":"\u4FDD\u5B58","dxDataGrid-editingCancelRowChanges":"\u53D6\u6D88","dxDataGrid-editingDeleteRow":"\u5220\u9664","dxDataGrid-editingUndeleteRow":"\u53D6\u6D88\u5220\u9664","dxDataGrid-editingConfirmDeleteMessage":"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u8BB0\u5F55\u5417\uFF1F","dxDataGrid-validationCancelChanges":"\u53D6\u6D88\u66F4\u6539","dxDataGrid-groupPanelEmptyText":"\u62D6\u52A8\u5217\u6807\u9898\u81F3\u6B64\u4EE5\u8FDB\u884C\u5217\u5206\u7EC4","dxDataGrid-noDataText":"\u65E0\u6570\u636E","dxDataGrid-searchPanelPlaceholder":"\u641C\u7D22...","dxDataGrid-filterRowShowAllText":"(\u5168\u90E8)","dxDataGrid-filterRowResetOperationText":"\u91CD\u7F6E","dxDataGrid-filterRowOperationEquals":"\u7B49\u4E8E","dxDataGrid-filterRowOperationNotEquals":"\u4E0D\u7B49\u4E8E","dxDataGrid-filterRowOperationLess":"\u5C0F\u4E8E","dxDataGrid-filterRowOperationLessOrEquals":"\u5C0F\u4E8E\u6216\u7B49\u4E8E","dxDataGrid-filterRowOperationGreater":"\u5927\u4E8E","dxDataGrid-filterRowOperationGreaterOrEquals":"\u5927\u4E8E\u6216\u7B49\u4E8E","dxDataGrid-filterRowOperationStartsWith":"\u4EE5...\u5F00\u59CB","dxDataGrid-filterRowOperationContains":"\u5305\u542B","dxDataGrid-filterRowOperationNotContains":"\u4E0D\u5305\u542B","dxDataGrid-filterRowOperationEndsWith":"\u7ED3\u675F\u4E8E","dxDataGrid-filterRowOperationBetween":"\u4E4B\u95F4","dxDataGrid-filterRowOperationBetweenStartText":"\u5F00\u59CB","dxDataGrid-filterRowOperationBetweenEndText":"\u7ED3\u675F","dxDataGrid-applyFilterText":"\u5E94\u7528\u8FC7\u6EE4\u5668","dxDataGrid-trueText":"\u771F","dxDataGrid-falseText":"\u5047","dxDataGrid-sortingAscendingText":"\u5347\u5E8F\u6392\u5E8F","dxDataGrid-sortingDescendingText":"\u964D\u5E8F\u6392\u5E8F","dxDataGrid-sortingClearText":"\u6E05\u9664\u6392\u5E8F","dxDataGrid-editingSaveAllChanges":"\u4FDD\u5B58\u4FEE\u6539","dxDataGrid-editingCancelAllChanges":"\u653E\u5F03\u4FEE\u6539","dxDataGrid-editingAddRow":"\u6DFB\u52A0\u4E00\u884C","dxDataGrid-summaryMin":"\u6700\u5C0F\u503C: {0}","dxDataGrid-summaryMinOtherColumn":"{1} \u7684\u6700\u5C0F\u503C\u4E3A {0}","dxDataGrid-summaryMax":"\u6700\u5927\u503C: {0}","dxDataGrid-summaryMaxOtherColumn":"{1} \u7684\u6700\u5927\u503C\u4E3A {0}","dxDataGrid-summaryAvg":"\u5E73\u5747\u503C: {0}","dxDataGrid-summaryAvgOtherColumn":"{1} \u7684\u5E73\u5747\u503C\u4E3A {0}","dxDataGrid-summarySum":"\u603B\u548C: {0}","dxDataGrid-summarySumOtherColumn":"{1} \u7684\u603B\u548C\u4E3A {0}","dxDataGrid-summaryCount":"\u8BA1\u6570: {0}","dxDataGrid-columnFixingFix":"\u56FA\u5B9A","dxDataGrid-columnFixingUnfix":"\u4E0D\u56FA\u5B9A","dxDataGrid-columnFixingLeftPosition":"\u5411\u5DE6","dxDataGrid-columnFixingRightPosition":"\u5411\u53F3","dxDataGrid-exportTo":"\u5BFC\u51FA","dxDataGrid-exportToExcel":"\u5BFC\u51FAExcel\u6587\u4EF6","dxDataGrid-exporting":"\u5BFC\u51FA...","dxDataGrid-excelFormat":"Excel\u6587\u4EF6","dxDataGrid-selectedRows":"\u5DF2\u9009\u884C","dxDataGrid-exportSelectedRows":"\u5BFC\u51FA\u5DF2\u9009\u884C","dxDataGrid-exportAll":"\u5BFC\u51FA\u6240\u6709\u6570\u636E","dxDataGrid-headerFilterEmptyValue":"(\u7A7A\u767D)","dxDataGrid-headerFilterOK":"\u597D","dxDataGrid-headerFilterCancel":"\u53D6\u6D88","dxDataGrid-ariaColumn":"\u5217","dxDataGrid-ariaValue":"\u503C","dxDataGrid-ariaFilterCell":"\u8FC7\u6EE4\u5355\u5143","dxDataGrid-ariaCollapse":"\u6298\u53E0","dxDataGrid-ariaExpand":"\u5C55\u5F00","dxDataGrid-ariaDataGrid":"\u6570\u636E\u7F51\u683C","dxDataGrid-ariaSearchInGrid":"\u5728\u6570\u636E\u7F51\u683C\u4E2D\u641C\u7D22","dxDataGrid-ariaSelectAll":"\u5168\u9009","dxDataGrid-ariaSelectRow":"\u9009\u62E9\u884C","dxDataGrid-filterBuilderPopupTitle":"\u8FC7\u6EE4\u5668\u751F\u6210\u5668","dxDataGrid-filterPanelCreateFilter":"\u521B\u5EFA\u8FC7\u6EE4\u5668","dxDataGrid-filterPanelClearFilter":"\u6E05\u7A7A","dxDataGrid-filterPanelFilterEnabledHint":"\u542F\u7528\u8BE5\u8FC7\u6EE4\u5668","dxTreeList-ariaTreeList":"\u6811\u72B6\u5217\u8868","dxTreeList-editingAddRowToNode":"\u6DFB\u52A0","dxPager-infoText":"\u7B2C{0}\u9875,\u5171{1}\u9875 ({2} \u4E2A\u9879\u76EE)","dxPager-pagesCountText":"\u5230","dxPager-pageSizesAllText":"\u5168\u90E8","dxPivotGrid-grandTotal":"\u5408\u8BA1","dxPivotGrid-total":"{0} \u603B\u8BA1","dxPivotGrid-fieldChooserTitle":"\u5B57\u6BB5\u9009\u62E9\u5668","dxPivotGrid-showFieldChooser":"\u663E\u793A\u5B57\u6BB5\u9009\u62E9\u5668","dxPivotGrid-expandAll":"\u5168\u90E8\u5C55\u5F00","dxPivotGrid-collapseAll":"\u5168\u90E8\u6298\u53E0","dxPivotGrid-sortColumnBySummary":'\u6309 "{0}" \u5217\u6392\u5E8F',"dxPivotGrid-sortRowBySummary":'\u6309 "{0}" \u884C\u6392\u5E8F',"dxPivotGrid-removeAllSorting":"\u6E05\u9664\u6240\u6709\u6392\u5E8F","dxPivotGrid-dataNotAvailable":"\u4E0D\u9002\u7528","dxPivotGrid-rowFields":"\u884C\u5B57\u6BB5","dxPivotGrid-columnFields":"\u5217\u5B57\u6BB5","dxPivotGrid-dataFields":"\u6570\u636E\u5B57\u6BB5","dxPivotGrid-filterFields":"\u8FC7\u6EE4\u5B57\u6BB5","dxPivotGrid-allFields":"\u6240\u6709\u5B57\u6BB5","dxPivotGrid-columnFieldArea":"\u5C06\u5217\u62D6\u52A8\u5230\u6B64\u5904","dxPivotGrid-dataFieldArea":"\u5C06\u6570\u636E\u62D6\u52A8\u5230\u6B64\u5904","dxPivotGrid-rowFieldArea":"\u5C06\u884C\u5B57\u6BB5\u62D6\u5230\u5230\u6B64\u6B21","dxPivotGrid-filterFieldArea":"\u62D6\u52A8\u7B5B\u9009\u5B57\u6BB5\u5230\u6B64\u5904","dxScheduler-editorLabelTitle":"\u6807\u9898","dxScheduler-editorLabelStartDate":"\u5F00\u59CB\u65E5\u671F","dxScheduler-editorLabelEndDate":"\u7ED3\u675F\u65E5\u671F","dxScheduler-editorLabelDescription":"\u63CF\u8FF0","dxScheduler-editorLabelRecurrence":"\u91CD\u590D","dxScheduler-openAppointment":"\u6253\u5F00\u65E5\u7A0B","dxScheduler-recurrenceNever":"\u6C38\u4E0D","dxScheduler-recurrenceMinutely":"Minutely","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"\u65E5\u5E38","dxScheduler-recurrenceWeekly":"\u6BCF\u5468","dxScheduler-recurrenceMonthly":"\u6BCF\u6708","dxScheduler-recurrenceYearly":"\u6BCF\u5E74","dxScheduler-recurrenceRepeatEvery":"\u6240\u6709","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"\u505C\u6B62\u91CD\u590D","dxScheduler-recurrenceAfter":"\u4E4B\u540E","dxScheduler-recurrenceOn":"\u5728","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"\u65E5","dxScheduler-recurrenceRepeatWeekly":"\u5468","dxScheduler-recurrenceRepeatMonthly":"\u6708","dxScheduler-recurrenceRepeatYearly":"\u5E74","dxScheduler-switcherDay":"\u65E5","dxScheduler-switcherWeek":"\u5468","dxScheduler-switcherWorkWeek":"\u5DE5\u4F5C\u5468","dxScheduler-switcherMonth":"\u6708","dxScheduler-switcherAgenda":"\u8BAE\u7A0B","dxScheduler-switcherTimelineDay":"\u65F6\u95F4\u8F74\u65E5","dxScheduler-switcherTimelineWeek":"\u65F6\u95F4\u8F74\u5468","dxScheduler-switcherTimelineWorkWeek":"\u65F6\u95F4\u8F74\u5DE5\u4F5C\u5468","dxScheduler-switcherTimelineMonth":"\u65F6\u95F4\u8F74\u6708","dxScheduler-recurrenceRepeatOnDate":"\u4E8E\u65E5\u671F","dxScheduler-recurrenceRepeatCount":"\u4E8B\u4EF6","dxScheduler-allDay":"\u5168\u5929","dxScheduler-confirmRecurrenceEditMessage":"\u4F60\u60F3\u53EA\u4FEE\u6539\u8BE5\u65E5\u7A0B\u8FD8\u662F\u60F3\u4FEE\u6539\u6574\u4E2A\u7CFB\u5217\u7684\u65E5\u7A0B?","dxScheduler-confirmRecurrenceDeleteMessage":"\u4F60\u60F3\u53EA\u5220\u9664\u8FD9\u4E2A\u65E5\u7A0B\u8FD8\u662F\u60F3\u5220\u9664\u6574\u4E2A\u7CFB\u5217\u7684\u65E5\u7A0B?","dxScheduler-confirmRecurrenceEditSeries":"\u4FEE\u6539\u8BE5\u7CFB\u5217\u7684\u65E5\u7A0B","dxScheduler-confirmRecurrenceDeleteSeries":"\u5220\u9664\u8BE5\u7CFB\u5217\u7684\u65E5\u7A0B","dxScheduler-confirmRecurrenceEditOccurrence":"\u4FEE\u6539\u65E5\u7A0B","dxScheduler-confirmRecurrenceDeleteOccurrence":"\u5220\u9664\u65E5\u7A0B","dxScheduler-noTimezoneTitle":"\u6CA1\u6709\u65F6\u533A","dxScheduler-moreAppointments":"{0} \u66F4\u591A","dxCalendar-todayButtonText":"\u4ECA\u5929","dxCalendar-ariaWidgetName":"\u65E5\u5386","dxColorView-ariaRed":"\u7EA2\u8272","dxColorView-ariaGreen":"\u7EFF\u8272","dxColorView-ariaBlue":"\u84DD\u8272","dxColorView-ariaAlpha":"\u900F\u660E\u5EA6","dxColorView-ariaHex":"\u8272\u6807","dxTagBox-selected":"{0} \u5DF2\u9009\u62E9","dxTagBox-allSelected":"\u5DF2\u5168\u9009 ({0})","dxTagBox-moreSelected":"{0} \u66F4\u591A","vizExport-printingButtonText":"\u6253\u5370","vizExport-titleMenuText":"\u5BFC\u51FA\u4E2D/\u6253\u5370\u4E2D","vizExport-exportButtonText":"{0} \u6587\u4EF6","dxFilterBuilder-and":"\u4E0E","dxFilterBuilder-or":"\u6216","dxFilterBuilder-notAnd":"\u4E0E\u975E","dxFilterBuilder-notOr":"\u6216\u975E","dxFilterBuilder-addCondition":"\u6DFB\u52A0\u6761\u4EF6","dxFilterBuilder-addGroup":"\u6DFB\u52A0\u7EC4","dxFilterBuilder-enterValueText":"<\u8F93\u5165\u503C>","dxFilterBuilder-filterOperationEquals":"\u7B49\u4E8E","dxFilterBuilder-filterOperationNotEquals":"\u4E0D\u7B49\u4E8E","dxFilterBuilder-filterOperationLess":"\u5C0F\u4E8E","dxFilterBuilder-filterOperationLessOrEquals":"\u5C0F\u4E8E\u6216\u7B49\u4E8E","dxFilterBuilder-filterOperationGreater":"\u5927\u4E8E","dxFilterBuilder-filterOperationGreaterOrEquals":"\u5927\u4E8E\u6216\u7B49\u4E8E","dxFilterBuilder-filterOperationStartsWith":"\u5F00\u59CB\u4E8E","dxFilterBuilder-filterOperationContains":"\u5305\u542B","dxFilterBuilder-filterOperationNotContains":"\u4E0D\u5305\u542B","dxFilterBuilder-filterOperationEndsWith":"\u7ED3\u675F\u4E8E","dxFilterBuilder-filterOperationIsBlank":"\u7A7A","dxFilterBuilder-filterOperationIsNotBlank":"\u4E0D\u4E3A\u7A7A","dxFilterBuilder-filterOperationBetween":"\u4E4B\u95F4","dxFilterBuilder-filterOperationAnyOf":"\u4EFB\u4F55\u4E00\u4E2A","dxFilterBuilder-filterOperationNoneOf":"\u4EFB\u4F55\u4E00\u4E2A\u90FD\u4E0D","dxHtmlEditor-dialogColorCaption":"\u66F4\u6539\u5B57\u4F53\u989C\u8272","dxHtmlEditor-dialogBackgroundCaption":"\u66F4\u6539\u80CC\u666F\u989C\u8272","dxHtmlEditor-dialogLinkCaption":"\u6DFB\u52A0\u94FE\u63A5","dxHtmlEditor-dialogLinkUrlField":"\u94FE\u63A5\u5730\u5740","dxHtmlEditor-dialogLinkTextField":"\u94FE\u63A5\u6587\u5B57","dxHtmlEditor-dialogLinkTargetField":"\u5728\u65B0\u7A97\u53E3\u4E2D\u6253\u5F00","dxHtmlEditor-dialogImageCaption":"\u6DFB\u52A0\u56FE\u7247","dxHtmlEditor-dialogImageUrlField":"\u56FE\u7247\u5730\u5740","dxHtmlEditor-dialogImageAltField":"\u66FF\u4EE3\u6587\u5B57","dxHtmlEditor-dialogImageWidthField":"\u5BBD (px)","dxHtmlEditor-dialogImageHeightField":"\u957F (px)","dxHtmlEditor-dialogInsertTableRowsField":"!TODO","dxHtmlEditor-dialogInsertTableColumnsField":"!TODO","dxHtmlEditor-dialogInsertTableCaption":"!TODO","dxHtmlEditor-heading":"\u6807\u9898","dxHtmlEditor-normalText":"\u6B63\u6587","dxHtmlEditor-background":"TODO","dxHtmlEditor-bold":"TODO","dxHtmlEditor-color":"TODO","dxHtmlEditor-font":"TODO","dxHtmlEditor-italic":"TODO","dxHtmlEditor-link":"TODO","dxHtmlEditor-image":"TODO","dxHtmlEditor-size":"TODO","dxHtmlEditor-strike":"TODO","dxHtmlEditor-subscript":"TODO","dxHtmlEditor-superscript":"TODO","dxHtmlEditor-underline":"TODO","dxHtmlEditor-blockquote":"TODO","dxHtmlEditor-header":"TODO","dxHtmlEditor-increaseIndent":"TODO","dxHtmlEditor-decreaseIndent":"TODO","dxHtmlEditor-orderedList":"TODO","dxHtmlEditor-bulletList":"TODO","dxHtmlEditor-alignLeft":"TODO","dxHtmlEditor-alignCenter":"TODO","dxHtmlEditor-alignRight":"TODO","dxHtmlEditor-alignJustify":"TODO","dxHtmlEditor-codeBlock":"TODO","dxHtmlEditor-variable":"TODO","dxHtmlEditor-undo":"TODO","dxHtmlEditor-redo":"TODO","dxHtmlEditor-clear":"TODO","dxHtmlEditor-insertTable":"TODO","dxHtmlEditor-insertRowAbove":"TODO","dxHtmlEditor-insertRowBelow":"TODO","dxHtmlEditor-insertColumnLeft":"TODO","dxHtmlEditor-insertColumnRight":"TODO","dxHtmlEditor-deleteColumn":"TODO","dxHtmlEditor-deleteRow":"TODO","dxHtmlEditor-deleteTable":"TODO","dxHtmlEditor-list":"TODO","dxHtmlEditor-ordered":"TODO","dxHtmlEditor-bullet":"TODO","dxHtmlEditor-align":"TODO","dxHtmlEditor-center":"TODO","dxHtmlEditor-left":"TODO","dxHtmlEditor-right":"TODO","dxHtmlEditor-indent":"TODO","dxHtmlEditor-justify":"TODO","dxFileManager-newDirectoryName":"TODO","dxFileManager-rootDirectoryName":"TODO","dxFileManager-errorNoAccess":"TODO","dxFileManager-errorDirectoryExistsFormat":"TODO","dxFileManager-errorFileExistsFormat":"TODO","dxFileManager-errorFileNotFoundFormat":"TODO","dxFileManager-errorDirectoryNotFoundFormat":"TODO","dxFileManager-errorWrongFileExtension":"TODO","dxFileManager-errorMaxFileSizeExceeded":"TODO","dxFileManager-errorInvalidSymbols":"TODO","dxFileManager-errorDefault":"TODO","dxFileManager-errorDirectoryOpenFailed":"TODO","dxDiagram-categoryGeneral":"TODO","dxDiagram-categoryFlowchart":"TODO","dxDiagram-categoryOrgChart":"TODO","dxDiagram-categoryContainers":"TODO","dxDiagram-categoryCustom":"TODO","dxDiagram-commandExportToSvg":"TODO","dxDiagram-commandExportToPng":"TODO","dxDiagram-commandExportToJpg":"TODO","dxDiagram-commandUndo":"TODO","dxDiagram-commandRedo":"TODO","dxDiagram-commandFontName":"TODO","dxDiagram-commandFontSize":"TODO","dxDiagram-commandBold":"TODO","dxDiagram-commandItalic":"TODO","dxDiagram-commandUnderline":"TODO","dxDiagram-commandTextColor":"TODO","dxDiagram-commandLineColor":"TODO","dxDiagram-commandLineWidth":"TODO","dxDiagram-commandLineStyle":"TODO","dxDiagram-commandLineStyleSolid":"TODO","dxDiagram-commandLineStyleDotted":"TODO","dxDiagram-commandLineStyleDashed":"TODO","dxDiagram-commandFillColor":"TODO","dxDiagram-commandAlignLeft":"TODO","dxDiagram-commandAlignCenter":"TODO","dxDiagram-commandAlignRight":"TODO","dxDiagram-commandConnectorLineType":"TODO","dxDiagram-commandConnectorLineStraight":"TODO","dxDiagram-commandConnectorLineOrthogonal":"TODO","dxDiagram-commandConnectorLineStart":"TODO","dxDiagram-commandConnectorLineEnd":"TODO","dxDiagram-commandConnectorLineNone":"TODO","dxDiagram-commandConnectorLineArrow":"TODO","dxDiagram-commandFullscreen":"TODO","dxDiagram-commandUnits":"TODO","dxDiagram-commandPageSize":"TODO","dxDiagram-commandPageOrientation":"TODO","dxDiagram-commandPageOrientationLandscape":"TODO","dxDiagram-commandPageOrientationPortrait":"TODO","dxDiagram-commandPageColor":"TODO","dxDiagram-commandShowGrid":"TODO","dxDiagram-commandSnapToGrid":"TODO","dxDiagram-commandGridSize":"TODO","dxDiagram-commandZoomLevel":"TODO","dxDiagram-commandAutoZoom":"TODO","dxDiagram-commandFitToContent":"TODO","dxDiagram-commandFitToWidth":"TODO","dxDiagram-commandAutoZoomByContent":"TODO","dxDiagram-commandAutoZoomByWidth":"TODO","dxDiagram-commandSimpleView":"TODO","dxDiagram-commandCut":"TODO","dxDiagram-commandCopy":"TODO","dxDiagram-commandPaste":"TODO","dxDiagram-commandSelectAll":"TODO","dxDiagram-commandDelete":"TODO","dxDiagram-commandBringToFront":"TODO","dxDiagram-commandSendToBack":"TODO","dxDiagram-commandLock":"TODO","dxDiagram-commandUnlock":"TODO","dxDiagram-commandInsertShapeImage":"TODO","dxDiagram-commandEditShapeImage":"TODO","dxDiagram-commandDeleteShapeImage":"TODO","dxDiagram-commandLayoutLeftToRight":"TODO","dxDiagram-commandLayoutRightToLeft":"TODO","dxDiagram-commandLayoutTopToBottom":"TODO","dxDiagram-commandLayoutBottomToTop":"TODO","dxDiagram-unitIn":"TODO","dxDiagram-unitCm":"TODO","dxDiagram-unitPx":"TODO","dxDiagram-dialogButtonOK":"TODO","dxDiagram-dialogButtonCancel":"TODO","dxDiagram-dialogInsertShapeImageTitle":"TODO","dxDiagram-dialogEditShapeImageTitle":"TODO","dxDiagram-dialogEditShapeImageSelectButton":"TODO","dxDiagram-dialogEditShapeImageLabelText":"TODO","dxDiagram-uiExport":"TODO","dxDiagram-uiProperties":"TODO","dxDiagram-uiSettings":"TODO","dxDiagram-uiShowToolbox":"TODO","dxDiagram-uiSearch":"TODO","dxDiagram-uiStyle":"TODO","dxDiagram-uiLayout":"TODO","dxDiagram-uiLayoutTree":"TODO","dxDiagram-uiLayoutLayered":"TODO","dxDiagram-uiDiagram":"TODO","dxDiagram-uiText":"TODO","dxDiagram-uiObject":"TODO","dxDiagram-uiConnector":"TODO","dxDiagram-uiPage":"TODO","dxDiagram-shapeText":"TODO","dxDiagram-shapeRectangle":"TODO","dxDiagram-shapeEllipse":"TODO","dxDiagram-shapeCross":"TODO","dxDiagram-shapeTriangle":"TODO","dxDiagram-shapeDiamond":"TODO","dxDiagram-shapeHeart":"TODO","dxDiagram-shapePentagon":"TODO","dxDiagram-shapeHexagon":"TODO","dxDiagram-shapeOctagon":"TODO","dxDiagram-shapeStar":"TODO","dxDiagram-shapeArrowLeft":"TODO","dxDiagram-shapeArrowUp":"TODO","dxDiagram-shapeArrowRight":"TODO","dxDiagram-shapeArrowDown":"TODO","dxDiagram-shapeArrowUpDown":"TODO","dxDiagram-shapeArrowLeftRight":"TODO","dxDiagram-shapeProcess":"TODO","dxDiagram-shapeDecision":"TODO","dxDiagram-shapeTerminator":"TODO","dxDiagram-shapePredefinedProcess":"TODO","dxDiagram-shapeDocument":"TODO","dxDiagram-shapeMultipleDocuments":"TODO","dxDiagram-shapeManualInput":"TODO","dxDiagram-shapePreparation":"TODO","dxDiagram-shapeData":"TODO","dxDiagram-shapeDatabase":"TODO","dxDiagram-shapeHardDisk":"TODO","dxDiagram-shapeInternalStorage":"TODO","dxDiagram-shapePaperTape":"TODO","dxDiagram-shapeManualOperation":"TODO","dxDiagram-shapeDelay":"TODO","dxDiagram-shapeStoredData":"TODO","dxDiagram-shapeDisplay":"TODO","dxDiagram-shapeMerge":"TODO","dxDiagram-shapeConnector":"TODO","dxDiagram-shapeOr":"TODO","dxDiagram-shapeSummingJunction":"TODO","dxDiagram-shapeContainerDefaultText":"TODO","dxDiagram-shapeVerticalContainer":"TODO","dxDiagram-shapeHorizontalContainer":"TODO","dxDiagram-shapeCardDefaultText":"TODO","dxDiagram-shapeCardWithImageOnLeft":"TODO","dxDiagram-shapeCardWithImageOnTop":"TODO","dxDiagram-shapeCardWithImageOnRight":"TODO","dxGantt-dialogTitle":"TODO","dxGantt-dialogStartTitle":"TODO","dxGantt-dialogEndTitle":"TODO","dxGantt-dialogProgressTitle":"TODO","dxGantt-dialogResourcesTitle":"TODO","dxGantt-dialogResourceManagerTitle":"TODO","dxGantt-dialogTaskDetailsTitle":"TODO","dxGantt-dialogEditResourceListHint":"TODO","dxGantt-dialogEditNoResources":"TODO","dxGantt-dialogButtonAdd":"TODO","dxGantt-contextMenuNewTask":"TODO","dxGantt-contextMenuNewSubtask":"TODO","dxGantt-contextMenuDeleteTask":"TODO","dxGantt-contextMenuDeleteDependency":"TODO","dxGantt-dialogTaskDeleteConfirmation":"TODO","dxGantt-dialogDependencyDeleteConfirmation":"TODO","dxGantt-dialogResourcesDeleteConfirmation":"TODO","dxGantt-dialogConstraintCriticalViolationMessage":"TODO","dxGantt-dialogConstraintViolationMessage":"TODO","dxGantt-dialogCancelOperationMessage":"TODO","dxGantt-dialogDeleteDependencyMessage":"TODO","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"TODO","dxGantt-undo":"TODO","dxGantt-redo":"TODO","dxGantt-expandAll":"TODO","dxGantt-collapseAll":"TODO","dxGantt-addNewTask":"TODO","dxGantt-deleteSelectedTask":"TODO","dxGantt-zoomIn":"TODO","dxGantt-zoomOut":"TODO","dxGantt-fullScreen":"TODO","dxGantt-quarter":"TODO"}},l4=vt.locale.bind(vt),d4=xe.load.bind(xe);xe.format.bind(xe),xt.format.bind(xt),xt.parse.bind(xt),ft.format.bind(ft),ft.parse.bind(ft);class Nc extends oM{constructor(t){super();pn(this,"name","pivot-grid-plus");pn(this,"defaultDataSource");return this.defaultOption={wordWrapEnabled:!1,expandAll:!0,showBorders:!0,inheritHeight:!1,useBetterScroller:!0,emptyPlaceHolder:void 0,exportable:!0,summaryType:"count",customFields:[]},this.options=Object.assign(this.defaultOption,t),this.defaultDataSource=ny(this.options.dataSource),this.init()}init(){return this.setLocale(),this.customizePivotGrid(),this.customOptionsHandler(this.options),this.DP=new hx(this.options.el,this.options),this.mixin()}setLocale(){d4(o4),l4("zh-CN")}updateOptions(t){let i=["expandAll","emptyPlaceHolder","summaryType","wordWrapEnabled","tdCustomStyle","customFields","dataSource"];this.options=Object.assign(this.options,{dataSource:ny(this.defaultDataSource)},t),this.customOptionsHandler(this.options),Object.keys(t).map(r=>{i.includes(r)||this.DP.option(r,this.options[r])}),this.DP.option("dataSource",this.options.dataSource)}expandAll(){if(!this.DP)return;let t=this.DP.getDataSource(),{row:i,column:r}=this.getFirstField();i&&t.expandAll(i.index),r&&t.expandAll(r.index)}collapseAll(){if(!this.DP)return;let t=this.DP.getDataSource(),{row:i,column:r}=this.getFirstField();i&&t.collapseAll(i.index),r&&t.collapseAll(r.index)}mixin(){return Object.getOwnPropertyNames(Nc.prototype).filter(t=>!["constructor","mixin","init"].includes(t)).forEach(t=>{nM(this[t])&&(this.DP[t]=this[t].bind(this))}),this.DP}customizePivotGrid(){this.setClassName(this.name),this.options.inheritHeight&&this.setInheritHeight(),this.options.useBetterScroller&&this.useBetterScroller(),this.options.exportable&&this.setExportable()}customOptionsHandler(t){var i,r,n,a,s,o;!((i=t.dataSource)==null?void 0:i.fields)||(t.expandAll&&dn.expandAllHandler((r=t.dataSource)==null?void 0:r.fields),t.emptyPlaceHolder&&dn.setEmptyPlaceHolder((n=t.dataSource)==null?void 0:n.fields,t.emptyPlaceHolder),t.summaryType&&dn.setSummaryType((a=t.dataSource)==null?void 0:a.fields,t.summaryType),t.wordWrapEnabled&&dn.setWordWrapHandler((s=t.dataSource)==null?void 0:s.fields,t.wordWrapEnabled),t.tdCustomStyle&&dn.setTdCustomStyle(t),((o=t.customFields)==null?void 0:o.length)>0&&dn.setCustomFields(t))}destroy(){var t,i;(i=(t=this.DP)==null?void 0:t.dispose)==null||i.call(t)}}ze.PivotGridPlus=Nc,Object.defineProperty(ze,"__esModule",{value:!0}),ze[Symbol.toStringTag]="Module"});
